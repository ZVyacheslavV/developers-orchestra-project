import{i as K,a as L,g as A,P as Se,S as we,b as Le,N as Ee}from"./assets/vendor-DZ7zuj1H.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const p of l.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&n(p)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();const a={feedbacksContainer:document.querySelector(".feedbacks-container"),artistsList:document.querySelector("#artists-list"),artistDetailsModal:document.querySelector(".artist-details-modal"),artistDetailsModalCloseBtn:document.querySelector(".artist-details-modal-close-btn"),menuGenres:document.querySelector(".dropdown-menu-genres"),menuSort:document.querySelector(".dropdown-menu-sort"),panelSearch:document.querySelector(".filters-content"),btnGenres:document.querySelector(".dropdown-toggle-genres"),btnSort:document.querySelector(".dropdown-toggle-sort"),loader:document.querySelector(".loader"),btnSearch:document.querySelector(".search-and-filters-toggle"),searchInput:document.querySelector(".search-input"),searchBtnRequest:document.querySelector(".search-btn"),iconSearch:document.querySelector(".dropdown-icon-search"),iconSort:document.querySelector(".sort-icon"),iconGenres:document.querySelector(".genres-icon"),loaderArtistsWrapper:document.querySelector(".artists-loader-container"),toggleBtn:document.querySelector(".header-toggle"),mobileMenu:document.querySelector(".header-mobile-menu"),menuLinks:document.querySelectorAll(".header-mob-nav-link"),artistDetailsModalBackdrope:document.querySelector(".artist-details-backdrop"),heroBtn:document.querySelector(".hero-btn"),resetBtn:document.querySelector(".filters-reset-btn"),feedbackLoader:document.querySelector(".feedback-loader"),feedbackLoaderContainer:document.querySelector(".feedback-loader-container")},ke="https://sound-wave.b.goit.study/api",S={ARTISTS:"/artists",ARTIST_BY_ID:"/artists/",ARTIST_ALBUMS_BY_ID:"/albums",GENRES:"/genres",FEEDBACKS:"/feedbacks",PRODUCTS_BY_CATEGORY:"/products/category/"},G=8,Ae=10;//!======================================================
function E(e="Something went wrong. Please try again later.",t="topCenter"){K.error({title:"",message:e,position:t,timeout:3e3,progressBar:!1})}function Te(e="Thank you! Your feedback means a lot to us.",t="topCenter",s="ico-success"){K.success({title:"",message:e,position:t,timeout:3e3,progressBar:!1,icon:s})}function ue(e="We couldn’t load the reviews. Please try again later.",t="topRight"){K.error({title:"",message:e,position:t,timeout:3e3,progressBar:!1})}function $e(e="Thank you! Your feedback means a lot to us.",t="topRight"){K.success({title:"",message:e,position:t,timeout:3e3,progressBar:!1})}//!======================================================
function R(){a.loaderArtistsWrapper.classList.add("hidden")}function O(){a.loaderArtistsWrapper.classList.remove("hidden")}//!======================================================
function Ce(){var e,t,s,n;(e=a.feedbackLoader)==null||e.classList.add("hidden"),(t=a.feedbackLoaderContainer)==null||t.classList.add("hidden"),(s=a.feedbackLoaderContainer)==null||s.setAttribute("aria-hidden","true"),(n=a.feedbackLoader)==null||n.setAttribute("aria-hidden","true")}function Me(){var e,t,s,n;(e=a.feedbackLoaderContainer)==null||e.classList.remove("hidden"),(t=a.feedbackLoader)==null||t.classList.remove("hidden"),(s=a.feedbackLoaderContainer)==null||s.setAttribute("aria-hidden","false"),(n=a.feedbackLoader)==null||n.setAttribute("aria-hidden","false")}//!======================================================
document.addEventListener("DOMContentLoaded",()=>{const{toggleBtn:e,mobileMenu:t,menuLinks:s}=a;function n(){t.classList.add("active"),e.classList.add("active")}function r(){t.classList.remove("active"),e.classList.remove("active")}e==null||e.addEventListener("click",()=>{t.classList.contains("active")?r():n()}),s==null||s.forEach(l=>l.addEventListener("click",r))});L.defaults.baseURL=ke;const J=async e=>{const{data:t}=await L.get(`${S.ARTISTS}?limit=${G}&page=${e}`);return t},qe=async e=>{const{data:t}=await L.get(`${S.ARTIST_BY_ID}${e}`);return t},Be=async e=>{const{data:t}=await L.get(`${S.ARTIST_BY_ID}${e}${S.ARTIST_ALBUMS_BY_ID}`);return t},xe=async(e=1)=>{const{data:t}=await L.get(`${S.FEEDBACKS}?limit=${Ae}&page=${e}`);return t},Ie=async()=>{const{data:e}=await L.get(`${S.GENRES}`);return e},$=async({name:e,page:t=1,sorted:s="0",genre:n=""})=>{const{data:r}=await L.get(`${S.ARTISTS}?limit=${G}&page=${t}${e!=null&&e.length?`&name=${e}`:""}${s==="2"?"&sortName=desc":s==="1"?"&sortName=asc":""}${n?`&genre=${n}`:""}`);return r},Ge=async(e,t,s)=>{await L.post(`${S.FEEDBACKS}`,{name:e,rating:t,descr:s})},o={tlOpenSearch:window.matchMedia("(min-width: 1440px)").matches?null:A.timeline({paused:!0}).to(a.iconSearch,{rotate:180,duration:.35,ease:"power2.out"},0).fromTo(a.panelSearch,{opacity:0,y:-10,pointerEvents:"none"},{opacity:1,y:0,duration:.4,pointerEvents:"auto",ease:"power3.out"},0).from(a.panelSearch.children,{opacity:0,y:-6,stagger:.05,duration:.25,ease:"power2.out"},.1),tlCloseSearch:window.matchMedia("(min-width: 1440px)").matches?null:A.timeline({paused:!0}).to(a.iconSearch,{rotate:0,duration:.3,ease:"power2.in"},0).to(a.panelSearch,{opacity:0,y:-10,duration:.3,pointerEvents:"none",ease:"power2.in"},0),tlOpenSort:A.timeline({paused:!0}).to(a.iconSort,{rotate:180,duration:.35,ease:"power2.out"},0).fromTo(a.menuSort,{opacity:0,y:-10,pointerEvents:"none"},{opacity:1,y:0,duration:.4,pointerEvents:"auto",ease:"power3.out"},0).from(a.menuSort.children,{opacity:0,y:-6,stagger:.05,duration:.25,ease:"power2.out"},.1),tlCloseSort:A.timeline({paused:!0}).to(a.iconSort,{rotate:0,duration:.3,ease:"power2.in"},0).to(a.menuSort,{opacity:0,y:-10,duration:.3,pointerEvents:"none",ease:"power2.in"},0),tlOpenGenres:A.timeline({paused:!0}).to(a.iconGenres,{rotate:180,duration:.35,ease:"power2.out"},0).fromTo(a.menuGenres,{opacity:0,y:-10,pointerEvents:"none"},{opacity:1,y:0,duration:.4,pointerEvents:"auto",ease:"power3.out"},0).from(a.menuGenres.children,{opacity:0,y:-6,stagger:.05,duration:.25,ease:"power2.out"},.1),tlCloseGenres:A.timeline({paused:!0}).to(a.iconGenres,{rotate:0,duration:.3,ease:"power2.in"},0).to(a.menuGenres,{opacity:0,y:-10,duration:.3,pointerEvents:"none",ease:"power2.in"},0)};o.tlOpenSort.eventCallback("onStart",()=>{var e;(e=o.tlCloseSort)==null||e.pause(0).progress(0)});o.tlCloseSort.eventCallback("onStart",()=>{var e;(e=o.tlOpenSort)==null||e.pause(0).progress(0)});let c={name:"",page:1,sorted:0,genre:""};Oe();De();Re();Fe();Pe();Ne();He();_e();function Re(){a.searchInput.addEventListener("input",()=>{c.name=a.searchInput.value.trim()});const e=async()=>{var t;if(!((t=c.name)!=null&&t.length)){Te("Silence from you","topCenter",null);return}O();try{const{artists:s}=await $(c);a.artistsList.innerHTML="",w(s)}catch(s){E(`Silence due problem ${s}`)}R(),window.matchMedia("(min-width: 1440px)")||o.tlCloseSearch.play(0)};a.searchBtnRequest.addEventListener("click",e),a.searchInput.addEventListener("keydown",t=>{t.key==="Enter"&&e()})}async function Oe(){try{const t='<li data-value="all">All Genres</li>'+(await Ie()).map(({genre:s})=>`<li data-value="${s}">${s}</li>`).join("");a.menuGenres.insertAdjacentHTML("beforeend",t)}catch(e){E(`While loading genres ${e}`)}}function Fe(){const e=t=>{document.querySelector(".artists-dropdown-sort").contains(t.target)||(o.tlCloseSort.restart(),o.tlCloseGenres.restart(),a.btnSort.classList.remove("open"),a.menuSort.classList.remove("open"))};a.btnSort.addEventListener("click",t=>{t.stopPropagation(),a.menuSort.classList.contains("open")?(o.tlOpenSort.pause(0),o.tlCloseSort.restart(),a.btnSort.classList.remove("open"),a.menuSort.classList.remove("open")):(o.tlOpenGenres.pause(0),o.tlCloseGenres.restart(),a.btnGenres.classList.remove("open"),a.menuGenres.classList.remove("open"),o.tlCloseSort.pause(0),o.tlOpenSort.restart(),a.btnSort.classList.add("open"),a.menuSort.classList.add("open"),document.addEventListener("click",e,{once:!0}))}),a.menuSort.addEventListener("click",async t=>{const s=t.target.closest("li");if(s){a.btnSort.querySelector(".dropdown-label").textContent=s.textContent,a.btnSort.dataset.value=s.dataset.value,c.sorted=s.dataset.value,O();try{const{artists:n}=await $(c);a.artistsList.innerHTML="",w(n)}catch(n){E(`Silence due problem ${n}`)}R(),o.tlOpenSort.pause(0),o.tlCloseSort.restart(),a.btnSort.classList.remove("open"),a.menuSort.classList.remove("open")}})}async function Pe(){const e=t=>{document.querySelector(".artists-dropdown-genres").contains(t.target)||(o.tlCloseGenres.restart(),o.tlCloseSort.restart(),a.btnGenres.classList.remove("open"),a.menuGenres.classList.remove("open"))};a.btnGenres.addEventListener("click",t=>{t.stopPropagation(),a.menuGenres.classList.contains("open")?(o.tlOpenGenres.pause(0),o.tlCloseGenres.restart(),a.btnGenres.classList.remove("open"),a.menuGenres.classList.remove("open")):(o.tlOpenSort.pause(0),o.tlCloseSort.restart(),a.btnSort.classList.remove("open"),a.menuSort.classList.remove("open"),o.tlCloseGenres.pause(0),o.tlOpenGenres.restart(),a.btnGenres.classList.add("open"),a.menuGenres.classList.add("open"),document.addEventListener("click",e,{once:!0}))}),a.menuGenres.addEventListener("click",async t=>{const s=t.target.closest("li");if(s){a.btnGenres.querySelector(".dropdown-label").textContent=s.textContent,a.btnGenres.dataset.value=s.dataset.value,c.genre=s.textContent==="All Genres"?"":s.textContent,O();try{const{artists:n}=await $(c);a.artistsList.innerHTML="",w(n)}catch(n){E(`Silence due problem ${n}`)}R(),o.tlOpenGenres.pause(0),o.tlCloseGenres.restart(),a.btnGenres.classList.remove("open"),a.menuGenres.classList.remove("open")}})}function De(){if(window.matchMedia("(min-width: 1440px)").matches)return;const e=t=>{document.querySelector(".filters-content").contains(t.target)||(o.tlCloseSearch.play(0),document.removeEventListener("click",e))};a.btnSearch.addEventListener("click",t=>{t.stopPropagation(),A.isTweening(a.panelSearch)||a.panelSearch.style.pointerEvents==="auto"?(o.tlOpenSearch.pause(0),o.tlCloseSearch.restart(),document.removeEventListener("click",e)):(o.tlCloseSearch.pause(0),o.tlOpenSearch.restart(),document.addEventListener("click",e))})}async function me(){c={name:"",page:1,sorted:0,genre:""},a.btnGenres.querySelector(".dropdown-label").textContent="Genre",a.btnSort.querySelector(".dropdown-label").textContent="Sorting",a.searchInput.value="",O();try{a.artistsList.innerHTML="";const{artists:e}=await $(c);w(e)}catch(e){E(`Silence due problem ${e}`)}R(),o.tlCloseGenres.play(0),o.tlCloseSort.play(0)}function Ne(){a.resetBtn.addEventListener("click",me)}function He(){a.heroBtn.addEventListener("click",e=>{e.preventDefault(),document.querySelector("#artists").scrollIntoView({behavior:"smooth"})})}function _e(){document.querySelectorAll("button").forEach(e=>{e.addEventListener("click",()=>{e.blur()})})}const Ye=window.matchMedia("(max-width: 767.98px)").matches,je=Ye?3:5;let h=null,z=!1,Y=!1,P=!1;function Ue(){return`
    <div class="no-artists is-hidden" data-no-artists>
      <svg class="no-artists-icon" width="40" height="40" aria-hidden="true">
        <use href="${new URL("/developers-orchestra-project/assets/icons-BrK0qjQT.svg",import.meta.url).href}#icon-error"></use>
      </svg>
      <h2 class="no-artists-title">Silence on the stage…</h2>
      <p class="no-artists-text">
        Looks like no artists match your filters.<br />
        Try changing them or hit “Reset Filters” to bring back the beat.
      </p>
      <button class="btn-reset-filters" type="button">Reset filters</button>
    </div>
  `}function Ke(){let e=document.querySelector("[data-no-artists]");return e||(a.artistsList.insertAdjacentHTML("afterend",Ue()),e=document.querySelector("[data-no-artists]")),e}function ze(){Ke().classList.remove("is-hidden");const e=document.querySelector(".btn-reset-filters");e&&e.addEventListener("click",me,{once:!0})}function ne(){var e;(e=document.querySelector("[data-no-artists]"))==null||e.classList.add("is-hidden")}function T(e,t=0){const s=document.querySelector("#tui-pagination");s&&s.classList.toggle("hidden",!e||t<=0)}function j(){return!!(c.name&&c.name.trim().length||c.genre&&c.genre!=="all"&&c.genre!==""||c.sorted&&Number(c.sorted)!==0)}function pe(e=0){h||(h=new Se("#tui-pagination",{totalItems:e,itemsPerPage:G,page:c.page||1,visiblePages:je,centerAlign:!0,usageStatistics:!1,template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn is-active" aria-current="page">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}"></span></a>',disabledMoveButton:'<span class="tui-page-btn is-disabled tui-{{type}}"><span class="tui-ico-{{type}}"></span></span>',moreButton:'<span class="tui-page-btn tui-ellipsis">…</span>'}}),h.on("afterMove",We))}function Z(e){if(!h)return;const t=Math.max(1,Math.ceil(e/G)),s=Math.min(Math.max(c.page||1,1),t);h.getCurrentPage()!==s&&(Y=!0,h.movePageTo(s)),T(t>1,e)}async function re({init:e=!1}={}){O();try{e&&(c.page=1);const s=j()?await $(c):await J(c.page),n=s.artists??[],r=Number(s.totalArtists)||0;if(P=!0,a.artistsList.innerHTML="",w(n),P=!1,pe(r),h.setTotalItems(r),Z(r),!e){const l=Math.ceil(r/G);T(l>1,r),Y||he()}}catch{j()&&E("Failed to fetch artists"),a.artistsList.innerHTML="",w([]),T(!1,0)}finally{R()}}async function We({page:e}){if(!z){z=!0,O();try{c.page=e,a.artistsList.innerHTML="";const s=j()?await $(c):await J(e),n=s.artists??[],r=Number(s.totalArtists)||0;P=!0,w(n),P=!1,h.setTotalItems(r),Z(r),Y?Y=!1:he()}catch{E("Failed to fetch artists"),w([]),T(!1,0)}finally{z=!1,R()}}}function w(e=[]){const t=new URL("/developers-orchestra-project/assets/icons-BrK0qjQT.svg",import.meta.url).href;if(!Array.isArray(e)||e.length===0){ne(),a.artistsList.innerHTML="",ze(),h==null||h.setTotalItems(0),T(!1,0),document.dispatchEvent(new Event("artists:updated"));return}ne();const s=e.map(({_id:n,strArtist:r="Unknown",strArtistThumb:l,strBiographyEN:p="",genres:b=[]})=>{const C=l||"https://placehold.co/736x414?text=No+Image",y=Array.isArray(b)&&b.length?`<ul class="artist-tags">${b.map(M=>`<li class="tag">${M}</li>`).join("")}</ul>`:'<ul class="artist-tags" aria-hidden="true"></ul>';return`
          <li class="artists-item">
            <div class="artist-card" data-id="${n}">
              <img
                src="${C}"
                alt="${r} — portrait"
                class="artist-img"
                loading="lazy"
                decoding="async"
                width="736" height="414"
              >
              ${y}
              <h3 class="artist-name">${r}</h3>
              ${p?`<p class="artist-desc text-clamp-3">${p}</p>`:""}
              <button class="artist-cta" type="button" data-artist-id="${n}" aria-label="Learn more about ${r}">
                Learn More
                <svg class="artist-cta-icon" width="24" height="24" aria-hidden="true">
                  <use href="${t}#icon-arrow-1"></use>
                </svg>
              </button>
            </div>
          </li>`}).join("");a.artistsList.insertAdjacentHTML("beforeend",s),document.dispatchEvent(new Event("artists:updated"))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{c.page=1,re({init:!0})}):(c.page=1,re({init:!0}));function U(){const e=document.querySelector(".js-artists-top")||document.querySelector("#artists");if(!e)return;let t=parseFloat(getComputedStyle(e).scrollMarginTop)||0;t||(t=window.matchMedia("(min-width:1440px)").matches?112:window.matchMedia("(min-width:768px)").matches?96:120);let s=Math.round(e.getBoundingClientRect().top+window.pageYOffset-t);Math.abs(window.pageYOffset-s)<2&&(s=Math.max(0,s-1));const n=window.matchMedia("(prefers-reduced-motion: reduce)").matches;window.scrollTo({top:s,left:0,behavior:n?"auto":"smooth"})}function fe(){const e=document.querySelector(".artists-list");if(!e)return;const t=Array.from(e.querySelectorAll("img"));if(t.length===0){U();return}let s=0;const n=()=>{s++,s===t.length&&U()};t.forEach(r=>{r.complete?n():(r.addEventListener("load",n,{once:!0}),r.addEventListener("error",n,{once:!0}))})}function he(){requestAnimationFrame(U),fe(),setTimeout(U,400)}document.addEventListener("artists:updated",async()=>{if(a.artistsList.children.length!==0&&!P)try{pe();const t=j()?await $({...c,page:1}):await J(c.page||1),s=Number(t.totalArtists)||0;h.setTotalItems(s),Z(s);const n=Math.ceil(s/G);T(n>1,s),fe()}catch{T(!1,0)}});const Qe=112,f={enabled:!1,firstTop:0,lastRowTop:0,maxShift:0,rafId:0};function Ve(e){const s=(getComputedStyle(e).gridTemplateColumns||"").split(" ").filter(Boolean).length;return Math.max(1,s||1)}function oe(e){const t=e.getBoundingClientRect();return Math.round(t.top+window.pageYOffset)}function Xe(){f.enabled||(f.enabled=!0,ge(),window.addEventListener("scroll",ee,{passive:!0}),window.addEventListener("resize",te,{passive:!0}))}function H(){var e;f.enabled&&(f.enabled=!1,window.removeEventListener("scroll",ee),window.removeEventListener("resize",te),cancelAnimationFrame(f.rafId),(e=document.querySelector(".filters-panel"))==null||e.style.setProperty("--filters-shift","0px"))}function ee(){cancelAnimationFrame(f.rafId),f.rafId=requestAnimationFrame(ge)}function ge(){if(!f.enabled)return;const e=document.querySelector(".filters-panel");if(!e)return;const t=window.pageYOffset+Qe-f.firstTop,s=Math.max(0,Math.min(t,f.maxShift));e.style.setProperty("--filters-shift",`${s}px`)}function te(){if(!window.matchMedia("(min-width:1440px)").matches){H();return}const e=a.artistsList,t=document.querySelector(".filters-panel");if(!e||!t||e.children.length===0){H();return}const s=Ve(e),n=e.children.length;if(n<=s){H();return}const r=oe(e.children[0]),l=n-(n%s||s),p=oe(e.children[l]);f.firstTop=r,f.lastRowTop=p,f.maxShift=Math.max(0,p-r),Xe(),ee()}document.addEventListener("artists:updated",()=>{var t;if(!(((t=a.artistsList)==null?void 0:t.children.length)>0)){H();return}requestAnimationFrame(()=>{setTimeout(te,50)})});const Je=5;function Ze(e){const t=st(e),s=be(e);return`
    <div class="${t}" role="img" aria-label="Rating ${s} out of 5">
      <div class="star-container">
        ${at(s,Je)}
      </div>
    </div>`}function et({descr:e,name:t,rating:s}){return`
    <div class="swiper-slide feedback-card">
      ${Ze(s)}
      <p class="feedback-text">"${e}"</p>
      <p class="feedback-author">${t}</p>
    </div>`}function tt(e){const t=e.map(et).join("");a.feedbacksContainer.insertAdjacentHTML("beforeend",t)}function be(e){const t=Number(e);return Math.min(5,Math.max(0,Number.isNaN(t)?0:t))}function st(e){const t=be(e),s=Math.floor(t),n=t%1>=.5;return`rating medium star-icon label-hidden value-${s} ${n?"half":""}`}function at(e,t){const s=Math.floor(e),n=e%1>=.5;return Array.from({length:t},(r,l)=>l<s?W("full"):W(l===s&&n?"half":"empty")).join("")}function W(e){return`
    <div class="star">
      <span class="star-empty">${Q()}</span>
      <span class="star-half" ${e==="half"?"":'style="display:none" aria-hidden="true"'}>
        ${Q()}
      </span>
      <span class="star-filled" ${e==="full"?"":'style="display:none" aria-hidden="true"'}>
        ${Q()}
      </span>
    </div>`}function Q(){return`
    <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false">
      <path d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.787 
        1.402 8.173L12 18.897l-7.336 3.86 
        1.402-8.173L.132 9.21l8.2-1.192z"></path>
    </svg>`}let N=null;async function nt(){var t;const e=document.querySelector("#reviews");e==null||e.setAttribute("data-state","loading"),e==null||e.setAttribute("aria-busy","true"),Me();try{if(N)return;const s=((t=document.fonts)==null?void 0:t.ready)??Promise.resolve(),n=await xe(1);await s;const r=Array.isArray(n==null?void 0:n.data)?n.data:[];r.length?tt(r):le(),N=new we(".swiper",{modules:[Le,Ee],slidesPerView:1,spaceBetween:30,pagination:{el:".swiper-pagination",clickable:!1,renderBullet:rt},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{slideChange:ie}}),ie(N),N.update(),e==null||e.setAttribute("data-state","ready"),e==null||e.setAttribute("aria-busy","false")}catch{ue(),le(),e==null||e.setAttribute("data-state","ready"),e==null||e.setAttribute("aria-busy","false")}finally{Ce()}}nt();function rt(e,t){return e<3?`<span class="${t}"></span>`:""}function ie(e){lt(e),ct(e)}const ot=document.querySelector(".swiper-button-prev"),it=document.querySelector(".swiper-button-next"),V=document.querySelector(".swiper-pagination");function lt(e){ot.classList.toggle("swiper-button-disabled",e.activeIndex===0),it.classList.toggle("swiper-button-disabled",e.activeIndex===e.slides.length-1)}function ct(e){const t=V==null?void 0:V.querySelectorAll("span");if(!t.length)return;if(t.forEach(r=>r.classList.remove("swiper-pagination-bullet-active")),t.length===1){t[0].classList.add("swiper-pagination-bullet-active");return}const s=e.activeIndex===0,n=e.activeIndex===e.slides.length-1;t.length>=3?(s?t[0]:n?t[2]:t[1]).classList.add("swiper-pagination-bullet-active"):(s?t[0]:t[1]).classList.add("swiper-pagination-bullet-active")}function le(){var e,t;a.feedbacksContainer.insertAdjacentHTML("beforeend",`
    <div class="swiper-slide feedback-card">
      <p class="feedback-text">We are waiting for your feedback! Be the first to share your impressions.</p>
    </div>`),(e=document.querySelector(".swiper-nav"))==null||e.classList.add("hidden"),(t=document.querySelector(".swiper-pagination"))==null||t.classList.add("hidden")}function dt(){a.artistDetailsModalBackdrope.classList.add("modal--is-open"),document.body.style.overflow="hidden",window.addEventListener("keydown",ye),a.artistDetailsModalBackdrope.addEventListener("click",ve)}function se(){a.artistDetailsModalBackdrope.classList.remove("modal--is-open"),document.body.style.overflow="",window.removeEventListener("keydown",ye),a.artistDetailsModalBackdrope.removeEventListener("click",ve)}function ye(e){e.key==="Escape"&&se()}function ve(e){e.target===a.artistDetailsModalBackdrope&&se()}function ut(){var e;(e=a.loader)==null||e.classList.remove("is-hidden")}function mt(){var e;(e=a.loader)==null||e.classList.add("is-hidden")}async function pt(e){try{ut();const t=await qe(e),s=await Be(e),n=(s==null?void 0:s.albumsList)||[],{intFormedYear:r,intDiedYear:l,strArtist:p,strArtistThumb:b,strGender:C,intMembers:y,strCountry:M,strBiographyEN:k,genres:q}=t;let g;r&&l?g=`${r} - ${t.intDiedYear}`:r&&!l?g=`${r} - present`:g="information missing";const D=d=>{if(!d||isNaN(d))return"";const u=Math.floor(d/1e3),m=Math.floor(u/60),v=String(u%60).padStart(2,"0");return`${m}:${v}`},B=`
        <div class="artist-details-modal-content">
            <button class="artist-details-modal-close-btn" type="button">
                <svg class="modal-svg" width="32" height="32">
                    <use href="/img/icons.svg#icon-close"></use>
                </svg>
            </button> 

            <h2 class="artist-details-modal-main-title">${p}</h2>
            <div class="artist-details-modal-main-block">
                <img class="artist-details-modal-img" src="${b}" alt="${t.name}" />

                <div class="artist-details-modal-info">
                <ul class="artist-details-modal-list">
                <li class="artist-details-modal-list-item">
                    <h3 class="artist-details-modal-title">Years active</h3>
                    <p  class="artist-details-modal-text">${g}</p>
                </li>
                ${C?`
                    <li class="artist-details-modal-list-item">
                        <h3 class="artist-details-modal-title">Sex</h3>
                        <p class="artist-details-modal-text">${C}</p>
                    </li>
                    `:""}
                ${y?`
                    <li class="artist-details-modal-list-item">
                        <h3 class="artist-details-modal-title">Members</h3>
                        <p class="artist-details-modal-text">${y}</p>
                    </li>
                    `:""}
                <li class="artist-details-modal-list-item">
                    <h3 class="artist-details-modal-title">Country</h3>
                    <p class="artist-details-modal-text">${M}</p>
                </li>
                <li class="artist-details-modal-list-item">
                    <h3 class="artist-details-modal-title">Biography</h3>
                    <p class="artist-details-modal-text">${k}</p>
                </li>
                </ul>
                
                ${Array.isArray(q)&&q.length?`<ul class="artist-details-modal-block-genres">${q.map(d=>`<li class="artist-details-modal-block-genres-item">${d}</li>`).join("")}</ul>`:""}
            </div>
            </div>
            <h3 class="artist-details-modal-albums">Albums</h3>
            <div class="artist-details-modal-albums-wrap">
            ${n.length>0?n.map(d=>{var u;return`
                <div class="artist-details-modal-albums-list">
                <h4 class="artist-details-modal-albums-list-title">${d.strAlbum}</h4>
                <table>
                <thead class="artist-details-modal-albums-list-table-head">
                    <tr>
                    <th class="artist-details-modal-albums-list-table col-1">Track</th>
                    <th class="artist-details-modal-albums-list-table col-2">Time</th>
                    <th class="artist-details-modal-albums-list-table col-3">Link</th>
                    </tr>
                </thead>
                <tbody class="artist-details-modal-albums-list-table-body">
                    ${((u=d.tracks)==null?void 0:u.map(m=>`
                    <tr>
                        <td class="artist-details-modal-albums-list-table-text col-1">${m.strTrack}</td>
                        <td class="artist-details-modal-albums-list-table-text col-2">${D(m.intDuration)}</td>
                        <td class= "col-3">
                            ${m.movie&&m.movie!=="null"?`
                                <a class="modal-link-youtube" href="${m.movie}" target="_blank">
                                    <svg class="modal-youtube" width="24" height="20">
                                        <use href="/img/icons.svg#icon-youtube"></use>
                                    </svg>
                                </a>
                            `:""}
                        </td>
                    </tr>
                    `).join(""))||""}
                </tbody>
                </table>
            </div>
            `}).join(""):"<p>No albums found</p>"}
            </div>
        </div>
        `;a.artistDetailsModal.innerHTML=`${B}`,a.artistDetailsModalBackdrope.querySelector(".artist-details-modal-close-btn").addEventListener("click",se),dt()}catch(t){E(t.message)}finally{mt()}}a.artistsList.addEventListener("click",e=>{const t=e.target.closest(".artist-cta");if(!t)return;const s=t.dataset.artistId;s&&pt(s)});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".feedback-backdrop"),t=document.querySelector(".feedback-modal-form"),s=document.getElementById("user-name"),n=document.getElementById("user-feedback"),r=document.getElementById("ratingValue"),l=t.querySelector(".feedback-modal-btn"),p=document.querySelectorAll(".modal-star"),b=document.getElementById("ratingError");function C(i){b.textContent=i}function y(){b.textContent=""}function M(i){p.forEach((d,u)=>{if(u+1<=i)d.style.background="linear-gradient(to right, #764191 100%, #ffffff 100%)";else if(u<i){const m=i-u;d.style.background=`linear-gradient(to right, #764191 ${m*100}%, #ffffff ${m*100}%)`}else d.style.background="linear-gradient(to right, #ffffff 0%, #ffffff 100%)"})}function k(){const i=parseFloat(r.value)||0;M(i)}p.forEach((i,d)=>{i.addEventListener("mousemove",u=>{const m=i.getBoundingClientRect(),x=(u.clientX-m.left)/m.width,I=Math.ceil(x*4)/4;M(d+I)}),i.addEventListener("click",u=>{const m=i.getBoundingClientRect(),x=(u.clientX-m.left)/m.width,I=Math.ceil(x*4)/4;r.value=d+I,k(),y()}),i.addEventListener("mouseleave",k)});const q=document.querySelector(".leave-feedback-button");q&&q.addEventListener("click",()=>{t.reset(),r.value="0",k(),y(),B(s),B(n),e.classList.add("is-open"),document.body.style.overflow="hidden"});const g=()=>{e.classList.remove("is-open"),document.body.style.overflow=""};document.querySelector(".feedback-modal-close").addEventListener("click",g),e.addEventListener("click",i=>{i.target===e&&g()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&g()});const D=(i,d)=>{let u=i.nextElementSibling;(!u||!u.classList.contains("field-error"))&&(u=document.createElement("div"),u.classList.add("field-error"),i.insertAdjacentElement("afterend",u)),u.textContent=d,i.classList.add("input-error"),i.setAttribute("aria-invalid","true")},B=i=>{let d=i.nextElementSibling;d&&d.classList.contains("field-error")&&(d.textContent=""),i.classList.remove("input-error"),i.removeAttribute("aria-invalid")};t.addEventListener("submit",async i=>{var x,I;i.preventDefault(),B(s),B(n),y();const d=s.value.trim(),u=n.value.trim(),m=parseFloat(r.value);let v=!1;if((d.length<2||d.length>16)&&(D(s,"Name must be between 2 and 16 characters"),v=!0),(u.length<10||u.length>512)&&(D(n,"Message must be between 10 and 512 characters"),v=!0),(m<.25||m>5)&&(C("Please provide a rating between 0.25 and 5"),v=!0),!v){l.disabled=!0;try{await Ge(d,m,u),$e("Thank you! Your feedback has been submitted."),t.reset(),r.value="0",k(),g()}catch(ae){ue("Server error: "+(((I=(x=ae.response)==null?void 0:x.data)==null?void 0:I.message)||ae.message))}finally{l.disabled=!1}}}),k()});const _=document.querySelector(".scroll-to-top");let ce=window.scrollY,F=!1,de,X;window.addEventListener("scroll",()=>{clearTimeout(de),de=setTimeout(()=>{const e=window.scrollY,t=e<ce-70,n=window.innerHeight+e>=document.body.offsetHeight-10||t&&e>350;n&&!F?(_.classList.add("visible"),F=!0,clearTimeout(X),X=setTimeout(()=>{_.classList.remove("visible"),F=!1},2e3)):!n&&F&&(_.classList.remove("visible"),F=!1,clearTimeout(X)),ce=e},70)});_.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=index.js.map
