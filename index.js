import{i as Z,a as T,g as B,P as Ye,S as Ue,b as We,N as Ke}from"./assets/vendor-APrciT4z.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(o){if(o.ep)return;o.ep=!0;const d=s(o);fetch(o.href,d)}})();const a={feedbacksContainer:document.querySelector(".feedbacks-container"),artistsList:document.querySelector("#artists-list"),artistDetailsModal:document.querySelector(".artist-details-modal"),artistDetailsModalCloseBtn:document.querySelector(".artist-details-modal-close-btn"),menuGenres:document.querySelector(".dropdown-menu-genres"),menuSort:document.querySelector(".dropdown-menu-sort"),panelSearch:document.querySelector(".filters-content"),btnGenres:document.querySelector(".dropdown-toggle-genres"),btnSort:document.querySelector(".dropdown-toggle-sort"),btnSearch:document.querySelector(".search-and-filters-toggle"),searchInput:document.querySelector(".search-input"),searchBtnRequest:document.querySelector(".search-btn"),iconSearch:document.querySelector(".dropdown-icon-search"),iconSort:document.querySelector(".sort-icon"),iconGenres:document.querySelector(".genres-icon"),loaderArtistsWrapper:document.querySelector(".artists-loader-container"),toggleBtn:document.querySelector(".header-toggle"),mobileMenu:document.querySelector(".header-mobile-menu"),menuLinks:document.querySelectorAll(".header-mob-nav-link"),navLinks:document.querySelectorAll(".header-nav-link"),sections:document.querySelectorAll("section, .footer"),artistDetailsModalBackdrope:document.querySelector(".artist-details-backdrop"),heroBtn:document.querySelector(".hero-btn"),resetBtn:document.querySelector(".filters-reset-btn"),feedbackLoader:document.querySelector(".feedback-loader"),feedbackLoaderContainer:document.querySelector(".feedback-loader-container")},ze="https://sound-wave.b.goit.study/api",x={ARTISTS:"/artists",ARTIST_BY_ID:"/artists/",ARTIST_ALBUMS_BY_ID:"/albums",GENRES:"/genres",FEEDBACKS:"/feedbacks",PRODUCTS_BY_CATEGORY:"/products/category/"},G=8,Ve=10;//!======================================================
function k(e="Something went wrong. Please try again later.",t="topRight"){Z.error({title:"",message:e,position:t,timeout:3e3,progressBar:!1})}function Qe(e="Thank you! Your feedback means a lot to us.",t="topRight",s="ico-success"){Z.success({title:"",message:e,position:t,timeout:3e3,progressBar:!1,icon:s})}function $e(e="We couldn’t load the reviews. Please try again later.",t="topRight"){Z.error({title:"",message:e,position:t,timeout:3e3,progressBar:!1})}function Xe(e="Thank you! Your feedback means a lot to us.",t="topRight"){Z.success({title:"",message:e,position:t,timeout:3e3,progressBar:!1})}//!======================================================
function P(){a.loaderArtistsWrapper.classList.add("hidden")}function R(){a.loaderArtistsWrapper.classList.remove("hidden")}//!======================================================
function Je(){var e,t,s,n;(e=a.feedbackLoader)==null||e.classList.add("hidden"),(t=a.feedbackLoaderContainer)==null||t.classList.add("hidden"),(s=a.feedbackLoaderContainer)==null||s.setAttribute("aria-hidden","true"),(n=a.feedbackLoader)==null||n.setAttribute("aria-hidden","true")}function Ze(){var e,t,s,n;(e=a.feedbackLoaderContainer)==null||e.classList.remove("hidden"),(t=a.feedbackLoader)==null||t.classList.remove("hidden"),(s=a.feedbackLoaderContainer)==null||s.setAttribute("aria-hidden","false"),(n=a.feedbackLoader)==null||n.setAttribute("aria-hidden","false")}//!======================================================
document.addEventListener("DOMContentLoaded",()=>{const{toggleBtn:e,mobileMenu:t,menuLinks:s}=a;function n(){document.body.style.overflow="hidden"}function o(){document.body.style.overflow=""}function d(){t.classList.add("active"),e.classList.add("active"),n()}function u(){t.classList.remove("active"),e.classList.remove("active"),o()}e==null||e.addEventListener("click",()=>{t.classList.contains("active")?u():d()}),s==null||s.forEach(m=>m.addEventListener("click",u))});const et=()=>a.navLinks.forEach(e=>e.classList.remove("active-link")),tt=new IntersectionObserver(e=>{e.forEach(t=>{if(t.isIntersecting){et();const s=t.target.getAttribute("id");if(!s)return;const n=document.querySelector(`.header-nav-link[href="#${s}"]`);n&&n.classList.add("active-link")}})},{threshold:[0,.25,.5],rootMargin:"-30% 0px -60% 0px"});a.sections.forEach(e=>tt.observe(e));T.defaults.baseURL=ze;const st=async e=>{const{data:t}=await T.get(`${x.ARTISTS}?limit=${G}&page=${e}`);return t},at=async e=>{const{data:t}=await T.get(`${x.ARTIST_BY_ID}${e}`);return t},nt=async e=>{const{data:t}=await T.get(`${x.ARTIST_BY_ID}${e}${x.ARTIST_ALBUMS_BY_ID}`);return t},rt=async(e=1)=>{const{data:t}=await T.get(`${x.FEEDBACKS}?limit=${Ve}&page=${e}`);return t},ot=async()=>{const{data:e}=await T.get(`${x.GENRES}`);return e},Ce=async({name:e,page:t=1,sorted:s="0",genre:n=""})=>{const{data:o}=await T.get(`${x.ARTISTS}?limit=${G}&page=${t}${e!=null&&e.length?`&name=${e}`:""}${s==="2"?"&sortName=desc":s==="1"?"&sortName=asc":""}${n?`&genre=${n}`:""}`);return o},it=async(e,t,s)=>{await T.post(`${x.FEEDBACKS}`,{name:e,rating:t,descr:s})},i={tlOpenSearch:window.matchMedia("(min-width: 1440px)").matches?null:B.timeline({paused:!0}).to(a.iconSearch,{rotate:180,duration:.35,ease:"power2.out"},0).fromTo(a.panelSearch,{opacity:0,y:-10,pointerEvents:"none"},{opacity:1,y:0,duration:.4,pointerEvents:"auto",ease:"power3.out"},0).from(a.panelSearch.children,{opacity:0,y:-6,stagger:.05,duration:.25,ease:"power2.out"},.1),tlCloseSearch:window.matchMedia("(min-width: 1440px)").matches?null:B.timeline({paused:!0}).to(a.iconSearch,{rotate:0,duration:.3,ease:"power2.in"},0).to(a.panelSearch,{opacity:0,y:-10,duration:.3,pointerEvents:"none",ease:"power2.in"},0),tlOpenSort:B.timeline({paused:!0}).to(a.iconSort,{rotate:180,duration:.35,ease:"power2.out"},0).fromTo(a.menuSort,{opacity:0,y:-10,pointerEvents:"none"},{opacity:1,y:0,duration:.4,pointerEvents:"auto",ease:"power3.out"},0).from(a.menuSort.children,{opacity:0,y:-6,stagger:.05,duration:.25,ease:"power2.out"},.1),tlCloseSort:B.timeline({paused:!0}).to(a.iconSort,{rotate:0,duration:.3,ease:"power2.in"},0).to(a.menuSort,{opacity:0,y:-10,duration:.3,pointerEvents:"none",ease:"power2.in"},0),tlOpenGenres:B.timeline({paused:!0}).to(a.iconGenres,{rotate:180,duration:.35,ease:"power2.out"},0).fromTo(a.menuGenres,{opacity:0,y:-10,pointerEvents:"none"},{opacity:1,y:0,duration:.4,pointerEvents:"auto",ease:"power3.out"},0).from(a.menuGenres.children,{opacity:0,y:-6,stagger:.05,duration:.25,ease:"power2.out"},.1),tlCloseGenres:B.timeline({paused:!0}).to(a.iconGenres,{rotate:0,duration:.3,ease:"power2.in"},0).to(a.menuGenres,{opacity:0,y:-10,duration:.3,pointerEvents:"none",ease:"power2.in"},0)};i.tlOpenSort.eventCallback("onStart",()=>{var e;(e=i.tlCloseSort)==null||e.pause(0).progress(0)});i.tlCloseSort.eventCallback("onStart",()=>{var e;(e=i.tlOpenSort)==null||e.pause(0).progress(0)});let p={name:"",page:1,sorted:0,genre:""};dt();lt();ct();ut();mt();pt();ft();ht();function lt(){if(window.matchMedia("(min-width: 1440px)").matches)return;const e=t=>{document.querySelector(".filters-content").contains(t.target)||(i.tlCloseSearch.play(0),document.removeEventListener("click",e))};a.btnSearch.addEventListener("click",t=>{t.stopPropagation(),B.isTweening(a.panelSearch)||a.panelSearch.style.pointerEvents==="auto"?(i.tlOpenSearch.pause(0),i.tlCloseSearch.restart(),document.removeEventListener("click",e)):(i.tlCloseSearch.pause(0),i.tlOpenSearch.restart(),document.addEventListener("click",e))})}function ct(){a.searchInput.addEventListener("input",()=>{p.name=a.searchInput.value.trim()});const e=async()=>{var t,s;if(!((t=p.name)!=null&&t.length)){Qe("Silence from you","topRight",null);return}A(),R();try{await I({init:!0})}catch(n){k(`Silence due problem ${n}`)}P(),(s=i==null?void 0:i.tlCloseSearch)==null||s.play(0)};a.searchBtnRequest.addEventListener("click",e),a.searchInput.addEventListener("keydown",t=>{t.key==="Enter"&&e()})}async function dt(){try{const t='<li data-value="all">All Genres</li>'+(await ot()).map(({genre:s})=>`<li data-value="${s}">${s}</li>`).join("");a.menuGenres.insertAdjacentHTML("beforeend",t)}catch(e){k(`While loading genres ${e}`)}}function ut(){const e=t=>{document.querySelector(".artists-dropdown-sort").contains(t.target)||(i.tlCloseSort.restart(),i.tlCloseGenres.restart(),a.btnSort.classList.remove("open"),a.menuSort.classList.remove("open"))};a.btnSort.addEventListener("click",t=>{t.stopPropagation(),a.menuSort.classList.contains("open")?(i.tlOpenSort.pause(0),i.tlCloseSort.restart(),a.btnSort.classList.remove("open"),a.menuSort.classList.remove("open")):(i.tlOpenGenres.pause(0),i.tlCloseGenres.restart(),a.btnGenres.classList.remove("open"),a.menuGenres.classList.remove("open"),i.tlCloseSort.pause(0),i.tlOpenSort.restart(),a.btnSort.classList.add("open"),a.menuSort.classList.add("open"),document.addEventListener("click",e,{once:!0}))}),a.menuSort.addEventListener("click",async t=>{var n;A();const s=t.target.closest("li");if(s){a.btnSort.querySelector(".dropdown-label").textContent=s.textContent,a.btnSort.dataset.value=s.dataset.value,p.sorted=s.dataset.value,R();try{await I({init:!0})}catch(o){k(`Silence due problem ${o}`)}P(),i.tlOpenSort.pause(0),i.tlCloseSort.restart(),a.btnSort.classList.remove("open"),a.menuSort.classList.remove("open"),(n=i==null?void 0:i.tlCloseSearch)==null||n.play(0)}})}async function mt(){const e=t=>{document.querySelector(".artists-dropdown-genres").contains(t.target)||(i.tlCloseGenres.restart(),i.tlCloseSort.restart(),a.btnGenres.classList.remove("open"),a.menuGenres.classList.remove("open"))};a.btnGenres.addEventListener("click",t=>{t.stopPropagation(),a.menuGenres.classList.contains("open")?(i.tlOpenGenres.pause(0),i.tlCloseGenres.restart(),a.btnGenres.classList.remove("open"),a.menuGenres.classList.remove("open")):(i.tlOpenSort.pause(0),i.tlCloseSort.restart(),a.btnSort.classList.remove("open"),a.menuSort.classList.remove("open"),i.tlCloseGenres.pause(0),i.tlOpenGenres.restart(),a.btnGenres.classList.add("open"),a.menuGenres.classList.add("open"),document.addEventListener("click",e,{once:!0}))}),a.menuGenres.addEventListener("click",async t=>{var n;A();const s=t.target.closest("li");if(s){a.btnGenres.querySelector(".dropdown-label").textContent=s.textContent,a.btnGenres.dataset.value=s.dataset.value,p.genre=s.textContent==="All Genres"?"":Ae(s.textContent),R();try{await I({init:!0})}catch(o){k(`Silence due problem ${o}`)}P(),i.tlOpenGenres.pause(0),i.tlCloseGenres.restart(),a.btnGenres.classList.remove("open"),a.menuGenres.classList.remove("open"),(n=i==null?void 0:i.tlCloseSearch)==null||n.play(0)}})}async function Me(e="All Genres"){var t;p.page=1,p.genre=Ae(e),a.btnGenres.querySelector(".dropdown-label").textContent=e,R();try{await I({init:!0})}catch(s){k(`Silence due problem ${s}`)}P(),i.tlCloseGenres.restart(),i.tlCloseSort.restart(),(t=i==null?void 0:i.tlCloseSearch)==null||t.play(0),a.btnGenres.classList.remove("open"),a.menuGenres.classList.remove("open"),a.btnSort.classList.remove("open"),a.menuSort.classList.remove("open")}async function xe(){p={name:"",page:1,sorted:0,genre:""},A(),a.btnGenres.querySelector(".dropdown-label").textContent="Genre",a.btnSort.querySelector(".dropdown-label").textContent="Sorting",a.searchInput.value="",R();try{a.artistsList.innerHTML="",await I({init:!0})}catch(e){k(`Silence due problem ${e}`)}P(),i.tlCloseGenres.play(0),i.tlCloseSort.play(0)}function pt(){a.resetBtn.addEventListener("click",xe)}function A(){const e=document.querySelector(".artists-subtitle").getBoundingClientRect().bottom+window.scrollY+100-(window.matchMedia("(min-width: 1440px)").matches?100:window.matchMedia("(min-width: 768px)").matches?165:160);window.scrollTo({top:e,behavior:"smooth"})}function Ae(e){return e.split("").map(t=>t==="&"?t="%26":t).join("")}function ft(){a.heroBtn.addEventListener("click",e=>{e.preventDefault(),document.querySelector("#artists").scrollIntoView({behavior:"smooth"})})}function ht(){document.querySelectorAll("button").forEach(e=>{e.addEventListener("click",()=>{e.blur()})})}const D=window.matchMedia("(max-width: 767.98px)").matches,gt=D?3:5;let f=null,ae=!1,ee=0,ce=!1;function bt(e){var t;return`${((t=e.name)==null?void 0:t.trim())||""}|${e.genre||""}|${Number(e.sorted)||0}`}let be="";function vt(){return`
    <div class="no-artists is-hidden" data-no-artists>
      <svg class="no-artists-icon" width="40" height="40" aria-hidden="true">
        <use href="${new URL("/developers-orchestra-project/assets/icons-D46wvoLI.svg",import.meta.url).href}#icon-error"></use>
      </svg>
      <h2 class="no-artists-title">Silence on the stage…</h2>
      <p class="no-artists-text">
        Looks like no artists match your filters.<br />
        Try changing them or hit “Reset Filters” to bring back the beat.
      </p>
      <button class="btn-reset-filters" type="button">Reset filters</button>
    </div>
  `}function yt(){let e=document.querySelector("[data-no-artists]");return e||(a.artistsList.insertAdjacentHTML("afterend",vt()),e=document.querySelector("[data-no-artists]")),e}function St(){const e=yt();e.classList.remove("is-hidden");const t=e.querySelector(".btn-reset-filters");t&&t.addEventListener("click",()=>{xe()},{once:!0})}function ve(){var e;(e=document.querySelector("[data-no-artists]"))==null||e.classList.add("is-hidden")}function j(e,t=0){const s=document.querySelector("#tui-pagination");s&&s.classList.toggle("hidden",!e||t<=0)}function le(){return!!(p.name&&p.name.trim().length||p.genre&&p.genre!=="all"&&p.genre!==""||p.sorted&&Number(p.sorted)!==0)}function Lt(e=0){if(f)return;const s=`
    <svg class="tui-ico-svg" width="24" height="24" aria-hidden="true">
      <use href="${new URL("/developers-orchestra-project/assets/icons-D46wvoLI.svg",import.meta.url).href}#icon-right-arrow-alt"></use>
    </svg>
  `;f=new Ye("#tui-pagination",{totalItems:e,itemsPerPage:G,page:p.page||1,visiblePages:gt,centerAlign:!0,usageStatistics:!1,template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn is-active" aria-current="page">{{page}}</strong>',moveButton:`<a href="#" class="tui-page-btn tui-{{type}}">${s}</a>`,disabledMoveButton:`<span class="tui-page-btn is-disabled tui-{{type}}">${s}</span>`,moreButton:'<span class="tui-page-btn tui-ellipsis">…</span>'}}),f.on("afterMove",wt);const n=document.querySelector("#tui-pagination");n&&n.addEventListener("click",o=>{const d=o.target.closest("a.tui-page-btn");!d||d.classList.contains("is-disabled")||(ce=!0)})}function Te(e){if(!f)return;const t=Math.max(1,Math.ceil(e/G)),s=Math.min(Math.max(p.page||1,1),t);f.getCurrentPage()!==s&&f.movePageTo(s),j(t>1,e),D?qe():te()}async function I({init:e=!1}={}){R();try{e&&(p.page=1);const t=bt(p),s=t!==be,n=e||s;s&&p.page!==1&&(p.page=1);const o=le(),d=await Ce(p),u=d.artists??[],m=+d.totalArtists||0;a.artistsList.innerHTML="",J(u),Lt(m),ee=m,n?(f.reset(m),f.getCurrentPage()!==1&&f.movePageTo(1),p.page=1):(f.setTotalItems(m),Te(m));const b=Math.ceil(m/G);j(b>1,m),D||te(),be=t}catch(t){le()&&k(`Silence due problem ${t}`),a.artistsList.innerHTML="",J([]),j(!1,0)}finally{P()}}function qe(){try{if(!D||!f)return;const e=document.querySelector("#tui-pagination");if(!e)return;let t=0;typeof f.getTotalItems=="function"&&(t=Number(f.getTotalItems())||0),t||(t=ee||0);const s=Math.max(1,Math.ceil(t/G)),n=f.getCurrentPage(),d=`
      <svg class="tui-ico-svg" width="24" height="24" aria-hidden="true">
        <use href="${new URL("/developers-orchestra-project/assets/icons-D46wvoLI.svg",import.meta.url).href}#icon-right-arrow-alt"></use>
      </svg>`,u=(h,v,y="")=>`<a href="#" class="tui-page-btn${y}" data-page="${v}">${h}</a>`,m='<span class="tui-page-btn tui-ellipsis">…</span>',b=n<=1?" is-disabled":"",E=n>=s?" is-disabled":"",$=[`<a href="#" class="tui-page-btn tui-prev${b}" data-page="${Math.max(1,n-1)}">${d}</a>`,u("1",1,n===1?" is-active":""),n>3?m:"",n>1&&n<s?u(String(n),n," is-active"):"",n<s-2?m:"",s>1?u(String(s),s,n===s?" is-active":""):"",`<a href="#" class="tui-page-btn tui-next${E}" data-page="${Math.min(s,n+1)}">${d}</a>`].join("");e.innerHTML=$,e.onclick=h=>{const v=h.target.closest("a.tui-page-btn:not(.is-disabled)");if(!v)return;h.preventDefault();const y=Number(v.dataset.page);Number.isFinite(y)&&y>=1&&y<=s&&y!==n&&(ce=!0,f.movePageTo(y))}}catch{}}function te(){if(D||!f)return;const e=document.querySelector("#tui-pagination");if(!e)return;let t=0;typeof f.getTotalItems=="function"&&(t=Number(f.getTotalItems())||0),t||(t=ee||0);const s=Math.max(1,Math.ceil(t/G));if(s<=1||Array.from(e.querySelectorAll(".tui-page-btn")).some(m=>!m.classList.contains("tui-prev")&&!m.classList.contains("tui-next")&&!m.classList.contains("tui-ellipsis")&&m.textContent.trim()===String(s)))return;const d=e.querySelector(".tui-next"),u=document.createElement("a");u.href="#",u.className="tui-page-btn",u.textContent=String(s),u.addEventListener("click",m=>{m.preventDefault(),ce=!0,f.movePageTo(s)}),e.insertBefore(u,d||null)}async function wt({page:e}){if(A(),!ae){ae=!0,R();try{p.page=e,a.artistsList.innerHTML="";const s=le()?await Ce(p):await st(e),n=s.artists??[],o=+s.totalArtists||0;J(n),f.setTotalItems(o),ee=o,Te(o),D||te()}catch{k("Failed to fetch artists"),J([]),j(!1,0)}finally{ae=!1,P()}A()}}function J(e=[]){const t=new URL("/developers-orchestra-project/assets/icons-D46wvoLI.svg",import.meta.url).href;if(!Array.isArray(e)||e.length===0){ve(),a.artistsList.innerHTML="",St(),j(!1,0),document.dispatchEvent(new Event("artists:updated"));return}ve();const s=e.map(({_id:n,strArtist:o="Unknown",strArtistThumb:d,strBiographyEN:u="",genres:m=[]})=>{const b=d||"https://placehold.co/736x414?text=No+Image",E=Array.isArray(m)&&m.length?`<ul class="artist-tags">${m.map($=>`<li class="tag">${$}</li>`).join("")}</ul>`:'<ul class="artist-tags" aria-hidden="true"></ul>';return`
          <li class="artists-item">
            <div class="artist-card" data-id="${n}">
              <img
                src="${b}"
                alt="${o} — portrait"
                class="artist-img"
                loading="lazy"
                decoding="async"
                width="736" height="414"
              >
              ${E}
              <h3 class="artist-name">${o}</h3>
              ${u?`<p class="artist-desc text-clamp-3">${u}</p>`:""}
              <button class="artist-cta" type="button" data-artist-id="${n}" aria-label="Learn more about ${o}">
                Learn More
                <svg class="artist-cta-icon" width="24" height="24" aria-hidden="true">
                  <use href="${t}#icon-arrow-1"></use>
                </svg>
              </button>
            </div>
          </li>`}).join("");a.artistsList.insertAdjacentHTML("beforeend",s),document.dispatchEvent(new Event("artists:updated"))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{p.page=1,I({init:!0})}):(p.page=1,I({init:!0}));const Et=112,S={enabled:!1,firstTop:0,lastRowTop:0,maxShift:0,rafId:0};function kt(e){const s=(getComputedStyle(e).gridTemplateColumns||"").split(" ").filter(Boolean).length;return Math.max(1,s||1)}function ye(e){const t=e.getBoundingClientRect();return Math.round(t.top+window.pageYOffset)}function $t(){S.enabled||(S.enabled=!0,Be(),window.addEventListener("scroll",de,{passive:!0}),window.addEventListener("resize",ue,{passive:!0}))}function Q(){var e;S.enabled&&(S.enabled=!1,window.removeEventListener("scroll",de),window.removeEventListener("resize",ue),cancelAnimationFrame(S.rafId),(e=document.querySelector(".filters-panel"))==null||e.style.setProperty("--filters-shift","0px"))}function de(){cancelAnimationFrame(S.rafId),S.rafId=requestAnimationFrame(Be)}function Be(){if(!S.enabled)return;const e=document.querySelector(".filters-panel");if(!e)return;const t=window.pageYOffset+Et-S.firstTop,s=Math.round(Math.max(0,Math.min(t,S.maxShift)));e.style.setProperty("--filters-shift",`${s}px`)}function ue(){if(!window.matchMedia("(min-width:1440px)").matches){Q();return}const e=a.artistsList,t=document.querySelector(".filters-panel");if(!e||!t||e.children.length===0){Q();return}const s=kt(e),n=e.children.length;if(n<=s){Q();return}const o=ye(e.children[0]),d=n-(n%s||s),u=ye(e.children[d]);S.firstTop=o,S.lastRowTop=u,S.maxShift=Math.max(0,u-o),$t(),de()}document.addEventListener("artists:updated",()=>{var t;((t=a.artistsList)==null?void 0:t.children.length)>0?requestAnimationFrame(()=>{setTimeout(ue,50)}):Q(),f&&(p.page===1&&f.getCurrentPage()!==1&&f.movePageTo(1),D?qe():te())});const Ct=5;function Mt(e){const t=Tt(e),s=Ie(e);return`
    <div class="${t}" role="img" aria-label="Rating ${s} out of 5">
      <div class="star-container">
        ${qt(s,Ct)}
      </div>
    </div>`}function xt({descr:e,name:t,rating:s}){return`
    <div class="swiper-slide feedback-card">
      ${Mt(s)}
      <p class="feedback-text">"${e}"</p>
      <p class="feedback-author">${t}</p>
    </div>`}function At(e){const t=e.map(xt).join("");a.feedbacksContainer.insertAdjacentHTML("beforeend",t)}function Ie(e){const t=Number(e);return Math.min(5,Math.max(0,Number.isNaN(t)?0:t))}function Tt(e){const t=Ie(e),s=Math.floor(t),n=t%1>=.5;return`rating medium star-icon label-hidden value-${s} ${n?"half":""}`}function qt(e,t){const s=Math.floor(e),n=e%1>=.5;return Array.from({length:t},(o,d)=>d<s?ne("full"):ne(d===s&&n?"half":"empty")).join("")}function ne(e){return`
    <div class="star">
      <span class="star-empty">${re()}</span>
      <span class="star-half" ${e==="half"?"":'style="display:none" aria-hidden="true"'}>
        ${re()}
      </span>
      <span class="star-filled" ${e==="full"?"":'style="display:none" aria-hidden="true"'}>
        ${re()}
      </span>
    </div>`}function re(){return`
    <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false">
      <path d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.787 
        1.402 8.173L12 18.897l-7.336 3.86 
        1.402-8.173L.132 9.21l8.2-1.192z"></path>
    </svg>`}let z=null;async function Bt(){var t;const e=document.querySelector("#reviews");e==null||e.setAttribute("data-state","loading"),e==null||e.setAttribute("aria-busy","true"),Ze();try{if(z)return;const s=((t=document.fonts)==null?void 0:t.ready)??Promise.resolve(),n=await rt(1);await s;const o=Array.isArray(n==null?void 0:n.data)?n.data:[];o.length?At(o):Le(),z=new Ue(".swiper",{modules:[We,Ke],slidesPerView:1,spaceBetween:30,pagination:{el:".swiper-pagination",clickable:!1,renderBullet:It},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{slideChange:Se}}),Se(z),z.update(),e==null||e.setAttribute("data-state","ready"),e==null||e.setAttribute("aria-busy","false")}catch{$e(),Le(),e==null||e.setAttribute("data-state","ready"),e==null||e.setAttribute("aria-busy","false")}finally{Je()}}Bt();function It(e,t){return e<3?`<span class="${t}"></span>`:""}function Se(e){Rt(e),Dt(e)}const Gt=document.querySelector(".swiper-button-prev"),Pt=document.querySelector(".swiper-button-next"),oe=document.querySelector(".swiper-pagination");function Rt(e){Gt.classList.toggle("swiper-button-disabled",e.activeIndex===0),Pt.classList.toggle("swiper-button-disabled",e.activeIndex===e.slides.length-1)}function Dt(e){const t=oe==null?void 0:oe.querySelectorAll("span");if(!t.length)return;if(t.forEach(o=>o.classList.remove("swiper-pagination-bullet-active")),t.length===1){t[0].classList.add("swiper-pagination-bullet-active");return}const s=e.activeIndex===0,n=e.activeIndex===e.slides.length-1;t.length>=3?(s?t[0]:n?t[2]:t[1]).classList.add("swiper-pagination-bullet-active"):(s?t[0]:t[1]).classList.add("swiper-pagination-bullet-active")}function Le(){var e,t;a.feedbacksContainer.insertAdjacentHTML("beforeend",`
    <div class="swiper-slide feedback-card">
      <p class="feedback-text">We are waiting for your feedback! Be the first to share your impressions.</p>
    </div>`),(e=document.querySelector(".swiper-nav"))==null||e.classList.add("hidden"),(t=document.querySelector(".swiper-pagination"))==null||t.classList.add("hidden")}function Ft(){a.artistDetailsModalBackdrope.classList.add("modal--is-open"),document.body.style.overflow="hidden",window.addEventListener("keydown",Ge),a.artistDetailsModalBackdrope.addEventListener("click",Pe)}function se(){a.artistDetailsModalBackdrope.classList.remove("modal--is-open"),document.body.style.overflow="",window.removeEventListener("keydown",Ge),jt(),a.artistDetailsModalBackdrope.removeEventListener("click",Pe),a.artistDetailsModal.innerHTML='<span class="loader is-hidden"></span>',a.artistDetailsModal.innerHTML=""}function Ge(e){e.key==="Escape"&&se()}function Pe(e){e.target===a.artistDetailsModalBackdrope&&se()}function Nt(){a.artistDetailsModal.innerHTML='<span class="loader"></span>'}function Ot(){const e=a.artistDetailsModal.querySelector(".loader");e&&e.remove()}async function Ht(e){try{Ft(),Nt();const t=await at(e),s=await nt(e),n=(s==null?void 0:s.albumsList)||[],{intFormedYear:o,intDiedYear:d,strArtist:u,strArtistThumb:m,strGender:b,intMembers:E,strCountry:$,strBiographyEN:h,genres:v}=t;let y;o&&d?y=`${o} - ${t.intDiedYear}`:o&&!d?y=`${o} - present`:y="information missing";const Y=L=>{if(!L||isNaN(L))return"";const C=Math.floor(L/1e3),w=Math.floor(C/60),N=String(C%60).padStart(2,"0");return`${w}:${N}`},U=t.strArtistThumb?t.strArtistThumb:"https://placehold.co/736x414?text=No+Image",F=new URL("/developers-orchestra-project/assets/icons-D46wvoLI.svg",import.meta.url).href,q=`
        <div class="artist-details-modal-content">
            <button class="artist-details-modal-close-btn" type="button" aria-label="Close the detailed information window">
                <svg class="modal-svg" width="32" height="32">
                    <use href="${F}#icon-close"></use>
                </svg>
            </button> 

            <h2 class="artist-details-modal-main-title">${u}</h2>
            <div class="artist-details-modal-main-block">
                <img class="artist-details-modal-img" src="${U}" alt="${t.name}" />

                <div class="artist-details-modal-info">
                <ul class="artist-details-modal-list">
                <li class="artist-details-modal-list-item">
                    <h3 class="artist-details-modal-title">Years active</h3>
                    <p  class="artist-details-modal-text">${y}</p>
                </li>
                ${b?`
                    <li class="artist-details-modal-list-item">
                        <h3 class="artist-details-modal-title">Sex</h3>
                        <p class="artist-details-modal-text">${b}</p>
                    </li>
                    `:""}
                ${E?`
                    <li class="artist-details-modal-list-item">
                        <h3 class="artist-details-modal-title">Members</h3>
                        <p class="artist-details-modal-text">${E}</p>
                    </li>
                    `:""}
                <li class="artist-details-modal-list-item">
                    <h3 class="artist-details-modal-title">Country</h3>
                    <p class="artist-details-modal-text">${$}</p>
                </li>
                <li class="artist-details-modal-list-item">
                    <h3 class="artist-details-modal-title">Biography</h3>
                    <p class="artist-details-modal-text">${h}</p>
                </li>
                </ul>
                
                ${Array.isArray(v)&&v.length?`<ul class="artist-details-modal-block-genres">${v.map(L=>`<li class="artist-details-modal-block-genres-item">${L}</li>`).join("")}</ul>`:""}
            </div>
            </div>
            <h3 class="artist-details-modal-albums">Albums</h3>
            <div class="artist-details-modal-albums-wrap">
            ${n.length>0?n.map(L=>{var C;return`
                <div class="artist-details-modal-albums-list">
                <h4 class="artist-details-modal-albums-list-title">${L.strAlbum}</h4>
                <table>
                <thead class="artist-details-modal-albums-list-table-head">
                    <tr>
                    <th class="artist-details-modal-albums-list-table col-1">Track</th>
                    <th class="artist-details-modal-albums-list-table col-2">Time</th>
                    <th class="artist-details-modal-albums-list-table col-3">Link</th>
                    </tr>
                </thead>
                <tbody class="artist-details-modal-albums-list-table-body">
                    ${((C=L.tracks)==null?void 0:C.map(w=>`
                    <tr>
                        <td class="artist-details-modal-albums-list-table-text col-1">${w.strTrack}</td>
                        <td class="artist-details-modal-albums-list-table-text col-2">${Y(w.intDuration)}</td>
                        <td class= "col-3">
                            ${w.movie&&w.movie!=="null"?`
                                <a class="modal-link-youtube" href="${w.movie}" target="_blank" aria-label="Watch a video on YouTube">
                                    <svg class="modal-youtube" width="24" height="20">
                                        <use href="${F}#icon-youtube"></use>
                                    </svg>
                                </a>
                            `:""}
                        </td>
                    </tr>
                    `).join(""))||""}
                </tbody>
                </table>
            </div>
            `}).join(""):"<p>No albums found</p>"}
            </div>
        </div>
        `;a.artistDetailsModal.innerHTML=`${q}`,a.artistDetailsModalBackdrope.querySelector(".artist-details-modal-close-btn").addEventListener("click",se),_t()}catch(t){k(t.message)}finally{Ot()}}a.artistsList.addEventListener("click",e=>{const t=e.target.closest(".artist-card");if(!t)return;if(e.target.nodeName==="LI"){const o=e.target.closest(".tag");Me(o.textContent),A();return}const n=t.querySelector(".artist-cta").dataset.artistId;n&&Ht(n)});function _t(){document.querySelectorAll(".artist-details-modal-block-genres-item").forEach(t=>{t.addEventListener("click",Re)})}function jt(){document.querySelectorAll(".artist-details-modal-block-genres-item").forEach(t=>{t.removeEventListener("click",Re)})}function Re(e){e.target.nodeName==="LI"&&(Me(e.target.textContent),se(),A())}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".feedback-backdrop"),t=document.querySelector(".feedback-modal-form"),s=document.getElementById("user-name"),n=document.getElementById("user-feedback"),o=document.getElementById("ratingValue"),d=t.querySelector(".feedback-modal-btn"),u=document.querySelectorAll(".modal-star"),m=document.getElementById("ratingError"),b=document.querySelector(".stars-wrapper"),E=document.querySelector(".leave-feedback-button"),$=document.querySelector(".feedback-modal-close"),h={name:{min:2,max:16},message:{min:10,max:512}},v=(r,c,l)=>Math.min(l,Math.max(c,r));(()=>{m.textContent="Please, provide a rating between 1 and 5",Y(s,"Name must be between 2 and 16 characters"),Y(n,"Message must be between 10 and 512 characters")})();function Y(r,c){const l=U(r);l.textContent=c,r.classList.add("input-error"),r.setAttribute("aria-invalid","true")}function U(r){const c=r.parentElement.querySelector(".input-footer");let l=c.querySelector(".field-error");return l||(l=document.createElement("div"),l.classList.add("field-error"),c.insertAdjacentElement("afterbegin",l)),l}function F(r,c){const l=U(r);l.textContent=c,r.classList.add("input-error"),r.setAttribute("aria-invalid","true"),l.style.color="#af0404"}const q=r=>{const c=r.parentElement.querySelector(".field-error");c&&c.id!=="ratingError"&&(c.style.color="transparent"),r.classList.remove("input-error"),r.removeAttribute("aria-invalid")},me=r=>{m.style.color="#af0404"},L=()=>{m.style.color="transparent"},C=()=>{const r=parseFloat(o.value);return Number.isFinite(r)?r:0};function w(r,c){const l=parseInt(r.getAttribute("maxlength"),10);return Number.isFinite(l)&&l>0?l:c}function N(r,c){typeof r.value=="string"&&r.value.length>c&&(r.value=r.value.slice(0,c))}const De=r=>{const c=r.parentElement.querySelector(".input-footer");let l=c.querySelector(".char-counter");return l||(l=document.createElement("div"),l.classList.add("char-counter"),c.appendChild(l)),l};function O(r,c){const l=De(r),g=r.value.length;l.textContent=`${g}/${c}`}function pe(r,c,l){const g=w(r,c);N(r,g),O(r,g),r.addEventListener("input",()=>{N(r,g),O(r,g),typeof l=="number"&&r.value.trim().length>=l&&q(r)}),r.addEventListener("blur",()=>{N(r,g),O(r,g)})}function fe(r){u.forEach((c,l)=>{if(l+1<=r)c.style.setProperty("--star-fill","#764191");else if(l<r){const g=r-l,M=v(g*100,0,100);c.style.setProperty("--star-fill",`linear-gradient(to right, #764191 ${M}%, #ffffff ${M}%)`)}else c.style.setProperty("--star-fill","#ffffff")})}function H(){const r=v(C(),0,5);fe(r),r>=1&&(m.style.color="transparent")}function Fe(r){const c=b.getBoundingClientRect(),l=r.clientX-c.left,g=c.width/u.length,M=v(Math.ceil(l/g*10)/10,0,u.length);fe(M)}function Ne(r){const c=b.getBoundingClientRect(),l=r.clientX-c.left,g=c.width/u.length,M=v(Math.ceil(l/g*10)/10,0,u.length);o.value=String(M),H()}function Oe(){e.classList.add("is-open"),document.body.style.overflow="hidden",q(s),q(n),L(),je(),H()}function W(){e.classList.remove("is-open"),document.body.style.overflow=""}function He(){q(s),q(n),L();let r=!0;const c=s.value.trim(),l=n.value.trim(),g=C();return(c.length<h.name.min||c.length>h.name.max)&&(F(s,`Name must be between ${h.name.min} and ${h.name.max} characters`),r=!1),(l.length<h.message.min||l.length>h.message.max)&&(F(n,`Message must be between ${h.message.min} and ${h.message.max} characters`),r=!1),g<1&&(me(),r=!1),{ok:r,name:c,message:l,rating:g}}async function _e(r){var he,ge;r.preventDefault();const{ok:c,name:l,message:g,rating:M}=He();if(c){d.disabled=!0;try{await it(l,M,g),Xe("Thank you! Your feedback has been submitted."),t.reset(),o.value="0",H(),W()}catch(K){$e("Server error: "+(((ge=(he=K==null?void 0:K.response)==null?void 0:he.data)==null?void 0:ge.message)||K.message))}finally{d.disabled=!1}}}b.addEventListener("mousemove",Fe),b.addEventListener("click",Ne),b.addEventListener("mouseleave",H),E&&E.addEventListener("click",Oe),$&&$.addEventListener("click",W),e.addEventListener("click",r=>{r.target===e&&W()}),document.addEventListener("keydown",r=>{r.key==="Escape"&&W()}),t.addEventListener("submit",_e);function je(){O(s,w(s,h.name.max)),O(n,w(n,h.message.max))}pe(s,h.name.max,h.name.min),pe(n,h.message.max,h.message.min),H()});function we(e){e.style.height="auto",e.style.height=e.scrollHeight+"px"}const V=document.getElementById("user-feedback");V&&(V.addEventListener("input",()=>we(V)),we(V));const X=document.querySelector(".scroll-to-top");let Ee=window.scrollY,_=!1,ke,ie;window.addEventListener("scroll",()=>{clearTimeout(ke),ke=setTimeout(()=>{const e=window.scrollY,t=e<Ee-70,n=window.innerHeight+e>=document.body.offsetHeight-10||t&&e>350;n&&!_?(X.classList.add("visible"),_=!0,clearTimeout(ie),ie=setTimeout(()=>{X.classList.remove("visible"),_=!1},3700)):!n&&_&&(X.classList.remove("visible"),_=!1,clearTimeout(ie)),Ee=e},70)});X.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=index.js.map
