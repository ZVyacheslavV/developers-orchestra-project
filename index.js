import{i as Q,a as A,g as q,P as xe,S as Ce,b as qe,N as Be}from"./assets/vendor-APrciT4z.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();const a={feedbacksContainer:document.querySelector(".feedbacks-container"),artistsList:document.querySelector("#artists-list"),artistDetailsModal:document.querySelector(".artist-details-modal"),artistDetailsModalCloseBtn:document.querySelector(".artist-details-modal-close-btn"),menuGenres:document.querySelector(".dropdown-menu-genres"),menuSort:document.querySelector(".dropdown-menu-sort"),panelSearch:document.querySelector(".filters-content"),btnGenres:document.querySelector(".dropdown-toggle-genres"),btnSort:document.querySelector(".dropdown-toggle-sort"),loader:document.querySelector(".loader"),btnSearch:document.querySelector(".search-and-filters-toggle"),searchInput:document.querySelector(".search-input"),searchBtnRequest:document.querySelector(".search-btn"),iconSearch:document.querySelector(".dropdown-icon-search"),iconSort:document.querySelector(".sort-icon"),iconGenres:document.querySelector(".genres-icon"),loaderArtistsWrapper:document.querySelector(".artists-loader-container"),toggleBtn:document.querySelector(".header-toggle"),mobileMenu:document.querySelector(".header-mobile-menu"),menuLinks:document.querySelectorAll(".header-mob-nav-link"),navLinks:document.querySelectorAll(".header-nav-link"),sections:document.querySelectorAll("section, .footer"),artistDetailsModalBackdrope:document.querySelector(".artist-details-backdrop"),heroBtn:document.querySelector(".hero-btn"),resetBtn:document.querySelector(".filters-reset-btn"),feedbackLoader:document.querySelector(".feedback-loader"),feedbackLoaderContainer:document.querySelector(".feedback-loader-container")},Ie="https://sound-wave.b.goit.study/api",T={ARTISTS:"/artists",ARTIST_BY_ID:"/artists/",ARTIST_ALBUMS_BY_ID:"/albums",GENRES:"/genres",FEEDBACKS:"/feedbacks",PRODUCTS_BY_CATEGORY:"/products/category/"},M=8,Pe=10;//!======================================================
function x(e="Something went wrong. Please try again later.",t="topRight"){Q.error({title:"",message:e,position:t,timeout:3e3,progressBar:!1})}function Re(e="Thank you! Your feedback means a lot to us.",t="topRight",s="ico-success"){Q.success({title:"",message:e,position:t,timeout:3e3,progressBar:!1,icon:s})}function ye(e="We couldn’t load the reviews. Please try again later.",t="topRight"){Q.error({title:"",message:e,position:t,timeout:3e3,progressBar:!1})}function Ge(e="Thank you! Your feedback means a lot to us.",t="topRight"){Q.success({title:"",message:e,position:t,timeout:3e3,progressBar:!1})}//!======================================================
function O(){a.loaderArtistsWrapper.classList.add("hidden")}function F(){a.loaderArtistsWrapper.classList.remove("hidden")}//!======================================================
function Oe(){var e,t,s,r;(e=a.feedbackLoader)==null||e.classList.add("hidden"),(t=a.feedbackLoaderContainer)==null||t.classList.add("hidden"),(s=a.feedbackLoaderContainer)==null||s.setAttribute("aria-hidden","true"),(r=a.feedbackLoader)==null||r.setAttribute("aria-hidden","true")}function Fe(){var e,t,s,r;(e=a.feedbackLoaderContainer)==null||e.classList.remove("hidden"),(t=a.feedbackLoader)==null||t.classList.remove("hidden"),(s=a.feedbackLoaderContainer)==null||s.setAttribute("aria-hidden","false"),(r=a.feedbackLoader)==null||r.setAttribute("aria-hidden","false")}//!======================================================
document.addEventListener("DOMContentLoaded",()=>{const{toggleBtn:e,mobileMenu:t,menuLinks:s}=a;function r(){document.body.style.overflow="hidden"}function n(){document.body.style.overflow=""}function i(){t.classList.add("active"),e.classList.add("active"),r()}function d(){t.classList.remove("active"),e.classList.remove("active"),n()}e==null||e.addEventListener("click",()=>{t.classList.contains("active")?d():i()}),s==null||s.forEach(f=>f.addEventListener("click",d))});const Ne=()=>a.navLinks.forEach(e=>e.classList.remove("active-link")),De=new IntersectionObserver(e=>{e.forEach(t=>{if(t.isIntersecting){Ne();const s=t.target.getAttribute("id");if(!s)return;const r=document.querySelector(`.header-nav-link[href="#${s}"]`);r&&r.classList.add("active-link")}})},{threshold:[0,.25,.5],rootMargin:"-30% 0px -60% 0px"});a.sections.forEach(e=>De.observe(e));A.defaults.baseURL=Ie;const Se=async e=>{const{data:t}=await A.get(`${T.ARTISTS}?limit=${M}&page=${e}`);return t},je=async e=>{const{data:t}=await A.get(`${T.ARTIST_BY_ID}${e}`);return t},He=async e=>{const{data:t}=await A.get(`${T.ARTIST_BY_ID}${e}${T.ARTIST_ALBUMS_BY_ID}`);return t},_e=async(e=1)=>{const{data:t}=await A.get(`${T.FEEDBACKS}?limit=${Pe}&page=${e}`);return t},Ye=async()=>{const{data:e}=await A.get(`${T.GENRES}`);return e},I=async({name:e,page:t=1,sorted:s="0",genre:r=""})=>{const{data:n}=await A.get(`${T.ARTISTS}?limit=${M}&page=${t}${e!=null&&e.length?`&name=${e}`:""}${s==="2"?"&sortName=desc":s==="1"?"&sortName=asc":""}${r?`&genre=${r}`:""}`);return n},Ue=async(e,t,s)=>{await A.post(`${T.FEEDBACKS}`,{name:e,rating:t,descr:s})},o={tlOpenSearch:window.matchMedia("(min-width: 1440px)").matches?null:q.timeline({paused:!0}).to(a.iconSearch,{rotate:180,duration:.35,ease:"power2.out"},0).fromTo(a.panelSearch,{opacity:0,y:-10,pointerEvents:"none"},{opacity:1,y:0,duration:.4,pointerEvents:"auto",ease:"power3.out"},0).from(a.panelSearch.children,{opacity:0,y:-6,stagger:.05,duration:.25,ease:"power2.out"},.1),tlCloseSearch:window.matchMedia("(min-width: 1440px)").matches?null:q.timeline({paused:!0}).to(a.iconSearch,{rotate:0,duration:.3,ease:"power2.in"},0).to(a.panelSearch,{opacity:0,y:-10,duration:.3,pointerEvents:"none",ease:"power2.in"},0),tlOpenSort:q.timeline({paused:!0}).to(a.iconSort,{rotate:180,duration:.35,ease:"power2.out"},0).fromTo(a.menuSort,{opacity:0,y:-10,pointerEvents:"none"},{opacity:1,y:0,duration:.4,pointerEvents:"auto",ease:"power3.out"},0).from(a.menuSort.children,{opacity:0,y:-6,stagger:.05,duration:.25,ease:"power2.out"},.1),tlCloseSort:q.timeline({paused:!0}).to(a.iconSort,{rotate:0,duration:.3,ease:"power2.in"},0).to(a.menuSort,{opacity:0,y:-10,duration:.3,pointerEvents:"none",ease:"power2.in"},0),tlOpenGenres:q.timeline({paused:!0}).to(a.iconGenres,{rotate:180,duration:.35,ease:"power2.out"},0).fromTo(a.menuGenres,{opacity:0,y:-10,pointerEvents:"none"},{opacity:1,y:0,duration:.4,pointerEvents:"auto",ease:"power3.out"},0).from(a.menuGenres.children,{opacity:0,y:-6,stagger:.05,duration:.25,ease:"power2.out"},.1),tlCloseGenres:q.timeline({paused:!0}).to(a.iconGenres,{rotate:0,duration:.3,ease:"power2.in"},0).to(a.menuGenres,{opacity:0,y:-10,duration:.3,pointerEvents:"none",ease:"power2.in"},0)};o.tlOpenSort.eventCallback("onStart",()=>{var e;(e=o.tlCloseSort)==null||e.pause(0).progress(0)});o.tlCloseSort.eventCallback("onStart",()=>{var e;(e=o.tlOpenSort)==null||e.pause(0).progress(0)});let c={name:"",page:1,sorted:0,genre:""};We();Xe();ze();Ke();Ve();Qe();Je();Ze();function ze(){a.searchInput.addEventListener("input",()=>{c.name=a.searchInput.value.trim()});const e=async()=>{var t,s;if(!((t=c.name)!=null&&t.length)){Re("Silence from you","topRight",null);return}document.querySelector(".js-artists-top").scrollIntoView({behavior:"smooth"}),F();try{const{artists:r}=await I(c);a.artistsList.innerHTML="",$(r)}catch(r){x(`Silence due problem ${r}`)}O(),(s=o==null?void 0:o.tlCloseSearch)==null||s.play(0)};a.searchBtnRequest.addEventListener("click",e),a.searchInput.addEventListener("keydown",t=>{t.key==="Enter"&&e()})}async function We(){try{const t='<li data-value="all">All Genres</li>'+(await Ye()).map(({genre:s})=>`<li data-value="${s}">${s}</li>`).join("");a.menuGenres.insertAdjacentHTML("beforeend",t)}catch(e){x(`While loading genres ${e}`)}}function Ke(){const e=t=>{document.querySelector(".artists-dropdown-sort").contains(t.target)||(o.tlCloseSort.restart(),o.tlCloseGenres.restart(),a.btnSort.classList.remove("open"),a.menuSort.classList.remove("open"))};a.btnSort.addEventListener("click",t=>{t.stopPropagation(),a.menuSort.classList.contains("open")?(o.tlOpenSort.pause(0),o.tlCloseSort.restart(),a.btnSort.classList.remove("open"),a.menuSort.classList.remove("open")):(o.tlOpenGenres.pause(0),o.tlCloseGenres.restart(),a.btnGenres.classList.remove("open"),a.menuGenres.classList.remove("open"),o.tlCloseSort.pause(0),o.tlOpenSort.restart(),a.btnSort.classList.add("open"),a.menuSort.classList.add("open"),document.addEventListener("click",e,{once:!0}))}),a.menuSort.addEventListener("click",async t=>{var r;document.querySelector(".js-artists-top").scrollIntoView({behavior:"smooth"});const s=t.target.closest("li");if(s){a.btnSort.querySelector(".dropdown-label").textContent=s.textContent,a.btnSort.dataset.value=s.dataset.value,c.sorted=s.dataset.value,F();try{const{artists:n}=await I(c);a.artistsList.innerHTML="",$(n)}catch(n){x(`Silence due problem ${n}`)}O(),o.tlOpenSort.pause(0),o.tlCloseSort.restart(),a.btnSort.classList.remove("open"),a.menuSort.classList.remove("open"),(r=o==null?void 0:o.tlCloseSearch)==null||r.play(0)}})}async function Ve(){const e=t=>{document.querySelector(".artists-dropdown-genres").contains(t.target)||(o.tlCloseGenres.restart(),o.tlCloseSort.restart(),a.btnGenres.classList.remove("open"),a.menuGenres.classList.remove("open"))};a.btnGenres.addEventListener("click",t=>{t.stopPropagation(),a.menuGenres.classList.contains("open")?(o.tlOpenGenres.pause(0),o.tlCloseGenres.restart(),a.btnGenres.classList.remove("open"),a.menuGenres.classList.remove("open")):(o.tlOpenSort.pause(0),o.tlCloseSort.restart(),a.btnSort.classList.remove("open"),a.menuSort.classList.remove("open"),o.tlCloseGenres.pause(0),o.tlOpenGenres.restart(),a.btnGenres.classList.add("open"),a.menuGenres.classList.add("open"),document.addEventListener("click",e,{once:!0}))}),a.menuGenres.addEventListener("click",async t=>{var r;document.querySelector(".js-artists-top").scrollIntoView({behavior:"smooth"});const s=t.target.closest("li");if(s){a.btnGenres.querySelector(".dropdown-label").textContent=s.textContent,a.btnGenres.dataset.value=s.dataset.value,c.genre=s.textContent==="All Genres"?"":s.textContent,F();try{const{artists:n}=await I(c);a.artistsList.innerHTML="",$(n)}catch(n){x(`Silence due problem ${n}`)}O(),o.tlOpenGenres.pause(0),o.tlCloseGenres.restart(),a.btnGenres.classList.remove("open"),a.menuGenres.classList.remove("open"),(r=o==null?void 0:o.tlCloseSearch)==null||r.play(0)}})}function Xe(){if(window.matchMedia("(min-width: 1440px)").matches)return;const e=t=>{document.querySelector(".filters-content").contains(t.target)||(o.tlCloseSearch.play(0),document.removeEventListener("click",e))};a.btnSearch.addEventListener("click",t=>{t.stopPropagation(),q.isTweening(a.panelSearch)||a.panelSearch.style.pointerEvents==="auto"?(o.tlOpenSearch.pause(0),o.tlCloseSearch.restart(),document.removeEventListener("click",e)):(o.tlCloseSearch.pause(0),o.tlOpenSearch.restart(),document.addEventListener("click",e))})}async function we(){c={name:"",page:1,sorted:0,genre:""},document.querySelector(".js-artists-top").scrollIntoView({behavior:"smooth"}),a.btnGenres.querySelector(".dropdown-label").textContent="Genre",a.btnSort.querySelector(".dropdown-label").textContent="Sorting",a.searchInput.value="",F();try{a.artistsList.innerHTML="";const{artists:e}=await I(c);$(e)}catch(e){x(`Silence due problem ${e}`)}O(),o.tlCloseGenres.play(0),o.tlCloseSort.play(0)}function Qe(){a.resetBtn.addEventListener("click",we)}function Je(){a.heroBtn.addEventListener("click",e=>{e.preventDefault(),document.querySelector(".js-artists-top").scrollIntoView({behavior:"smooth"})})}function Ze(){document.querySelectorAll("button").forEach(e=>{e.addEventListener("click",()=>{e.blur()})})}const C=window.matchMedia("(max-width: 767.98px)").matches,et=C?3:5;let p=null,Z=!1,B=!1,D=!1,L=!1,H=0,j=!1;function Le(e){var t;return`${((t=e.name)==null?void 0:t.trim())||""}|${e.genre||""}|${Number(e.sorted)||0}`}let V="";function tt(){return`
    <div class="no-artists is-hidden" data-no-artists>
      <svg class="no-artists-icon" width="40" height="40" aria-hidden="true">
        <use href="${new URL("/developers-orchestra-project/assets/icons-BzTTnpXu.svg",import.meta.url).href}#icon-error"></use>
      </svg>
      <h2 class="no-artists-title">Silence on the stage…</h2>
      <p class="no-artists-text">
        Looks like no artists match your filters.<br />
        Try changing them or hit “Reset Filters” to bring back the beat.
      </p>
      <button class="btn-reset-filters" type="button">Reset filters</button>
    </div>
  `}function st(){let e=document.querySelector("[data-no-artists]");return e||(a.artistsList.insertAdjacentHTML("afterend",tt()),e=document.querySelector("[data-no-artists]")),e}function at(){const e=st();e.classList.remove("is-hidden");const t=e.querySelector(".btn-reset-filters");t&&t.addEventListener("click",()=>{var s;c.page=1,(s=document.querySelector("#tui-pagination"))==null||s.classList.remove("hidden"),p&&(L=!0,p.movePageTo(1),setTimeout(()=>L=!1,0)),we()},{once:!0})}function me(){var e;(e=document.querySelector("[data-no-artists]"))==null||e.classList.add("is-hidden")}function G(e,t=0){const s=document.querySelector("#tui-pagination");s&&s.classList.toggle("hidden",!e||t<=0)}function re(){return!!(c.name&&c.name.trim().length||c.genre&&c.genre!=="all"&&c.genre!==""||c.sorted&&Number(c.sorted)!==0)}function Ee(e=0){if(p)return;const s=`
    <svg class="tui-ico-svg" width="24" height="24" aria-hidden="true">
      <use href="${new URL("/developers-orchestra-project/assets/icons-BzTTnpXu.svg",import.meta.url).href}#icon-right-arrow-alt"></use>
    </svg>
  `;p=new xe("#tui-pagination",{totalItems:e,itemsPerPage:M,page:c.page||1,visiblePages:et,centerAlign:!0,usageStatistics:!1,template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn is-active" aria-current="page">{{page}}</strong>',moveButton:`<a href="#" class="tui-page-btn tui-{{type}}">${s}</a>`,disabledMoveButton:`<span class="tui-page-btn is-disabled tui-{{type}}">${s}</span>`,moreButton:'<span class="tui-page-btn tui-ellipsis">…</span>'}}),p.on("afterMove",rt);const r=document.querySelector("#tui-pagination");r&&r.addEventListener("click",n=>{const i=n.target.closest("a.tui-page-btn");!i||i.classList.contains("is-disabled")||(j=!0)})}function ke(e){if(!p)return;const t=Math.max(1,Math.ceil(e/M)),s=Math.min(Math.max(c.page||1,1),t);p.getCurrentPage()!==s&&(B=!0,p.movePageTo(s)),G(t>1,e),C?ne():_()}async function pe({init:e=!1}={}){F();try{e&&(c.page=1);const t=Le(c),s=t!==V,r=e||s;s&&c.page!==1&&(c.page=1);const i=re()?await I(c):await Se(c.page),d=i.artists??[],f=Number(i.totalArtists)||0;D=!0,a.artistsList.innerHTML="",$(d),D=!1,Ee(f),H=f,r?(L=!0,B=!0,p.reset(f),p.getCurrentPage()!==1&&p.movePageTo(1),setTimeout(()=>L=!1,0),c.page=1):(p.setTotalItems(f),ke(f));const S=Math.ceil(f/M);G(S>1,f),C||_(),V=t}catch{re()&&x("Failed to fetch artists"),a.artistsList.innerHTML="",$([]),G(!1,0)}finally{O()}}function ne(){try{if(!C||!p)return;const e=document.querySelector("#tui-pagination");if(!e)return;let t=0;typeof p.getTotalItems=="function"&&(t=Number(p.getTotalItems())||0),t||(t=H||0);const s=Math.max(1,Math.ceil(t/M)),r=p.getCurrentPage(),i=`
      <svg class="tui-ico-svg" width="24" height="24" aria-hidden="true">
        <use href="${new URL("/developers-orchestra-project/assets/icons-BzTTnpXu.svg",import.meta.url).href}#icon-right-arrow-alt"></use>
      </svg>`,d=(k,g,b="")=>`<a href="#" class="tui-page-btn${b}" data-page="${g}">${k}</a>`,f='<span class="tui-page-btn tui-ellipsis">…</span>',S=r<=1?" is-disabled":"",E=r>=s?" is-disabled":"",y=[`<a href="#" class="tui-page-btn tui-prev${S}" data-page="${Math.max(1,r-1)}">${i}</a>`,d("1",1,r===1?" is-active":""),r>3?f:"",r>1&&r<s?d(String(r),r," is-active"):"",r<s-2?f:"",s>1?d(String(s),s,r===s?" is-active":""):"",`<a href="#" class="tui-page-btn tui-next${E}" data-page="${Math.min(s,r+1)}">${i}</a>`].join("");e.innerHTML=y,e.onclick=k=>{const g=k.target.closest("a.tui-page-btn:not(.is-disabled)");if(!g)return;k.preventDefault();const b=Number(g.dataset.page);Number.isFinite(b)&&b>=1&&b<=s&&b!==r&&(j=!0,p.movePageTo(b))}}catch{}}function _(){if(C||!p)return;const e=document.querySelector("#tui-pagination");if(!e)return;let t=0;typeof p.getTotalItems=="function"&&(t=Number(p.getTotalItems())||0),t||(t=H||0);const s=Math.max(1,Math.ceil(t/M));if(s<=1||Array.from(e.querySelectorAll(".tui-page-btn")).some(f=>!f.classList.contains("tui-prev")&&!f.classList.contains("tui-next")&&!f.classList.contains("tui-ellipsis")&&f.textContent.trim()===String(s)))return;const i=e.querySelector(".tui-next"),d=document.createElement("a");d.href="#",d.className="tui-page-btn",d.textContent=String(s),d.addEventListener("click",f=>{f.preventDefault(),j=!0,p.movePageTo(s)}),e.insertBefore(d,i||null)}async function rt({page:e}){if(L){L=!1,B=!1;return}if(j&&(B=!1,j=!1),!Z){Z=!0,F();try{c.page=e,a.artistsList.innerHTML="";const s=re()?await I(c):await Se(e),r=s.artists??[],n=Number(s.totalArtists)||0;D=!0,$(r),D=!1,p.setTotalItems(n),H=n,ke(n),C||_(),B?B=!1:ot()}catch{x("Failed to fetch artists"),$([]),G(!1,0)}finally{Z=!1,O()}}}let z=!1;function $(e=[]){z=!D;const t=new URL("/developers-orchestra-project/assets/icons-BzTTnpXu.svg",import.meta.url).href;if(!Array.isArray(e)||e.length===0){me(),a.artistsList.innerHTML="",at(),G(!1,0),document.dispatchEvent(new Event("artists:updated"));return}me();const s=e.map(({_id:r,strArtist:n="Unknown",strArtistThumb:i,strBiographyEN:d="",genres:f=[]})=>{const S=i||"https://placehold.co/736x414?text=No+Image",E=Array.isArray(f)&&f.length?`<ul class="artist-tags">${f.map(y=>`<li class="tag">${y}</li>`).join("")}</ul>`:'<ul class="artist-tags" aria-hidden="true"></ul>';return`
          <li class="artists-item">
            <div class="artist-card" data-id="${r}">
              <img
                src="${S}"
                alt="${n} — portrait"
                class="artist-img"
                loading="lazy"
                decoding="async"
                width="736" height="414"
              >
              ${E}
              <h3 class="artist-name">${n}</h3>
              ${d?`<p class="artist-desc text-clamp-3">${d}</p>`:""}
              <button class="artist-cta" type="button" data-artist-id="${r}" aria-label="Learn more about ${n}">
                Learn More
                <svg class="artist-cta-icon" width="24" height="24" aria-hidden="true">
                  <use href="${t}#icon-arrow-1"></use>
                </svg>
              </button>
            </div>
          </li>`}).join("");a.artistsList.insertAdjacentHTML("beforeend",s),document.dispatchEvent(new Event("artists:updated"))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{c.page=1,pe({init:!0})}):(c.page=1,pe({init:!0}));function X(){const e=document.querySelector(".js-artists-top")||document.querySelector("#artists");if(!e)return;let t=parseFloat(getComputedStyle(e).scrollMarginTop)||0;t||(t=window.matchMedia("(min-width:1440px)").matches?112:window.matchMedia("(min-width:768px)").matches?96:120);let s=Math.round(e.getBoundingClientRect().top+window.pageYOffset-t);Math.abs(window.pageYOffset-s)<2&&(s=Math.max(0,s-1));const r=window.matchMedia("(prefers-reduced-motion: reduce)").matches;window.scrollTo({top:s,left:0,behavior:r?"auto":"smooth"})}function nt(){const e=document.querySelector(".artists-list");if(!e)return;const t=Array.from(e.querySelectorAll("img"));if(t.length===0){X();return}let s=0;const r=()=>{s++,s===t.length&&X()};t.forEach(n=>{n.complete?r():(n.addEventListener("load",r,{once:!0}),n.addEventListener("error",r,{once:!0}))})}function ot(){requestAnimationFrame(X),nt(),setTimeout(X,400)}const it=112,v={enabled:!1,firstTop:0,lastRowTop:0,maxShift:0,rafId:0};function lt(e){const s=(getComputedStyle(e).gridTemplateColumns||"").split(" ").filter(Boolean).length;return Math.max(1,s||1)}function fe(e){const t=e.getBoundingClientRect();return Math.round(t.top+window.pageYOffset)}function ct(){v.enabled||(v.enabled=!0,Te(),window.addEventListener("scroll",oe,{passive:!0}),window.addEventListener("resize",ie,{passive:!0}))}function W(){var e;v.enabled&&(v.enabled=!1,window.removeEventListener("scroll",oe),window.removeEventListener("resize",ie),cancelAnimationFrame(v.rafId),(e=document.querySelector(".filters-panel"))==null||e.style.setProperty("--filters-shift","0px"))}function oe(){cancelAnimationFrame(v.rafId),v.rafId=requestAnimationFrame(Te)}function Te(){if(!v.enabled)return;const e=document.querySelector(".filters-panel");if(!e)return;const t=window.pageYOffset+it-v.firstTop,s=Math.round(Math.max(0,Math.min(t,v.maxShift)));e.style.setProperty("--filters-shift",`${s}px`)}function ie(){if(!window.matchMedia("(min-width:1440px)").matches){W();return}const e=a.artistsList,t=document.querySelector(".filters-panel");if(!e||!t||e.children.length===0){W();return}const s=lt(e),r=e.children.length;if(r<=s){W();return}const n=fe(e.children[0]),i=r-(r%s||s),d=fe(e.children[i]);v.firstTop=n,v.lastRowTop=d,v.maxShift=Math.max(0,d-n),ct(),oe()}async function dt(){const e=Le(c);if(e!==V)try{const t=await I({...c,page:1}),s=Number(t.totalArtists)||0;Ee(s),H=s,L=!0,B=!0,p.reset(s),p.getCurrentPage()!==1&&p.movePageTo(1),setTimeout(()=>L=!1,0),c.page=1;const r=Math.ceil(s/M);G(r>1,s),C?ne():_(),V=e}catch{}}document.addEventListener("artists:updated",()=>{var t;((t=a.artistsList)==null?void 0:t.children.length)>0?requestAnimationFrame(()=>{setTimeout(ie,50)}):W(),p&&(z&&c.page===1&&p.getCurrentPage()!==1&&(L=!0,p.movePageTo(1),setTimeout(()=>L=!1,0)),C?ne():_(),z&&dt(),z=!1)});const ut=5;function mt(e){const t=ht(e),s=$e(e);return`
    <div class="${t}" role="img" aria-label="Rating ${s} out of 5">
      <div class="star-container">
        ${gt(s,ut)}
      </div>
    </div>`}function pt({descr:e,name:t,rating:s}){return`
    <div class="swiper-slide feedback-card">
      ${mt(s)}
      <p class="feedback-text">"${e}"</p>
      <p class="feedback-author">${t}</p>
    </div>`}function ft(e){const t=e.map(pt).join("");a.feedbacksContainer.insertAdjacentHTML("beforeend",t)}function $e(e){const t=Number(e);return Math.min(5,Math.max(0,Number.isNaN(t)?0:t))}function ht(e){const t=$e(e),s=Math.floor(t),r=t%1>=.5;return`rating medium star-icon label-hidden value-${s} ${r?"half":""}`}function gt(e,t){const s=Math.floor(e),r=e%1>=.5;return Array.from({length:t},(n,i)=>i<s?ee("full"):ee(i===s&&r?"half":"empty")).join("")}function ee(e){return`
    <div class="star">
      <span class="star-empty">${te()}</span>
      <span class="star-half" ${e==="half"?"":'style="display:none" aria-hidden="true"'}>
        ${te()}
      </span>
      <span class="star-filled" ${e==="full"?"":'style="display:none" aria-hidden="true"'}>
        ${te()}
      </span>
    </div>`}function te(){return`
    <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false">
      <path d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.787 
        1.402 8.173L12 18.897l-7.336 3.86 
        1.402-8.173L.132 9.21l8.2-1.192z"></path>
    </svg>`}let U=null;async function bt(){var t;const e=document.querySelector("#reviews");e==null||e.setAttribute("data-state","loading"),e==null||e.setAttribute("aria-busy","true"),Fe();try{if(U)return;const s=((t=document.fonts)==null?void 0:t.ready)??Promise.resolve(),r=await _e(1);await s;const n=Array.isArray(r==null?void 0:r.data)?r.data:[];n.length?ft(n):ge(),U=new Ce(".swiper",{modules:[qe,Be],slidesPerView:1,spaceBetween:30,pagination:{el:".swiper-pagination",clickable:!1,renderBullet:vt},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{slideChange:he}}),he(U),U.update(),e==null||e.setAttribute("data-state","ready"),e==null||e.setAttribute("aria-busy","false")}catch{ye(),ge(),e==null||e.setAttribute("data-state","ready"),e==null||e.setAttribute("aria-busy","false")}finally{Oe()}}bt();function vt(e,t){return e<3?`<span class="${t}"></span>`:""}function he(e){wt(e),Lt(e)}const yt=document.querySelector(".swiper-button-prev"),St=document.querySelector(".swiper-button-next"),se=document.querySelector(".swiper-pagination");function wt(e){yt.classList.toggle("swiper-button-disabled",e.activeIndex===0),St.classList.toggle("swiper-button-disabled",e.activeIndex===e.slides.length-1)}function Lt(e){const t=se==null?void 0:se.querySelectorAll("span");if(!t.length)return;if(t.forEach(n=>n.classList.remove("swiper-pagination-bullet-active")),t.length===1){t[0].classList.add("swiper-pagination-bullet-active");return}const s=e.activeIndex===0,r=e.activeIndex===e.slides.length-1;t.length>=3?(s?t[0]:r?t[2]:t[1]).classList.add("swiper-pagination-bullet-active"):(s?t[0]:t[1]).classList.add("swiper-pagination-bullet-active")}function ge(){var e,t;a.feedbacksContainer.insertAdjacentHTML("beforeend",`
    <div class="swiper-slide feedback-card">
      <p class="feedback-text">We are waiting for your feedback! Be the first to share your impressions.</p>
    </div>`),(e=document.querySelector(".swiper-nav"))==null||e.classList.add("hidden"),(t=document.querySelector(".swiper-pagination"))==null||t.classList.add("hidden")}function Et(){a.artistDetailsModalBackdrope.classList.add("modal--is-open"),document.body.style.overflow="hidden",window.addEventListener("keydown",Ae),a.artistDetailsModalBackdrope.addEventListener("click",Me)}function le(){a.artistDetailsModalBackdrope.classList.remove("modal--is-open"),document.body.style.overflow="",window.removeEventListener("keydown",Ae),a.artistDetailsModalBackdrope.removeEventListener("click",Me)}function Ae(e){e.key==="Escape"&&le()}function Me(e){e.target===a.artistDetailsModalBackdrope&&le()}function kt(){var e;(e=a.loader)==null||e.classList.remove("is-hidden")}function Tt(){var e;(e=a.loader)==null||e.classList.add("is-hidden")}async function $t(e){try{kt();const t=await je(e),s=await He(e),r=(s==null?void 0:s.albumsList)||[],{intFormedYear:n,intDiedYear:i,strArtist:d,strArtistThumb:f,strGender:S,intMembers:E,strCountry:y,strBiographyEN:k,genres:g}=t;let b;n&&i?b=`${n} - ${t.intDiedYear}`:n&&!i?b=`${n} - present`:b="information missing";const P=m=>{if(!m||isNaN(m))return"";const l=Math.floor(m/1e3),h=Math.floor(l/60),w=String(l%60).padStart(2,"0");return`${h}:${w}`},J=t.strArtistThumb?t.strArtistThumb:"https://placehold.co/736x414?text=No+Image",Y=new URL("/developers-orchestra-project/assets/icons-BzTTnpXu.svg",import.meta.url).href,R=`
        <div class="artist-details-modal-content">
            <button class="artist-details-modal-close-btn" type="button" aria-label="Close the detailed information window">
                <svg class="modal-svg" width="32" height="32">
                    <use href="${Y}#icon-close"></use>
                </svg>
            </button> 

            <h2 class="artist-details-modal-main-title">${d}</h2>
            <div class="artist-details-modal-main-block">
                <img class="artist-details-modal-img" src="${J}" alt="${t.name}" />

                <div class="artist-details-modal-info">
                <ul class="artist-details-modal-list">
                <li class="artist-details-modal-list-item">
                    <h3 class="artist-details-modal-title">Years active</h3>
                    <p  class="artist-details-modal-text">${b}</p>
                </li>
                ${S?`
                    <li class="artist-details-modal-list-item">
                        <h3 class="artist-details-modal-title">Sex</h3>
                        <p class="artist-details-modal-text">${S}</p>
                    </li>
                    `:""}
                ${E?`
                    <li class="artist-details-modal-list-item">
                        <h3 class="artist-details-modal-title">Members</h3>
                        <p class="artist-details-modal-text">${E}</p>
                    </li>
                    `:""}
                <li class="artist-details-modal-list-item">
                    <h3 class="artist-details-modal-title">Country</h3>
                    <p class="artist-details-modal-text">${y}</p>
                </li>
                <li class="artist-details-modal-list-item">
                    <h3 class="artist-details-modal-title">Biography</h3>
                    <p class="artist-details-modal-text">${k}</p>
                </li>
                </ul>
                
                ${Array.isArray(g)&&g.length?`<ul class="artist-details-modal-block-genres">${g.map(m=>`<li class="artist-details-modal-block-genres-item">${m}</li>`).join("")}</ul>`:""}
            </div>
            </div>
            <h3 class="artist-details-modal-albums">Albums</h3>
            <div class="artist-details-modal-albums-wrap">
            ${r.length>0?r.map(m=>{var l;return`
                <div class="artist-details-modal-albums-list">
                <h4 class="artist-details-modal-albums-list-title">${m.strAlbum}</h4>
                <table>
                <thead class="artist-details-modal-albums-list-table-head">
                    <tr>
                    <th class="artist-details-modal-albums-list-table col-1">Track</th>
                    <th class="artist-details-modal-albums-list-table col-2">Time</th>
                    <th class="artist-details-modal-albums-list-table col-3">Link</th>
                    </tr>
                </thead>
                <tbody class="artist-details-modal-albums-list-table-body">
                    ${((l=m.tracks)==null?void 0:l.map(h=>`
                    <tr>
                        <td class="artist-details-modal-albums-list-table-text col-1">${h.strTrack}</td>
                        <td class="artist-details-modal-albums-list-table-text col-2">${P(h.intDuration)}</td>
                        <td class= "col-3">
                            ${h.movie&&h.movie!=="null"?`
                                <a class="modal-link-youtube" href="${h.movie}" target="_blank" aria-label="Watch a video on YouTube">
                                    <svg class="modal-youtube" width="24" height="20">
                                        <use href="${Y}#icon-youtube"></use>
                                    </svg>
                                </a>
                            `:""}
                        </td>
                    </tr>
                    `).join(""))||""}
                </tbody>
                </table>
            </div>
            `}).join(""):"<p>No albums found</p>"}
            </div>
        </div>
        `;a.artistDetailsModal.innerHTML=`${R}`,a.artistDetailsModalBackdrope.querySelector(".artist-details-modal-close-btn").addEventListener("click",le),Et()}catch(t){x(t.message)}finally{Tt()}}a.artistsList.addEventListener("click",e=>{const t=e.target.closest(".artist-cta");if(!t)return;const s=t.dataset.artistId;s&&$t(s)});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".feedback-backdrop"),t=document.querySelector(".feedback-modal-form"),s=document.getElementById("user-name"),r=document.getElementById("user-feedback"),n=document.getElementById("ratingValue"),i=t.querySelector(".feedback-modal-btn"),d=document.querySelectorAll(".modal-star"),f=document.getElementById("ratingError");function S(u){f.textContent=u}function E(){f.textContent=""}const y=document.querySelector(".stars-wrapper");function k(u){d.forEach((m,l)=>{if(l+1<=u)m.style.setProperty("--star-fill","#764191");else if(l<u){const h=u-l;m.style.setProperty("--star-fill",`linear-gradient(to right, #764191 ${h*100}%, #ffffff ${h*100}%)`)}else m.style.setProperty("--star-fill","#ffffff")})}function g(){const u=parseFloat(n.value)||0;k(u)}y.addEventListener("mousemove",u=>{const m=y.getBoundingClientRect(),l=u.clientX-m.left,h=m.width/d.length,w=Math.min(d.length,Math.ceil(l/h*10)/10);k(w)}),y.addEventListener("click",u=>{const m=y.getBoundingClientRect(),l=u.clientX-m.left,h=m.width/d.length,w=Math.min(d.length,Math.ceil(l/h*10)/10);n.value=w,g()}),y.addEventListener("mouseleave",g),g();const b=document.querySelector(".leave-feedback-button");b&&b.addEventListener("click",()=>{t.reset(),n.value="0",g(),E(),R(s),R(r),e.classList.add("is-open"),document.body.style.overflow="hidden"});const P=()=>{e.classList.remove("is-open"),document.body.style.overflow=""};document.querySelector(".feedback-modal-close").addEventListener("click",P),e.addEventListener("click",u=>{u.target===e&&P()}),document.addEventListener("keydown",u=>{u.key==="Escape"&&P()});const J=(u,m)=>{let l=u.nextElementSibling;(!l||!l.classList.contains("field-error"))&&(l=document.createElement("div"),l.classList.add("field-error"),u.insertAdjacentElement("afterend",l)),l.style.position="absolute",l.style.top=window.matchMedia("(min-width: 1440px)").matches?"448px":window.matchMedia("(min-width: 768px)").matches?"428px":"366px",l.textContent=m,u.classList.add("input-error"),u.setAttribute("aria-invalid","true")},Y=(u,m)=>{let l=u.nextElementSibling;(!l||!l.classList.contains("field-error"))&&(l=document.createElement("div"),l.classList.add("field-error"),u.insertAdjacentElement("afterend",l)),l.style.position="absolute",l.style.top=window.matchMedia("(min-width: 1440px)").matches?"259px":window.matchMedia("(min-width: 768px)").matches?"239px":"169px",l.textContent=m,u.classList.add("input-error"),u.setAttribute("aria-invalid","true")},R=u=>{let m=u.nextElementSibling;m&&m.classList.contains("field-error")&&(m.textContent=""),u.classList.remove("input-error"),u.removeAttribute("aria-invalid")};t.addEventListener("submit",async u=>{var ce,de;u.preventDefault(),R(s),R(r),E();const m=s.value.trim(),l=r.value.trim(),h=parseFloat(n.value);let w=!1;if((m.length<2||m.length>16)&&(Y(s,"Name must be between 2 and 16 characters"),w=!0),(l.length<10||l.length>512)&&(J(r,"Message must be between 10 and 512 characters"),w=!0),(h<.25||h>5)&&(S("Please provide a rating between 0.25 and 5"),w=!0),!w){i.disabled=!0;try{await Ue(m,h,l),Ge("Thank you! Your feedback has been submitted."),t.reset(),n.value="0",g(),P()}catch(ue){ye("Server error: "+(((de=(ce=ue.response)==null?void 0:ce.data)==null?void 0:de.message)||ue.message))}finally{i.disabled=!1}}}),g()});const K=document.querySelector(".scroll-to-top");let be=window.scrollY,N=!1,ve,ae;window.addEventListener("scroll",()=>{clearTimeout(ve),ve=setTimeout(()=>{const e=window.scrollY,t=e<be-70,r=window.innerHeight+e>=document.body.offsetHeight-10||t&&e>350;r&&!N?(K.classList.add("visible"),N=!0,clearTimeout(ae),ae=setTimeout(()=>{K.classList.remove("visible"),N=!1},3700)):!r&&N&&(K.classList.remove("visible"),N=!1,clearTimeout(ae)),be=e},70)});K.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=index.js.map
