{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/constants.js","../src/js/helpers.js","../src/js/header.js","../src/js/artists-api.js","../src/js/animations.js","../src/js/artists-additional.js","../src/js/artists.js","../src/js/feedback.js","../src/js/artist-details-modal.js","../src/js/feedback-modal.js","../src/js/button-up.js"],"sourcesContent":["/* Refs */\nexport const refs = {\n  feedbacksContainer: document.querySelector('.feedbacks-container'),\n  artistsList: document.querySelector('#artists-list'),\n  artistDetailsModal: document.querySelector('.artist-details-modal'),\n  artistDetailsModalCloseBtn: document.querySelector(\n    '.artist-details-modal-close-btn'\n  ),\n  menuGenres: document.querySelector('.dropdown-menu-genres'),\n  menuSort: document.querySelector('.dropdown-menu-sort'),\n  panelSearch: document.querySelector('.filters-content'),\n  btnGenres: document.querySelector('.dropdown-toggle-genres'),\n  btnSort: document.querySelector('.dropdown-toggle-sort'),\n  loader: document.querySelector('.loader'),\n  btnSearch: document.querySelector('.search-and-filters-toggle'),\n  searchInput: document.querySelector('.search-input'),\n  searchBtnRequest: document.querySelector('.search-btn'),\n  iconSearch: document.querySelector('.dropdown-icon-search'),\n  iconSort: document.querySelector('.sort-icon'),\n  iconGenres: document.querySelector('.genres-icon'),\n  loaderArtistsWrapper: document.querySelector('.artists-loader-container'),\n  toggleBtn: document.querySelector('.header-toggle'),\n  mobileMenu: document.querySelector('.header-mobile-menu'),\n  menuLinks: document.querySelectorAll('.header-mob-nav-link'),\n  artistDetailsModalBackdrope: document.querySelector(\n    '.artist-details-backdrop'\n  ),\n  heroBtn: document.querySelector('.hero-btn'),\n  resetBtn: document.querySelector('.filters-reset-btn'),\n\n  feedbackLoader: document.querySelector('.feedback-loader'),\n  feedbackLoaderContainer: document.querySelector('.feedback-loader-container'),\n};\n","/* Constants */\nexport const BASE_URL = 'https://sound-wave.b.goit.study/api';\nexport const API_ENDPOINTS = {\n  ARTISTS: '/artists',\n  ARTIST_BY_ID: '/artists/',\n  ARTIST_ALBUMS_BY_ID: '/albums',\n\n  GENRES: '/genres',\n\n  FEEDBACKS: '/feedbacks',\n  PRODUCTS_BY_CATEGORY: '/products/category/',\n};\nexport const ARTISTS_PER_PAGE = 8;\nexport const FEEDBACKS_PER_QUEUE = 10;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { refs } from './refs';\n\n//!======================================================\n\n/* Helpers */\nexport function toastError(\n  message = 'Something went wrong. Please try again later.',\n  position = 'topCenter'\n) {\n  iziToast.error({\n    title: '',\n    message,\n    position,\n    timeout: 3000,\n    progressBar: false,\n  });\n}\n\nexport function toastSuccess(\n  message = 'Thank you! Your feedback means a lot to us.',\n  position = 'topCenter'\n) {\n  iziToast.success({\n    title: '',\n    message,\n    position,\n    timeout: 3000,\n    progressBar: false,\n  });\n}\n\nexport function toastErrorFeedbacks(\n  message = 'We couldn’t load the reviews. Please try again later.',\n  position = 'topRight'\n) {\n  iziToast.error({\n    title: '',\n    message,\n    position,\n    timeout: 3000,\n    progressBar: false,\n  });\n}\n\nexport function toastSuccessFeedbacks(\n  message = 'Thank you! Your feedback means a lot to us.',\n  position = 'topRight'\n) {\n  iziToast.success({\n    title: '',\n    message,\n    position,\n    timeout: 3000,\n    progressBar: false,\n  });\n}\n\n//!======================================================\n\nexport function hideLoaderArtists() {\n  refs.loaderArtistsWrapper.classList.add('hidden');\n}\n\nexport function showLoaderArtists() {\n  refs.loaderArtistsWrapper.classList.remove('hidden');\n}\n\n//!======================================================\n\nexport function hideLoaderFeedback() {\n  refs.feedbackLoader?.classList.add('hidden');\n  refs.feedbackLoaderContainer?.classList.add('hidden');\n\n  refs.feedbackLoaderContainer?.setAttribute('aria-hidden', 'true');\n  refs.feedbackLoader?.setAttribute('aria-hidden', 'true');\n}\n\nexport function showLoaderFeedback() {\n  refs.feedbackLoaderContainer?.classList.remove('hidden');\n  refs.feedbackLoader?.classList.remove('hidden');\n\n  refs.feedbackLoaderContainer?.setAttribute('aria-hidden', 'false');\n  refs.feedbackLoader?.setAttribute('aria-hidden', 'false');\n}\n\n//!======================================================\n","import { refs } from './refs.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const { toggleBtn, mobileMenu, menuLinks } = refs;\n\n  function openMenu() {\n    mobileMenu.classList.add('active');\n    toggleBtn.classList.add('active');\n  }\n\n  function closeMenu() {\n    mobileMenu.classList.remove('active');\n    toggleBtn.classList.remove('active');\n  }\n\n  toggleBtn?.addEventListener('click', () => {\n    if (mobileMenu.classList.contains('active')) {\n      closeMenu();\n    } else {\n      openMenu();\n    }\n  });\n\n  menuLinks?.forEach(link => link.addEventListener('click', closeMenu));\n});\n","/* Backend api */\nimport axios from 'axios';\nimport {\n  API_ENDPOINTS,\n  ARTISTS_PER_PAGE,\n  BASE_URL,\n  FEEDBACKS_PER_QUEUE,\n} from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport const getArtists = async page => {\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.ARTISTS}?limit=${ARTISTS_PER_PAGE}&page=${page}`\n  );\n  return data;\n};\n\nexport const getArtistById = async id => {\n  const { data } = await axios.get(`${API_ENDPOINTS.ARTIST_BY_ID}${id}`);\n  return data;\n};\n\nexport const getArtistAlbumsById = async id => {\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.ARTIST_BY_ID}${id}${API_ENDPOINTS.ARTIST_ALBUMS_BY_ID}`\n  );\n  return data;\n};\n\nexport const getFeedbacks = async (page = 1) => {\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.FEEDBACKS}?limit=${FEEDBACKS_PER_QUEUE}&page=${page}`\n  );\n  return data;\n};\n\nexport const getGenres = async () => {\n  const { data } = await axios.get(`${API_ENDPOINTS.GENRES}`);\n  return data;\n};\n\nexport const searchArtist = async ({\n  name,\n  page = 1,\n  sorted = '0',\n  genre = '',\n}) => {\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.ARTISTS}?limit=${ARTISTS_PER_PAGE}&page=${page}${\n      name?.length ? `&name=${name}` : ''\n    }${\n      sorted === '2' ? `&sortName=desc` : sorted === '1' ? `&sortName=asc` : ''\n    }${genre ? `&genre=${genre}` : ''}`\n  );\n  return data;\n};\n\nexport const addNewFeedback = async (name, rating, descr /* , closeFunc */) => {\n  await axios.post(`${API_ENDPOINTS.FEEDBACKS}`, {\n    name,\n    rating,\n    descr,\n  });\n};\n","import { gsap } from 'gsap';\nimport { refs } from './refs';\n\nexport const timeLines = {\n  tlOpenSearch: !window.matchMedia('(min-width: 1440px)').matches\n    ? gsap\n        .timeline({ paused: true })\n        .to(\n          refs.iconSearch,\n          { rotate: 180, duration: 0.35, ease: 'power2.out' },\n          0\n        )\n        .fromTo(\n          refs.panelSearch,\n          { opacity: 0, y: -10, pointerEvents: 'none' },\n          {\n            opacity: 1,\n            y: 0,\n            duration: 0.4,\n            pointerEvents: 'auto',\n            ease: 'power3.out',\n          },\n          0\n        )\n        .from(\n          refs.panelSearch.children,\n          {\n            opacity: 0,\n            y: -6,\n            stagger: 0.05,\n            duration: 0.25,\n            ease: 'power2.out',\n          },\n          0.1\n        )\n    : null,\n\n  tlCloseSearch: !window.matchMedia('(min-width: 1440px)').matches\n    ? gsap\n        .timeline({ paused: true })\n        .to(refs.iconSearch, { rotate: 0, duration: 0.3, ease: 'power2.in' }, 0)\n        .to(\n          refs.panelSearch,\n          {\n            opacity: 0,\n            y: -10,\n            duration: 0.3,\n            pointerEvents: 'none',\n            ease: 'power2.in',\n          },\n          0\n        )\n    : null,\n\n  tlOpenSort: gsap\n    .timeline({ paused: true })\n    .to(refs.iconSort, { rotate: 180, duration: 0.35, ease: 'power2.out' }, 0)\n    .fromTo(\n      refs.menuSort,\n      { opacity: 0, y: -10, pointerEvents: 'none' },\n      {\n        opacity: 1,\n        y: 0,\n        duration: 0.4,\n        pointerEvents: 'auto',\n        ease: 'power3.out',\n      },\n      0\n    )\n    .from(\n      refs.menuSort.children,\n      {\n        opacity: 0,\n        y: -6,\n        stagger: 0.05,\n        duration: 0.25,\n        ease: 'power2.out',\n      },\n      0.1\n    ),\n\n  tlCloseSort: gsap\n    .timeline({ paused: true })\n    .to(refs.iconSort, { rotate: 0, duration: 0.3, ease: 'power2.in' }, 0)\n    .to(\n      refs.menuSort,\n      {\n        opacity: 0,\n        y: -10,\n        duration: 0.3,\n        pointerEvents: 'none',\n        ease: 'power2.in',\n      },\n      0\n    ),\n\n  tlOpenGenres: gsap\n    .timeline({ paused: true })\n    .to(refs.iconGenres, { rotate: 180, duration: 0.35, ease: 'power2.out' }, 0)\n    .fromTo(\n      refs.menuGenres,\n      { opacity: 0, y: -10, pointerEvents: 'none' },\n      {\n        opacity: 1,\n        y: 0,\n        duration: 0.4,\n        pointerEvents: 'auto',\n        ease: 'power3.out',\n      },\n      0\n    )\n    .from(\n      refs.menuGenres.children,\n      {\n        opacity: 0,\n        y: -6,\n        stagger: 0.05,\n        duration: 0.25,\n        ease: 'power2.out',\n      },\n      0.1\n    ),\n\n  tlCloseGenres: gsap\n    .timeline({ paused: true })\n    .to(refs.iconGenres, { rotate: 0, duration: 0.3, ease: 'power2.in' }, 0)\n    .to(\n      refs.menuGenres,\n      {\n        opacity: 0,\n        y: -10,\n        duration: 0.3,\n        pointerEvents: 'none',\n        ease: 'power2.in',\n      },\n      0\n    ),\n};\n\ntimeLines.tlOpenSort.eventCallback('onStart', () => {\n  timeLines.tlCloseSort?.pause(0).progress(0);\n});\ntimeLines.tlCloseSort.eventCallback('onStart', () => {\n  timeLines.tlOpenSort?.pause(0).progress(0);\n});\n","/* Artists additional */\nimport { timeLines } from './animations.js';\nimport { getArtists, getGenres, searchArtist } from './artists-api';\nimport { loadArtists, renderArtists } from './artists.js';\nimport {\n  hideLoaderArtists,\n  showLoaderArtists,\n  toastError,\n  toastSuccess,\n} from './helpers';\nimport { refs } from './refs.js';\nimport { gsap } from 'gsap';\n\nexport let query = { name: '', page: 1, sorted: 0, genre: '' };\n\n// const allDropdowns = [];\n\n//Inits:\ninitGenresMarkup();\n\ninitSearchAndFilters();\n\ninitSearchRequest();\n\ninitSort();\n\ninitGenres();\n\ninitReset();\n\nexecHeroBtnClick();\n\nhelpClearHoverOnButtons();\n\n//Functions:\nfunction initSearchRequest() {\n  refs.searchInput.addEventListener('input', () => {\n    query.name = refs.searchInput.value.trim();\n  });\n\n  const handleSearchBtnRequest = async () => {\n    if (!query.name?.length) {\n      toastError('Silence from you');\n      return;\n    }\n    showLoaderArtists();\n\n    try {\n      const { artists } = await searchArtist(query);\n      refs.artistsList.innerHTML = '';\n      renderArtists(artists);\n    } catch (err) {\n      toastError(`Silence due problem ${err}`);\n    }\n\n    hideLoaderArtists();\n    if (!window.matchMedia('(min-width: 1440px)'))\n      timeLines.tlCloseSearch.play(0);\n  };\n\n  refs.searchBtnRequest.addEventListener('click', handleSearchBtnRequest);\n\n  refs.searchInput.addEventListener('keydown', e => {\n    if (e.key === 'Enter') {\n      handleSearchBtnRequest();\n    }\n  });\n}\n\nasync function initGenresMarkup() {\n  try {\n    const genres = await getGenres();\n    const markup =\n      '<li data-value=\"all\">All Genres</li>' +\n      genres\n        .map(({ genre }) => `<li data-value=\"${genre}\">${genre}</li>`)\n        .join('');\n    refs.menuGenres.insertAdjacentHTML('beforeend', markup);\n  } catch (err) {\n    toastError(`While loading genres ${err}`);\n  }\n}\n\nfunction initDropdown({ btn, menu, wrapperSelector }) {\n  const icon = btn.querySelector('.dropdown-icon');\n  const tlOpen = gsap.timeline({ paused: true });\n  const tlClose = gsap.timeline({ paused: true });\n\n  const outsideClickHandler = e => {\n    if (!document.querySelector(wrapperSelector).contains(e.target)) {\n      tlClose.restart();\n      btn.classList.remove('open');\n      menu.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  };\n\n  tlOpen\n    .to(icon, { rotate: 180, duration: 0.35, ease: 'power2.out' }, 0)\n    .fromTo(\n      menu,\n      { opacity: 0, y: -10, pointerEvents: 'none' },\n      {\n        opacity: 1,\n        y: 0,\n        duration: 0.4,\n        pointerEvents: 'auto',\n        ease: 'power3.out',\n      },\n      0\n    )\n    .from(\n      menu.children,\n      {\n        opacity: 0,\n        y: -6,\n        stagger: 0.05,\n        duration: 0.25,\n        ease: 'power2.out',\n      },\n      0.1\n    );\n\n  tlClose.to(icon, { rotate: 0, duration: 0.3, ease: 'power2.in' }, 0).to(\n    menu,\n    {\n      opacity: 0,\n      y: -10,\n      duration: 0.3,\n      pointerEvents: 'none',\n      ease: 'power2.in',\n    },\n    0\n  );\n\n  btn.addEventListener('click', e => {\n    e.stopPropagation();\n    const isOpen = menu.classList.contains('open');\n\n    // Closing others:\n    if (!isOpen) {\n      allDropdowns.forEach(d => {\n        if (d.menu !== menu) {\n          d.tlOpen.pause(0);\n          d.tlClose.restart();\n          d.btn.classList.remove('open');\n          d.menu.classList.remove('open');\n        }\n      });\n\n      tlClose.pause(0);\n      tlOpen.restart();\n      btn.classList.add('open');\n      menu.classList.add('open');\n      document.addEventListener('click', outsideClickHandler, { once: true });\n      // document.body.classList.add('no-scroll');\n    } else {\n      tlOpen.pause(0);\n      tlClose.restart();\n      btn.classList.remove('open');\n      menu.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  });\n\n  menu.addEventListener('click', e => {\n    const item = e.target.closest('li');\n    if (!item) return;\n\n    btn.querySelector('.dropdown-label').textContent = item.textContent;\n    btn.dataset.value = item.dataset.value;\n\n    tlOpen.pause(0);\n    tlClose.restart();\n    btn.classList.remove('open');\n    menu.classList.remove('open');\n    // document.body.classList.remove('no-scroll');\n  });\n\n  // Saving for closing others in future:\n  allDropdowns.push({ btn, menu, tlOpen, tlClose });\n}\n\n//================================================================\n/* == Init Sort, Init Genres functions == */\nfunction initSort() {\n  const outsideClickHandler = e => {\n    if (!document.querySelector('.artists-dropdown-sort').contains(e.target)) {\n      timeLines.tlCloseSort.restart();\n      timeLines.tlCloseGenres.restart(); //try\n      refs.btnSort.classList.remove('open');\n      refs.menuSort.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  };\n\n  refs.btnSort.addEventListener('click', e => {\n    e.stopPropagation();\n    const isOpen = refs.menuSort.classList.contains('open');\n\n    if (!isOpen) {\n      //Closing genres\n      timeLines.tlOpenGenres.pause(0);\n      timeLines.tlCloseGenres.restart();\n      refs.btnGenres.classList.remove('open');\n      refs.menuGenres.classList.remove('open');\n\n      timeLines.tlCloseSort.pause(0);\n      timeLines.tlOpenSort.restart();\n      refs.btnSort.classList.add('open');\n      refs.menuSort.classList.add('open');\n      document.addEventListener('click', outsideClickHandler, { once: true });\n      // document.body.classList.add('no-scroll');\n    } else {\n      timeLines.tlOpenSort.pause(0);\n      timeLines.tlCloseSort.restart();\n      refs.btnSort.classList.remove('open');\n      refs.menuSort.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  });\n\n  refs.menuSort.addEventListener('click', async e => {\n    const item = e.target.closest('li');\n    if (!item) return;\n\n    refs.btnSort.querySelector('.dropdown-label').textContent =\n      item.textContent;\n    refs.btnSort.dataset.value = item.dataset.value;\n\n    query.sorted = item.dataset.value;\n\n    showLoaderArtists();\n    try {\n      const { artists } = await searchArtist(query);\n      refs.artistsList.innerHTML = '';\n      renderArtists(artists);\n    } catch (err) {\n      toastError(`Silence due problem ${err}`);\n    }\n    hideLoaderArtists();\n\n    timeLines.tlOpenSort.pause(0);\n    timeLines.tlCloseSort.restart();\n    refs.btnSort.classList.remove('open');\n    refs.menuSort.classList.remove('open');\n    // document.body.classList.remove('no-scroll');\n  });\n\n  // Saving for closing others in future:\n  // allDropdowns.push({ btn, menu, tlOpen, tlClose });\n}\n\nasync function initGenres() {\n  const outsideClickHandler = e => {\n    if (\n      !document.querySelector('.artists-dropdown-genres').contains(e.target)\n    ) {\n      timeLines.tlCloseGenres.restart();\n      timeLines.tlCloseSort.restart(); //try\n      refs.btnGenres.classList.remove('open');\n      refs.menuGenres.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  };\n\n  refs.btnGenres.addEventListener('click', e => {\n    e.stopPropagation();\n    const isOpen = refs.menuGenres.classList.contains('open');\n\n    if (!isOpen) {\n      //Closing sort\n      timeLines.tlOpenSort.pause(0);\n      timeLines.tlCloseSort.restart();\n      refs.btnSort.classList.remove('open');\n      refs.menuSort.classList.remove('open');\n\n      timeLines.tlCloseGenres.pause(0);\n      timeLines.tlOpenGenres.restart();\n      refs.btnGenres.classList.add('open');\n      refs.menuGenres.classList.add('open');\n      document.addEventListener('click', outsideClickHandler, { once: true });\n      // document.body.classList.add('no-scroll');\n    } else {\n      timeLines.tlOpenGenres.pause(0);\n      timeLines.tlCloseGenres.restart();\n      refs.btnGenres.classList.remove('open');\n      refs.menuGenres.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  });\n\n  refs.menuGenres.addEventListener('click', async e => {\n    const item = e.target.closest('li');\n    if (!item) return;\n\n    refs.btnGenres.querySelector('.dropdown-label').textContent =\n      item.textContent;\n    refs.btnGenres.dataset.value = item.dataset.value;\n\n    query.genre = item.textContent === 'All Genres' ? '' : item.textContent;\n\n    showLoaderArtists();\n    try {\n      const { artists } = await searchArtist(query);\n      refs.artistsList.innerHTML = '';\n      renderArtists(artists);\n    } catch (err) {\n      toastError(`Silence due problem ${err}`);\n    }\n    hideLoaderArtists();\n\n    timeLines.tlOpenGenres.pause(0);\n    timeLines.tlCloseGenres.restart();\n    refs.btnGenres.classList.remove('open');\n    refs.menuGenres.classList.remove('open');\n    // document.body.classList.remove('no-scroll');\n  });\n\n  // Saving for closing others in future:\n  // allDropdowns.push({ btn, menu, tlOpen, tlClose });\n}\n\n//================================================================\n\nfunction initSearchAndFilters() {\n  // no initialization of animation\n  if (window.matchMedia('(min-width: 1440px)').matches) {\n    return;\n  }\n\n  const outsideClickHandler = e => {\n    if (!document.querySelector('.filters-content').contains(e.target)) {\n      timeLines.tlCloseSearch.play(0);\n      document.removeEventListener('click', outsideClickHandler);\n    }\n    // refs.btnSearch.classList.remove('open');\n    // refs.panelSearch.classList.remove('open');\n  };\n\n  refs.btnSearch.addEventListener('click', e => {\n    e.stopPropagation();\n    const isOpenSearch =\n      gsap.isTweening(refs.panelSearch) ||\n      refs.panelSearch.style.pointerEvents === 'auto';\n\n    if (!isOpenSearch) {\n      timeLines.tlCloseSearch.pause(0);\n      timeLines.tlOpenSearch.restart();\n      document.addEventListener('click', outsideClickHandler);\n      // refs.btnSearch.classList.add('open');\n      // refs.panelSearch.classList.add('open');\n    } else {\n      timeLines.tlOpenSearch.pause(0);\n      timeLines.tlCloseSearch.restart();\n      document.removeEventListener('click', outsideClickHandler);\n      // refs.btnSearch.classList.remove('open');\n      // refs.panelSearch.classList.remove('open');\n    }\n  });\n\n  /* refs.panelSearch.addEventListener('click', e => {\n    refs.btnSearch.classList.remove('open');\n    refs.panelSearch.classList.remove('open');\n    const item = e.target.closest('li');\n    if (!item) return;\n\n    refs.btnSearch.querySelector('.dropdown-label').textContent =\n      item.textContent;\n    refs.btnSearch.dataset.value = item.dataset.value;\n\n    tlOpen.pause(0);\n    tlClose.restart();\n    document.removeEventListener('click', outsideClickHandler);\n  }); */\n}\n\nfunction initReset() {\n  const handleResetQuery = async () => {\n    query = { name: '', page: 1, sorted: 0, genre: '' };\n    refs.btnGenres.querySelector('.dropdown-label').textContent = 'Genre';\n    refs.btnSort.querySelector('.dropdown-label').textContent = 'Sorting';\n    refs.searchInput.value = '';\n\n    showLoaderArtists();\n    try {\n      refs.artistsList.innerHTML = '';\n      // loadArtists();\n      const { artists } = await searchArtist(query);\n      renderArtists(artists);\n    } catch (err) {\n      toastError(`Silence due problem ${err}`);\n    }\n    hideLoaderArtists();\n\n    timeLines.tlCloseGenres.play(0);\n    timeLines.tlCloseSort.play(0);\n  };\n\n  refs.resetBtn.addEventListener('click', handleResetQuery);\n}\n\nfunction execHeroBtnClick() {\n  refs.heroBtn.addEventListener('click', e => {\n    e.preventDefault();\n    document.querySelector('#artists').scrollIntoView({ behavior: 'smooth' });\n  });\n}\n\nfunction helpClearHoverOnButtons() {\n  document.querySelectorAll('button').forEach(btn => {\n    btn.addEventListener('click', () => {\n      btn.blur(); // знімає focus після кліку\n    });\n  });\n}\n\n/* async function searching() {\n  try {\n    const { artists } = await searchArtist(query);\n    refs.artistsList.innerHTML = '';\n    renderArtists(artists);\n  } catch (err) {\n    toastError(`Silence due problem ${err}`);\n  }\n  return artists;\n} */\n\n/* == Universal function for sort-genres dropdowns with array == */\n/* function initDropdown({ btn, menu, wrapperSelector }) {\n  const icon = btn.querySelector('.dropdown-icon');\n  const tlOpen = gsap.timeline({ paused: true });\n  const tlClose = gsap.timeline({ paused: true });\n\n  const outsideClickHandler = e => {\n    if (!document.querySelector(wrapperSelector).contains(e.target)) {\n      tlClose.restart();\n      btn.classList.remove('open');\n      menu.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  };\n\n  tlOpen\n    .to(icon, { rotate: 180, duration: 0.35, ease: 'power2.out' }, 0)\n    .fromTo(\n      menu,\n      { opacity: 0, y: -10, pointerEvents: 'none' },\n      {\n        opacity: 1,\n        y: 0,\n        duration: 0.4,\n        pointerEvents: 'auto',\n        ease: 'power3.out',\n      },\n      0\n    )\n    .from(\n      menu.children,\n      {\n        opacity: 0,\n        y: -6,\n        stagger: 0.05,\n        duration: 0.25,\n        ease: 'power2.out',\n      },\n      0.1\n    );\n\n  tlClose.to(icon, { rotate: 0, duration: 0.3, ease: 'power2.in' }, 0).to(\n    menu,\n    {\n      opacity: 0,\n      y: -10,\n      duration: 0.3,\n      pointerEvents: 'none',\n      ease: 'power2.in',\n    },\n    0\n  );\n\n  btn.addEventListener('click', e => {\n    e.stopPropagation();\n    const isOpen = menu.classList.contains('open');\n\n    // Closing others:\n    if (!isOpen) {\n      allDropdowns.forEach(d => {\n        if (d.menu !== menu) {\n          d.tlOpen.pause(0);\n          d.tlClose.pause(0).play(0);\n          d.btn.classList.remove('open');\n          d.menu.classList.remove('open');\n        }\n      });\n\n      tlClose.pause(0);\n      tlOpen.pause(0).play(0);\n      btn.classList.add('open');\n      menu.classList.add('open');\n      document.addEventListener('click', outsideClickHandler, { once: true });\n      // document.body.classList.add('no-scroll');\n    } else {\n      tlOpen.pause(0);\n      tlClose.pause(0).play(0);\n      btn.classList.remove('open');\n      menu.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  });\n\n  menu.addEventListener('click', e => {\n    const item = e.target.closest('li');\n    if (!item) return;\n\n    btn.querySelector('.dropdown-label').textContent = item.textContent;\n    btn.dataset.value = item.dataset.value;\n\n    tlOpen.pause(0);\n    tlClose.restart();\n    btn.classList.remove('open');\n    menu.classList.remove('open');\n    // document.body.classList.remove('no-scroll');\n  });\n\n  // Saving for closing others in future:\n  allDropdowns.push({ btn, menu, tlOpen, tlClose });\n} */\n\n/* initDropdown({\n  btn: refs.btnGenres,\n  menu: refs.menuGenres,\n  wrapperSelector: '.artists-dropdown-genres',\n});\n\ninitDropdown({\n  btn: refs.btnSort,\n  menu: refs.menuSort,\n  wrapperSelector: '.artists-dropdown-sort',\n}); */\n","/* Artists */\n\nimport Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport '../css/artists.css';\n\nimport { getArtists, searchArtist } from './artists-api.js';\nimport { query } from './artists-additional.js';\nimport { refs } from './refs.js';\nimport { toastError, showLoaderArtists, hideLoaderArtists } from './helpers.js';\nimport { ARTISTS_PER_PAGE } from './constants.js';\n\nconst isMobile = window.matchMedia('(max-width: 767.98px)').matches;\nconst visiblePages = isMobile ? 3 : 5;\n\nlet pager = null;\nlet inFlight = false;\nlet suppressScroll = false;\n\n// -------------- Placeholder ------------//\n\nfunction getNoArtistsMarkup() {\n  const sprite = new URL('../img/icons.svg', import.meta.url).href;\n  return `\n    <div class=\"no-artists is-hidden\" data-no-artists>\n      <svg class=\"no-artists-icon\" width=\"40\" height=\"40\" aria-hidden=\"true\">\n        <use href=\"${sprite}#icon-error\"></use>\n      </svg>\n      <h2 class=\"no-artists-title\">Silence on the stage…</h2>\n      <p class=\"no-artists-text\">\n        Looks like no artists match your filters.<br />\n        Try changing them or hit “Reset Filters” to bring back the beat.\n      </p>\n      <button class=\"btn-reset-filters\" type=\"button\">Reset filters</button>\n    </div>\n  `;\n}\n\nfunction ensureNoArtistsBlock() {\n  let el = document.querySelector('[data-no-artists]');\n  if (!el) {\n    refs.artistsList.insertAdjacentHTML('afterend', getNoArtistsMarkup());\n    el = document.querySelector('[data-no-artists]');\n    el.addEventListener('click', e => {\n      if (!e.target.closest('.btn-reset-filters')) return;\n      document.querySelector('[data-action=\"filters-reset\"]')?.click();\n      document.dispatchEvent(new CustomEvent('filters:reset'));\n    });\n  }\n  return el;\n}\n\nfunction showNoArtists() {\n  ensureNoArtistsBlock().classList.remove('is-hidden');\n}\n\nfunction hideNoArtists() {\n  document.querySelector('[data-no-artists]')?.classList.add('is-hidden');\n}\n\nfunction togglePager(visible, totalItems = 0) {\n  const box = document.querySelector('#tui-pagination');\n  if (!box) return;\n\n  box.classList.toggle('hidden', !visible || totalItems <= 0);\n}\n\nfunction isSearchActive() {\n  return Boolean(\n    (query.name && query.name.trim().length) ||\n      (query.genre && query.genre !== 'all') ||\n      (query.sorted && Number(query.sorted) !== 0)\n  );\n}\n\n//---------------- Data flow -------------//\n\nexport async function loadArtists({ init = false } = {}) {\n  showLoaderArtists();\n  try {\n    if (init) query.page = 1;\n\n    const usingSearch = isSearchActive();\n    const payload = usingSearch\n      ? await searchArtist(query)\n      : await getArtists(query.page);\n\n    const artists = payload.artists ?? [];\n    const totalArtists = Number(payload.totalArtists) || 0;\n\n    if (totalArtists === 0) {\n      if (pager) pager.reset(0);\n      togglePager(false, 0);\n    }\n\n    refs.artistsList.innerHTML = '';\n    renderArtists(artists);\n\n    if (init) {\n      if (!pager) {\n        suppressScroll = true;\n\n        pager = new Pagination('#tui-pagination', {\n          totalItems: totalArtists,\n          itemsPerPage: ARTISTS_PER_PAGE,\n          page: query.page || 1,\n          visiblePages,\n          centerAlign: true,\n          usageStatistics: false,\n          template: {\n            page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n            currentPage:\n              '<strong class=\"tui-page-btn is-active\" aria-current=\"page\">{{page}}</strong>',\n            moveButton:\n              '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\"><span class=\"tui-ico-{{type}}\"></span></a>',\n            disabledMoveButton:\n              '<span class=\"tui-page-btn is-disabled tui-{{type}}\"><span class=\"tui-ico-{{type}}\"></span></span>',\n            moreButton: '<span class=\"tui-page-btn tui-ellipsis\">…</span>',\n          },\n        });\n\n        pager.on('afterMove', async ({ page: next }) => {\n          if (inFlight) return;\n          inFlight = true;\n          showLoaderArtists();\n\n          try {\n            query.page = next;\n            refs.artistsList.innerHTML = '';\n\n            const searchNow = isSearchActive();\n            const nextPayload = searchNow\n              ? await searchArtist(query)\n              : await getArtists(next);\n\n            const nextArtists = nextPayload.artists ?? [];\n            renderArtists(nextArtists);\n\n            togglePager(\n              nextArtists.length > 0,\n              Number(nextPayload?.totalArtists) || 0\n            );\n\n            if (!suppressScroll) requestAnimationFrame(scrollToArtistsTop);\n          } catch (e) {\n            toastError('Failed to fetch artists');\n            renderArtists([]);\n            togglePager(false, 0);\n          } finally {\n            inFlight = false;\n            suppressScroll = false;\n            hideLoaderArtists();\n          }\n        });\n      }\n\n      pager.reset(totalArtists);\n      const target = query.page || 1;\n      if (pager.getCurrentPage() !== target) {\n        suppressScroll = true;\n        pager.movePageTo(target);\n      } else {\n        suppressScroll = true;\n      }\n    } else {\n      if (pager) {\n        pager.reset(totalArtists);\n        const target = query.page || 1;\n        if (pager.getCurrentPage() !== target) {\n          suppressScroll = true;\n          pager.movePageTo(target);\n        } else {\n          suppressScroll = true;\n        }\n      }\n    }\n\n    togglePager(totalArtists > 0, totalArtists);\n  } catch (e) {\n    if (isSearchActive()) toastError('Failed to fetch artists');\n    refs.artistsList.innerHTML = '';\n    renderArtists([]);\n    togglePager(false, 0);\n  } finally {\n    hideLoaderArtists();\n  }\n}\n\nexport function renderArtists(artists = []) {\n  const sprite = new URL('../img/icons.svg', import.meta.url).href;\n\n  if (!Array.isArray(artists) || artists.length === 0) {\n    hideNoArtists();\n    refs.artistsList.innerHTML = '';\n    showNoArtists();\n    togglePager(false, 0);\n    document.dispatchEvent(new Event('artists:updated'));\n    return;\n  }\n\n  hideNoArtists();\n\n  const markup = artists\n    .map(\n      ({\n        _id,\n        strArtist = 'Unknown',\n        strArtistThumb,\n        strBiographyEN = '',\n        genres = [],\n      }) => {\n        const img =\n          strArtistThumb || 'https://placehold.co/736x414?text=No+Image';\n\n        const tagsHtml =\n          Array.isArray(genres) && genres.length\n            ? `<ul class=\"artist-tags\">${genres\n                .map(g => `<li class=\"tag\">${g}</li>`)\n                .join('')}</ul>`\n            : `<ul class=\"artist-tags\" aria-hidden=\"true\"></ul>`;\n\n        return `\n          <li class=\"artists-item\">\n            <div class=\"artist-card\" data-id=\"${_id}\">\n              <img\n                src=\"${img}\"\n                alt=\"${strArtist} — portrait\"\n                class=\"artist-img\"\n                loading=\"lazy\"\n                decoding=\"async\"\n                width=\"736\" height=\"414\"\n              >\n              ${tagsHtml}\n              <h3 class=\"artist-name\">${strArtist}</h3>\n              ${\n                strBiographyEN\n                  ? `<p class=\"artist-desc text-clamp-3\">${strBiographyEN}</p>`\n                  : ''\n              }\n              <button class=\"artist-cta\" type=\"button\" data-artist-id=\"${_id}\" aria-label=\"Learn more about ${strArtist}\">\n                Learn More\n                <svg class=\"artist-cta-icon\" width=\"16\" height=\"16\" aria-hidden=\"true\">\n                  <use href=\"${sprite}#icon-arrow-1\"></use>\n                </svg>\n              </button>\n            </div>\n          </li>`;\n      }\n    )\n    .join('');\n\n  refs.artistsList.insertAdjacentHTML('beforeend', markup);\n  document.dispatchEvent(new Event('artists:updated'));\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', () => {\n    query.page = 1;\n    loadArtists({ init: true });\n  });\n} else {\n  query.page = 1;\n  loadArtists({ init: true });\n}\n\n// --------- Smooth scroll ----------\n\nfunction scrollToArtistsTop() {\n  const anchor = document.querySelector('.js-artists-top');\n  if (!anchor) return;\n\n  let cssOffset = parseFloat(getComputedStyle(anchor).scrollMarginTop) || 0;\n  if (!cssOffset) {\n    cssOffset = window.matchMedia('(min-width:1440px)').matches\n      ? 112\n      : window.matchMedia('(min-width:768px)').matches\n      ? 96\n      : 120;\n    anchor.style.scrollMarginTop = `${cssOffset}px`;\n  }\n\n  const reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n  anchor.scrollIntoView({\n    block: 'start',\n    inline: 'nearest',\n    behavior: reduced ? 'auto' : 'smooth',\n  });\n}\n","import Swiper from 'swiper';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\nimport 'swiper/css/navigation';\n\nimport 'css-star-rating/css/star-rating.css';\n\nimport { getFeedbacks } from './artists-api';\nimport { refs } from './refs';\nimport { Pagination, Navigation } from 'swiper/modules';\n\nimport {\n  hideLoaderFeedback,\n  showLoaderFeedback,\n  toastErrorFeedbacks,\n} from './helpers';\n\n// ! ===========================================================================================\n\nfunction ratingMarkup(rating) {\n  const cls = ratingClasses(rating);\n  const aria = roundToHalf(rating);\n  const starSvg = `\n    <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n      <path d=\"M12 .587l3.668 7.431 8.2 1.192-5.934 5.787 \n        1.402 8.173L12 18.897l-7.336 3.86 \n        1.402-8.173L.132 9.21l8.2-1.192z\"></path>\n    </svg>`;\n\n  return `\n    <div class=\"${cls}\" aria-label=\"Rating ${aria} out of 5\">\n      <div class=\"star-container\">\n        <div class=\"star\"><span class=\"star-empty\">${starSvg}</span><span class=\"star-half\">${starSvg}</span><span class=\"star-filled\">${starSvg}</span></div>\n        <div class=\"star\"><span class=\"star-empty\">${starSvg}</span><span class=\"star-half\">${starSvg}</span><span class=\"star-filled\">${starSvg}</span></div>\n        <div class=\"star\"><span class=\"star-empty\">${starSvg}</span><span class=\"star-half\">${starSvg}</span><span class=\"star-filled\">${starSvg}</span></div>\n        <div class=\"star\"><span class=\"star-empty\">${starSvg}</span><span class=\"star-half\">${starSvg}</span><span class=\"star-filled\">${starSvg}</span></div>\n        <div class=\"star\"><span class=\"star-empty\">${starSvg}</span><span class=\"star-half\">${starSvg}</span><span class=\"star-filled\">${starSvg}</span></div>\n      </div>\n    </div>`;\n}\n\nfunction renderRating(rating) {\n  return ratingMarkup(rating);\n}\n\nfunction feedbackTemplate({ descr, name, rating }) {\n  return `\n    <div class=\"swiper-slide feedback-card\">\n      ${renderRating(rating)}\n      <p class=\"feedback-text\">\"${descr}\"</p>\n      <p class=\"feedback-author\">${name}</p>\n    </div>`;\n}\n\nfunction createFeedbacks(feedbacks) {\n  const markup = feedbacks.map(feedbackTemplate).join('');\n  refs.feedbacksContainer.insertAdjacentHTML('beforeend', markup);\n}\n\n// TODO ======================================\n\nfunction clamp01to5(x) {\n  const n = Number(x);\n  return Math.min(5, Math.max(0, Number.isNaN(n) ? 0 : n));\n}\n\nfunction roundToHalf(x) {\n  return Math.round(clamp01to5(x) * 2) / 2;\n}\n\nfunction ratingClasses(rating) {\n  const val = roundToHalf(rating);\n  const intPart = Math.floor(val);\n  const hasHalf = val % 1 !== 0;\n  return `rating medium star-icon ${\n    hasHalf ? 'half' : ''\n  } value-${intPart} label-hidden`;\n}\n\n// ! ===========================================================================================\n\nlet swiperInstance = null;\n\nasync function renderFeedbacks() {\n  showLoaderFeedback();\n\n  try {\n    if (swiperInstance) return;\n\n    const fontsReady = document.fonts?.ready ?? Promise.resolve();\n    const resp = await getFeedbacks(1);\n    await fontsReady;\n\n    const list = Array.isArray(resp?.data) ? resp.data : [];\n\n    if (!list.length) {\n      renderEmptyState();\n    } else {\n      createFeedbacks(list);\n    }\n\n    swiperInstance = new Swiper('.swiper', {\n      modules: [Pagination, Navigation],\n      slidesPerView: 1,\n      spaceBetween: 30,\n\n      pagination: {\n        el: '.swiper-pagination',\n        clickable: false,\n        renderBullet: renderCustomBullets,\n      },\n\n      navigation: {\n        nextEl: '.swiper-button-next',\n        prevEl: '.swiper-button-prev',\n      },\n\n      on: { slideChange: handleSlideChange },\n    });\n\n    handleSlideChange(swiperInstance);\n    swiperInstance.update();\n\n    const section = document.querySelector('#reviews');\n    section?.classList.add('is-ready');\n  } catch (err) {\n    toastErrorFeedbacks();\n    renderEmptyState();\n  } finally {\n    hideLoaderFeedback();\n  }\n}\n\nrenderFeedbacks();\n\n// ! ===========================================================================================\n\nfunction renderCustomBullets(index, className) {\n  return index < 3 ? `<span class=\"${className}\"></span>` : '';\n}\n\n// ! ===========================================================================================\n\nfunction handleSlideChange(swiper) {\n  updateNavigationButtons(swiper);\n  updateBullets(swiper);\n}\n\nfunction updateNavigationButtons(swiper) {\n  const prevBtn = document.querySelector('.swiper-button-prev');\n  const nextBtn = document.querySelector('.swiper-button-next');\n\n  prevBtn.classList.toggle('swiper-button-disabled', swiper.activeIndex === 0);\n  nextBtn.classList.toggle(\n    'swiper-button-disabled',\n    swiper.activeIndex === swiper.slides.length - 1\n  );\n}\n\nfunction updateBullets(swiper) {\n  const bullets = document.querySelectorAll('.swiper-pagination span');\n  if (!bullets.length) return;\n\n  bullets.forEach(b => b.classList.remove('swiper-pagination-bullet-active'));\n\n  if (bullets.length === 1) {\n    bullets[0].classList.add('swiper-pagination-bullet-active');\n    return;\n  }\n\n  const isFirst = swiper.activeIndex === 0;\n  const isLast = swiper.activeIndex === swiper.slides.length - 1;\n\n  if (bullets.length >= 3) {\n    (isFirst ? bullets[0] : isLast ? bullets[2] : bullets[1]).classList.add(\n      'swiper-pagination-bullet-active'\n    );\n  } else {\n    (isFirst ? bullets[0] : bullets[1]).classList.add(\n      'swiper-pagination-bullet-active'\n    );\n  }\n}\n\n// ! ===========================================================================================\n\nfunction renderEmptyState() {\n  refs.feedbacksContainer.insertAdjacentHTML(\n    'beforeend',\n    `\n    <div class=\"swiper-slide feedback-card\">\n      <p class=\"feedback-text\">\n        We are waiting for your feedback! Be the first to share your impressions.\n      </p>\n    </div>`\n  );\n  const swiperNav = document.querySelector('.swiper-nav');\n  swiperNav?.classList.add('hidden');\n}\n\n// ! ===========================================================================================\n","/* Artist details modal */\n\nimport { getArtistAlbumsById, getArtistById } from \"./artists-api\";\nimport { toastError } from \"./helpers\";\nimport { refs } from \"./refs\";\n\n\nfunction openModal() {\n    refs.artistDetailsModalBackdrope.classList.add('modal--is-open');\n    document.body.style.overflow = 'hidden';\n    window.addEventListener('keydown', onEcsKeyPress);\n    refs.artistDetailsModalBackdrope.addEventListener('click', onBackdropClick);\n}\n\nfunction closeModal() {\n    refs.artistDetailsModalBackdrope.classList.remove('modal--is-open');\n    document.body.style.overflow = '';\n    window.removeEventListener('keydown', onEcsKeyPress);\n    refs.artistDetailsModalBackdrope.removeEventListener('click', onBackdropClick);\n}\n\nfunction onEcsKeyPress(e) {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === refs.artistDetailsModalBackdrope) {\n    closeModal();\n  }\n}\n\nfunction showLoader() {\n    refs.loader?.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n    refs.loader?.classList.add('is-hidden');\n}\n\nasync function showArtistDetails(artistId) {\n    \n    try {\n        showLoader();\n        \n        const artist = await getArtistById(artistId);\n        const albumsData = await getArtistAlbumsById(artistId);\n        const albums = albumsData?.albumsList || [];\n        \n        const { \n            intFormedYear, \n            intDiedYear, \n            strArtist, \n            strArtistThumb, \n            strGender, \n            intMembers, \n            strCountry, \n            strBiographyEN, \n            genres,\n        } = artist;\n   \n        let years;\n        if (intFormedYear && intDiedYear) {\n        years = `${intFormedYear} - ${artist.intDiedYear}`;\n        } else if (intFormedYear && !intDiedYear) {\n        years = `${intFormedYear} - present`;\n        } else {\n        years = 'information missing';\n        }\n\n        const formatDuration = ms => {\n            if (!ms || isNaN(ms)) return '';\n            const totalSec = Math.floor(ms / 1000);\n            const min = Math.floor(totalSec / 60);\n            const sec = String(totalSec % 60).padStart(2, '0');\n            return `${min}:${sec}`;\n        };\n\n        const markup = `\n        <div class=\"artist-details-modal-content\">\n            <button class=\"artist-details-modal-close-btn\" type=\"button\">\n                <svg class=\"modal-svg\" width=\"32\" height=\"32\">\n                    <use href=\"/img/icons.svg#icon-close\"></use>\n                </svg>\n            </button> \n\n            <h2 class=\"artist-details-modal-main-title\">${strArtist}</h2>\n            <div class=\"artist-details-modal-main-block\">\n                <img class=\"artist-details-modal-img\" src=\"${strArtistThumb}\" alt=\"${artist.name}\" />\n\n                <div class=\"artist-details-modal-info\">\n                <ul class=\"artist-details-modal-list\">\n                <li class=\"artist-details-modal-list-item\">\n                    <h3 class=\"artist-details-modal-title\">Years active</h3>\n                    <p  class=\"artist-details-modal-text\">${years}</p>\n                </li>\n                ${strGender ? `\n                    <li class=\"artist-details-modal-list-item\">\n                        <h3 class=\"artist-details-modal-title\">Sex</h3>\n                        <p class=\"artist-details-modal-text\">${strGender}</p>\n                    </li>\n                    ` : ''}\n                ${intMembers ? `\n                    <li class=\"artist-details-modal-list-item\">\n                        <h3 class=\"artist-details-modal-title\">Members</h3>\n                        <p class=\"artist-details-modal-text\">${intMembers}</p>\n                    </li>\n                    ` : ''}\n                <li class=\"artist-details-modal-list-item\">\n                    <h3 class=\"artist-details-modal-title\">Country</h3>\n                    <p class=\"artist-details-modal-text\">${strCountry}</p>\n                </li>\n                <li class=\"artist-details-modal-list-item\">\n                    <h3 class=\"artist-details-modal-title\">Biography</h3>\n                    <p class=\"artist-details-modal-text\">${strBiographyEN}</p>\n                </li>\n                </ul>\n                \n                ${\n                    Array.isArray(genres) && genres.length\n                      ? `<ul class=\"artist-details-modal-block-genres\">${genres\n                          .map(g => `<li class=\"artist-details-modal-block-genres-item\">${g}</li>`)\n                          .join('')}</ul>`\n                      : ''\n                }\n            </div>\n            </div>\n            <h3 class=\"artist-details-modal-albums\">Albums</h3>\n            <div class=\"artist-details-modal-albums-wrap\">\n            ${albums.length > 0 ? albums.map(album => `\n                <div class=\"artist-details-modal-albums-list\">\n                <h4 class=\"artist-details-modal-albums-list-title\">${album.strAlbum}</h4>\n                <table>\n                <thead class=\"artist-details-modal-albums-list-table-head\">\n                    <tr>\n                    <th class=\"artist-details-modal-albums-list-table col-1\">Track</th>\n                    <th class=\"artist-details-modal-albums-list-table col-2\">Time</th>\n                    <th class=\"artist-details-modal-albums-list-table col-3\">Link</th>\n                    </tr>\n                </thead>\n                <tbody class=\"artist-details-modal-albums-list-table-body\">\n                    ${album.tracks?.map(track => `\n                    <tr>\n                        <td class=\"artist-details-modal-albums-list-table-text col-1\">${track.strTrack}</td>\n                        <td class=\"artist-details-modal-albums-list-table-text col-2\">${formatDuration(track.intDuration)}</td>\n                        <td class= \"col-3\">\n                            ${track.movie && track.movie !== 'null' ? `\n                                <a class=\"modal-link-youtube\" href=\"${track.movie}\" target=\"_blank\">\n                                    <svg class=\"modal-youtube\" width=\"24\" height=\"20\">\n                                        <use href=\"/img/icons.svg#icon-youtube\"></use>\n                                    </svg>\n                                </a>\n                            ` : ''}\n                        </td>\n                    </tr>\n                    `).join('') || ''}\n                </tbody>\n                </table>\n            </div>\n            `).join('') : '<p>No albums found</p>'}\n            </div>\n        </div>\n        `;\n\n\n        refs.artistDetailsModal.innerHTML = `${markup}`;\n\n        const closeBtn = refs.artistDetailsModalBackdrope.querySelector('.artist-details-modal-close-btn');\n        closeBtn.addEventListener('click', closeModal);\n  \n        openModal();\n\n    } catch (err) {\n        toastError(err.message);\n        // console.log(err);\n    } finally {\n        hideLoader();\n    }\n}\n\n\nrefs.artistsList.addEventListener('click', e => {\n    const btn = e.target.closest('.artist-cta');\n    if(!btn) return;\n    \n    const artistId = btn.dataset.artistId;\n    if(artistId) {\n    showArtistDetails(artistId);\n    }\n});\n","import { addNewFeedback } from './artists-api.js';\nimport { toastSuccessFeedbacks } from './helpers.js';\nimport \"css-star-rating/css/star-rating.css\";\nimport axios from 'axios';   \n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const backdrop = document.querySelector(\".feedback-backdrop\");\n  const form = document.querySelector(\".feedback-modal-form\");\n  const nameInput = document.getElementById(\"user-name\");\n  const messageInput = document.getElementById(\"user-feedback\");\n  const ratingInput = document.getElementById(\"ratingValue\");\n  const submitBtn = form.querySelector(\".feedback-modal-btn\");\n  const stars = document.querySelectorAll(\"#myRating svg\");\n  const ratingError = document.getElementById(\"ratingError\");\n\n  function showRatingError(message) {\n    ratingError.textContent = message;\n  }\n\n  function clearRatingError() {\n    ratingError.textContent = \"\";\n  }\n\n \n  stars.forEach((star, idx) => {\n    star.innerHTML = `<path d=\"M12 .587l3.668 7.431 8.2 1.192-5.934 5.787 \n      1.402 8.173L12 18.897l-7.336 3.86 \n      1.402-8.173L.132 9.21l8.2-1.192z\"/>`;\n    star.style.fill = \"#ffffff\";\n    star.style.cursor = \"pointer\";\n\n    star.addEventListener(\"click\", () => {\n      ratingInput.value = idx + 1;\n      stars.forEach((s, i) => s.style.fill = i <= idx ? \"#764191\" : \"#ffffff\");\n      clearRatingError(); \n    });\n  });\n\n\n  const openBtn = document.querySelector(\".leave-feedback-button\");\n  if (openBtn) {\n    openBtn.addEventListener(\"click\", () => {\n      form.reset();\n      ratingInput.value = \"0\";\n      clearRatingError();\n      stars.forEach(s => s.style.fill = \"#ffffff\");\n      clearError(nameInput);\n      clearError(messageInput);\n      backdrop.classList.add(\"is-open\");\n      document.body.style.overflow = \"hidden\"; \n    });\n  }\n\n  const closeModal = () => {\n    backdrop.classList.remove(\"is-open\");\n    document.body.style.overflow = \"\";\n  };\n  document.querySelector(\".feedback-modal-close\").addEventListener(\"click\", closeModal);\n  backdrop.addEventListener(\"click\", e => { if (e.target === backdrop) closeModal(); });\n  document.addEventListener(\"keydown\", e => { if (e.key === \"Escape\") closeModal(); });\n  \n  const showError = (input, message) => {\n    let errorEl = input.nextElementSibling;\n    if (!errorEl || !errorEl.classList.contains(\"field-error\")) {\n      errorEl = document.createElement(\"div\");\n      errorEl.classList.add(\"field-error\");\n      input.insertAdjacentElement(\"afterend\", errorEl);\n    }\n    errorEl.textContent = message;\n    input.classList.add(\"input-error\");\n    input.setAttribute(\"aria-invalid\", \"true\");\n  };\n\n  const clearError = input => {\n    let errorEl = input.nextElementSibling;\n    if (errorEl && errorEl.classList.contains(\"field-error\")) errorEl.textContent = \"\";\n    input.classList.remove(\"input-error\");\n    input.removeAttribute(\"aria-invalid\");\n  };\n\n \n  form.addEventListener(\"submit\", async e => {\n    e.preventDefault();\n\n    clearError(nameInput);\n    clearError(messageInput);\n    clearRatingError();\n\n    const name = nameInput.value.trim();\n    const message = messageInput.value.trim();\n    const rating = parseFloat(ratingInput.value);\n\n    let hasError = false;\n\n    if (name.length < 2 || name.length > 16) {\n      showError(nameInput, \"Name must be between 2 and 16 characters\");\n      hasError = true;\n    }\n\n    if (message.length < 10 || message.length > 512) {\n      showError(messageInput, \"Message must be between 10 and 512 characters\");\n      hasError = true;\n    }\n\n    if (rating < 1 || rating > 5) {\n      showRatingError(\"Please provide a rating between 1 and 5\");\n      hasError = true;\n    }\n\n    if (hasError) return;\n\n    submitBtn.disabled = true;\n\n    try {\n      await addNewFeedback(name, rating, message);\n      toastSuccess(\"Thank you! Your feedback has been submitted.\");\n\n      form.reset();\n      ratingInput.value = \"0\";\n      stars.forEach(s => s.style.fill = \"#ffffff\");\n      closeModal();\n    } catch (err) {\n      alert(\"Server error: \" + (err.response?.data?.message || err.message));\n    } finally {\n      submitBtn.disabled = false;\n    }\n  });\n});\n","const scrollBtn = document.querySelector('.scroll-to-top');\n\nlet lastScroll = window.scrollY;\nlet isVisible = false;\nlet scrollTimeout;\nlet hideTimeout;\n\nwindow.addEventListener('scroll', () => {\n  clearTimeout(scrollTimeout);\n\n  scrollTimeout = setTimeout(() => {\n    const currentScroll = window.scrollY;\n    const scrollingUp = currentScroll < lastScroll - 70;\n    const scrolledToBottom =\n      window.innerHeight + currentScroll >= document.body.offsetHeight - 10;\n\n    const shouldShow = scrolledToBottom || (scrollingUp && currentScroll > 350);\n\n    if (shouldShow && !isVisible) {\n      scrollBtn.classList.add('visible');\n      isVisible = true;\n\n      clearTimeout(hideTimeout);\n      hideTimeout = setTimeout(() => {\n        scrollBtn.classList.remove('visible');\n        isVisible = false;\n      }, 2000);\n    } else if (!shouldShow && isVisible) {\n      scrollBtn.classList.remove('visible');\n      isVisible = false;\n      clearTimeout(hideTimeout);\n    }\n\n    lastScroll = currentScroll;\n  }, 70);\n});\n\nscrollBtn.addEventListener('click', () => {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n});\n"],"names":["refs","BASE_URL","API_ENDPOINTS","ARTISTS_PER_PAGE","FEEDBACKS_PER_QUEUE","toastError","message","position","iziToast","toastErrorFeedbacks","hideLoaderArtists","showLoaderArtists","hideLoaderFeedback","_a","_b","_c","_d","showLoaderFeedback","toggleBtn","mobileMenu","menuLinks","openMenu","closeMenu","link","axios","getArtists","page","data","getArtistById","id","getArtistAlbumsById","getFeedbacks","getGenres","searchArtist","name","sorted","genre","addNewFeedback","rating","descr","timeLines","gsap","query","initGenresMarkup","initSearchAndFilters","initSearchRequest","initSort","initGenres","initReset","execHeroBtnClick","helpClearHoverOnButtons","handleSearchBtnRequest","artists","renderArtists","err","e","markup","outsideClickHandler","item","handleResetQuery","btn","isMobile","visiblePages","pager","inFlight","suppressScroll","getNoArtistsMarkup","ensureNoArtistsBlock","el","showNoArtists","hideNoArtists","togglePager","visible","totalItems","box","isSearchActive","loadArtists","init","payload","totalArtists","Pagination","next","nextPayload","nextArtists","scrollToArtistsTop","target","sprite","_id","strArtist","strArtistThumb","strBiographyEN","genres","img","tagsHtml","g","anchor","cssOffset","reduced","ratingMarkup","cls","ratingClasses","aria","roundToHalf","starSvg","renderRating","feedbackTemplate","createFeedbacks","feedbacks","clamp01to5","x","n","val","intPart","swiperInstance","renderFeedbacks","fontsReady","resp","list","renderEmptyState","Swiper","Navigation","renderCustomBullets","handleSlideChange","section","index","className","swiper","updateNavigationButtons","updateBullets","prevBtn","nextBtn","bullets","b","isFirst","isLast","swiperNav","openModal","onEcsKeyPress","onBackdropClick","closeModal","showLoader","hideLoader","showArtistDetails","artistId","artist","albumsData","albums","intFormedYear","intDiedYear","strGender","intMembers","strCountry","years","formatDuration","ms","totalSec","min","sec","album","track","backdrop","form","nameInput","messageInput","ratingInput","submitBtn","stars","ratingError","showRatingError","clearRatingError","star","idx","s","i","openBtn","clearError","showError","input","errorEl","hasError","scrollBtn","lastScroll","isVisible","scrollTimeout","hideTimeout","currentScroll","scrollingUp","shouldShow"],"mappings":"oyBACO,MAAMA,EAAO,CAClB,mBAAoB,SAAS,cAAc,sBAAsB,EACjE,YAAa,SAAS,cAAc,eAAe,EACnD,mBAAoB,SAAS,cAAc,uBAAuB,EAClE,2BAA4B,SAAS,cACnC,iCACD,EACD,WAAY,SAAS,cAAc,uBAAuB,EAC1D,SAAU,SAAS,cAAc,qBAAqB,EACtD,YAAa,SAAS,cAAc,kBAAkB,EACtD,UAAW,SAAS,cAAc,yBAAyB,EAC3D,QAAS,SAAS,cAAc,uBAAuB,EACvD,OAAQ,SAAS,cAAc,SAAS,EACxC,UAAW,SAAS,cAAc,4BAA4B,EAC9D,YAAa,SAAS,cAAc,eAAe,EACnD,iBAAkB,SAAS,cAAc,aAAa,EACtD,WAAY,SAAS,cAAc,uBAAuB,EAC1D,SAAU,SAAS,cAAc,YAAY,EAC7C,WAAY,SAAS,cAAc,cAAc,EACjD,qBAAsB,SAAS,cAAc,2BAA2B,EACxE,UAAW,SAAS,cAAc,gBAAgB,EAClD,WAAY,SAAS,cAAc,qBAAqB,EACxD,UAAW,SAAS,iBAAiB,sBAAsB,EAC3D,4BAA6B,SAAS,cACpC,0BACD,EACD,QAAS,SAAS,cAAc,WAAW,EAC3C,SAAU,SAAS,cAAc,oBAAoB,EAErD,eAAgB,SAAS,cAAc,kBAAkB,EACzD,wBAAyB,SAAS,cAAc,4BAA4B,CAC9E,EC/BaC,GAAW,sCACXC,EAAgB,CAC3B,QAAS,WACT,aAAc,YACd,oBAAqB,UAErB,OAAQ,UAER,UAAW,aACX,qBAAsB,qBACxB,EACaC,EAAmB,EACnBC,GAAsB,GCTnC;AAGO,SAASC,EACdC,EAAU,gDACVC,EAAW,YACX,CACAC,EAAS,MAAM,CACb,MAAO,GACP,QAAAF,EACA,SAAAC,EACA,QAAS,IACT,YAAa,EACjB,CAAG,CACH,CAeO,SAASE,GACdH,EAAU,wDACVC,EAAW,WACX,CACAC,EAAS,MAAM,CACb,MAAO,GACP,QAAAF,EACA,SAAAC,EACA,QAAS,IACT,YAAa,EACjB,CAAG,CACH,CAeA;AAEO,SAASG,GAAoB,CAClCV,EAAK,qBAAqB,UAAU,IAAI,QAAQ,CAClD,CAEO,SAASW,GAAoB,CAClCX,EAAK,qBAAqB,UAAU,OAAO,QAAQ,CACrD,CAEA;AAEO,SAASY,IAAqB,cACnCC,EAAAb,EAAK,iBAAL,MAAAa,EAAqB,UAAU,IAAI,WACnCC,EAAAd,EAAK,0BAAL,MAAAc,EAA8B,UAAU,IAAI,WAE5CC,EAAAf,EAAK,0BAAL,MAAAe,EAA8B,aAAa,cAAe,SAC1DC,EAAAhB,EAAK,iBAAL,MAAAgB,EAAqB,aAAa,cAAe,OACnD,CAEO,SAASC,IAAqB,cACnCJ,EAAAb,EAAK,0BAAL,MAAAa,EAA8B,UAAU,OAAO,WAC/CC,EAAAd,EAAK,iBAAL,MAAAc,EAAqB,UAAU,OAAO,WAEtCC,EAAAf,EAAK,0BAAL,MAAAe,EAA8B,aAAa,cAAe,UAC1DC,EAAAhB,EAAK,iBAAL,MAAAgB,EAAqB,aAAa,cAAe,QACnD,CAEA;ACrFA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,KAAM,CAAE,UAAAE,EAAW,WAAAC,EAAY,UAAAC,CAAS,EAAKpB,EAE7C,SAASqB,GAAW,CAClBF,EAAW,UAAU,IAAI,QAAQ,EACjCD,EAAU,UAAU,IAAI,QAAQ,CACjC,CAED,SAASI,GAAY,CACnBH,EAAW,UAAU,OAAO,QAAQ,EACpCD,EAAU,UAAU,OAAO,QAAQ,CACpC,CAEDA,GAAA,MAAAA,EAAW,iBAAiB,QAAS,IAAM,CACrCC,EAAW,UAAU,SAAS,QAAQ,EACxCG,IAEAD,GAEN,GAEED,GAAA,MAAAA,EAAW,QAAQG,GAAQA,EAAK,iBAAiB,QAASD,CAAS,EACrE,CAAC,ECfDE,EAAM,SAAS,QAAUvB,GAElB,MAAMwB,EAAa,MAAMC,GAAQ,CACtC,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMH,EAAM,IAC3B,GAAGtB,EAAc,OAAO,UAAUC,CAAgB,SAASuB,CAAI,EACnE,EACE,OAAOC,CACT,EAEaC,GAAgB,MAAMC,GAAM,CACvC,KAAM,CAAE,KAAAF,CAAI,EAAK,MAAMH,EAAM,IAAI,GAAGtB,EAAc,YAAY,GAAG2B,CAAE,EAAE,EACrE,OAAOF,CACT,EAEaG,GAAsB,MAAMD,GAAM,CAC7C,KAAM,CAAE,KAAAF,CAAI,EAAK,MAAMH,EAAM,IAC3B,GAAGtB,EAAc,YAAY,GAAG2B,CAAE,GAAG3B,EAAc,mBAAmB,EAC1E,EACE,OAAOyB,CACT,EAEaI,GAAe,MAAOL,EAAO,IAAM,CAC9C,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMH,EAAM,IAC3B,GAAGtB,EAAc,SAAS,UAAUE,EAAmB,SAASsB,CAAI,EACxE,EACE,OAAOC,CACT,EAEaK,GAAY,SAAY,CACnC,KAAM,CAAE,KAAAL,GAAS,MAAMH,EAAM,IAAI,GAAGtB,EAAc,MAAM,EAAE,EAC1D,OAAOyB,CACT,EAEaM,EAAe,MAAO,CACjC,KAAAC,EACA,KAAAR,EAAO,EACP,OAAAS,EAAS,IACT,MAAAC,EAAQ,EACV,IAAM,CACJ,KAAM,CAAE,KAAAT,CAAI,EAAK,MAAMH,EAAM,IAC3B,GAAGtB,EAAc,OAAO,UAAUC,CAAgB,SAASuB,CAAI,GAC7DQ,GAAA,MAAAA,EAAM,OAAS,SAASA,CAAI,GAAK,EAClC,GACCC,IAAW,IAAM,iBAAmBA,IAAW,IAAM,gBAAkB,EAC7E,GAAOC,EAAQ,UAAUA,CAAK,GAAK,EAAE,EACrC,EACE,OAAOT,CACT,EAEaU,GAAiB,MAAOH,EAAMI,EAAQC,IAA4B,CAC7E,MAAMf,EAAM,KAAK,GAAGtB,EAAc,SAAS,GAAI,CAC7C,KAAAgC,EACA,OAAAI,EACA,MAAAC,CACJ,CAAG,CACH,EC7DaC,EAAY,CACvB,aAAe,OAAO,WAAW,qBAAqB,EAAE,QA+BpD,KA9BAC,EACG,SAAS,CAAE,OAAQ,GAAM,EACzB,GACCzC,EAAK,WACL,CAAE,OAAQ,IAAK,SAAU,IAAM,KAAM,YAAc,EACnD,CACD,EACA,OACCA,EAAK,YACL,CAAE,QAAS,EAAG,EAAG,IAAK,cAAe,MAAQ,EAC7C,CACE,QAAS,EACT,EAAG,EACH,SAAU,GACV,cAAe,OACf,KAAM,YACP,EACD,CACD,EACA,KACCA,EAAK,YAAY,SACjB,CACE,QAAS,EACT,EAAG,GACH,QAAS,IACT,SAAU,IACV,KAAM,YACP,EACD,EACD,EAGP,cAAgB,OAAO,WAAW,qBAAqB,EAAE,QAerD,KAdAyC,EACG,SAAS,CAAE,OAAQ,GAAM,EACzB,GAAGzC,EAAK,WAAY,CAAE,OAAQ,EAAG,SAAU,GAAK,KAAM,WAAW,EAAI,CAAC,EACtE,GACCA,EAAK,YACL,CACE,QAAS,EACT,EAAG,IACH,SAAU,GACV,cAAe,OACf,KAAM,WACP,EACD,CACD,EAGP,WAAYyC,EACT,SAAS,CAAE,OAAQ,GAAM,EACzB,GAAGzC,EAAK,SAAU,CAAE,OAAQ,IAAK,SAAU,IAAM,KAAM,YAAY,EAAI,CAAC,EACxE,OACCA,EAAK,SACL,CAAE,QAAS,EAAG,EAAG,IAAK,cAAe,MAAQ,EAC7C,CACE,QAAS,EACT,EAAG,EACH,SAAU,GACV,cAAe,OACf,KAAM,YACP,EACD,CACD,EACA,KACCA,EAAK,SAAS,SACd,CACE,QAAS,EACT,EAAG,GACH,QAAS,IACT,SAAU,IACV,KAAM,YACP,EACD,EACD,EAEH,YAAayC,EACV,SAAS,CAAE,OAAQ,GAAM,EACzB,GAAGzC,EAAK,SAAU,CAAE,OAAQ,EAAG,SAAU,GAAK,KAAM,WAAW,EAAI,CAAC,EACpE,GACCA,EAAK,SACL,CACE,QAAS,EACT,EAAG,IACH,SAAU,GACV,cAAe,OACf,KAAM,WACP,EACD,CACD,EAEH,aAAcyC,EACX,SAAS,CAAE,OAAQ,GAAM,EACzB,GAAGzC,EAAK,WAAY,CAAE,OAAQ,IAAK,SAAU,IAAM,KAAM,YAAY,EAAI,CAAC,EAC1E,OACCA,EAAK,WACL,CAAE,QAAS,EAAG,EAAG,IAAK,cAAe,MAAQ,EAC7C,CACE,QAAS,EACT,EAAG,EACH,SAAU,GACV,cAAe,OACf,KAAM,YACP,EACD,CACD,EACA,KACCA,EAAK,WAAW,SAChB,CACE,QAAS,EACT,EAAG,GACH,QAAS,IACT,SAAU,IACV,KAAM,YACP,EACD,EACD,EAEH,cAAeyC,EACZ,SAAS,CAAE,OAAQ,GAAM,EACzB,GAAGzC,EAAK,WAAY,CAAE,OAAQ,EAAG,SAAU,GAAK,KAAM,WAAW,EAAI,CAAC,EACtE,GACCA,EAAK,WACL,CACE,QAAS,EACT,EAAG,IACH,SAAU,GACV,cAAe,OACf,KAAM,WACP,EACD,CACD,CACL,EAEAwC,EAAU,WAAW,cAAc,UAAW,IAAM,QAClD3B,EAAA2B,EAAU,cAAV,MAAA3B,EAAuB,MAAM,GAAG,SAAS,EAC3C,CAAC,EACD2B,EAAU,YAAY,cAAc,UAAW,IAAM,QACnD3B,EAAA2B,EAAU,aAAV,MAAA3B,EAAsB,MAAM,GAAG,SAAS,EAC1C,CAAC,ECnIM,IAAI6B,EAAQ,CAAE,KAAM,GAAI,KAAM,EAAG,OAAQ,EAAG,MAAO,IAK1DC,KAEAC,KAEAC,KAEAC,KAEAC,KAEAC,KAEAC,KAEAC,KAGA,SAASL,IAAoB,CAC3B7C,EAAK,YAAY,iBAAiB,QAAS,IAAM,CAC/C0C,EAAM,KAAO1C,EAAK,YAAY,MAAM,KAAI,CAC5C,CAAG,EAED,MAAMmD,EAAyB,SAAY,OACzC,GAAI,GAACtC,EAAA6B,EAAM,OAAN,MAAA7B,EAAY,QAAQ,CACvBR,EAAW,kBAAkB,EAC7B,MACD,CACDM,IAEA,GAAI,CACF,KAAM,CAAE,QAAAyC,CAAS,EAAG,MAAMnB,EAAaS,CAAK,EAC5C1C,EAAK,YAAY,UAAY,GAC7BqD,EAAcD,CAAO,CACtB,OAAQE,EAAK,CACZjD,EAAW,uBAAuBiD,CAAG,EAAE,CACxC,CAED5C,IACK,OAAO,WAAW,qBAAqB,GAC1C8B,EAAU,cAAc,KAAK,CAAC,CACpC,EAEExC,EAAK,iBAAiB,iBAAiB,QAASmD,CAAsB,EAEtEnD,EAAK,YAAY,iBAAiB,UAAWuD,GAAK,CAC5CA,EAAE,MAAQ,SACZJ,GAEN,CAAG,CACH,CAEA,eAAeR,IAAmB,CAChC,GAAI,CAEF,MAAMa,EACJ,wCAFa,MAAMxB,MAIhB,IAAI,CAAC,CAAE,MAAAI,CAAK,IAAO,mBAAmBA,CAAK,KAAKA,CAAK,OAAO,EAC5D,KAAK,EAAE,EACZpC,EAAK,WAAW,mBAAmB,YAAawD,CAAM,CACvD,OAAQF,EAAK,CACZjD,EAAW,wBAAwBiD,CAAG,EAAE,CACzC,CACH,CAwGA,SAASR,IAAW,CAClB,MAAMW,EAAsBF,GAAK,CAC1B,SAAS,cAAc,wBAAwB,EAAE,SAASA,EAAE,MAAM,IACrEf,EAAU,YAAY,UACtBA,EAAU,cAAc,UACxBxC,EAAK,QAAQ,UAAU,OAAO,MAAM,EACpCA,EAAK,SAAS,UAAU,OAAO,MAAM,EAG3C,EAEEA,EAAK,QAAQ,iBAAiB,QAASuD,GAAK,CAC1CA,EAAE,gBAAe,EACFvD,EAAK,SAAS,UAAU,SAAS,MAAM,GAgBpDwC,EAAU,WAAW,MAAM,CAAC,EAC5BA,EAAU,YAAY,UACtBxC,EAAK,QAAQ,UAAU,OAAO,MAAM,EACpCA,EAAK,SAAS,UAAU,OAAO,MAAM,IAfrCwC,EAAU,aAAa,MAAM,CAAC,EAC9BA,EAAU,cAAc,UACxBxC,EAAK,UAAU,UAAU,OAAO,MAAM,EACtCA,EAAK,WAAW,UAAU,OAAO,MAAM,EAEvCwC,EAAU,YAAY,MAAM,CAAC,EAC7BA,EAAU,WAAW,UACrBxC,EAAK,QAAQ,UAAU,IAAI,MAAM,EACjCA,EAAK,SAAS,UAAU,IAAI,MAAM,EAClC,SAAS,iBAAiB,QAASyD,EAAqB,CAAE,KAAM,EAAI,CAAE,EAS5E,CAAG,EAEDzD,EAAK,SAAS,iBAAiB,QAAS,MAAMuD,GAAK,CACjD,MAAMG,EAAOH,EAAE,OAAO,QAAQ,IAAI,EAClC,GAAKG,EAEL,CAAA1D,EAAK,QAAQ,cAAc,iBAAiB,EAAE,YAC5C0D,EAAK,YACP1D,EAAK,QAAQ,QAAQ,MAAQ0D,EAAK,QAAQ,MAE1ChB,EAAM,OAASgB,EAAK,QAAQ,MAE5B/C,IACA,GAAI,CACF,KAAM,CAAE,QAAAyC,CAAS,EAAG,MAAMnB,EAAaS,CAAK,EAC5C1C,EAAK,YAAY,UAAY,GAC7BqD,EAAcD,CAAO,CACtB,OAAQE,EAAK,CACZjD,EAAW,uBAAuBiD,CAAG,EAAE,CACxC,CACD5C,IAEA8B,EAAU,WAAW,MAAM,CAAC,EAC5BA,EAAU,YAAY,UACtBxC,EAAK,QAAQ,UAAU,OAAO,MAAM,EACpCA,EAAK,SAAS,UAAU,OAAO,MAAM,EAEzC,CAAG,CAIH,CAEA,eAAe+C,IAAa,CAC1B,MAAMU,EAAsBF,GAAK,CAE5B,SAAS,cAAc,0BAA0B,EAAE,SAASA,EAAE,MAAM,IAErEf,EAAU,cAAc,UACxBA,EAAU,YAAY,UACtBxC,EAAK,UAAU,UAAU,OAAO,MAAM,EACtCA,EAAK,WAAW,UAAU,OAAO,MAAM,EAG7C,EAEEA,EAAK,UAAU,iBAAiB,QAASuD,GAAK,CAC5CA,EAAE,gBAAe,EACFvD,EAAK,WAAW,UAAU,SAAS,MAAM,GAgBtDwC,EAAU,aAAa,MAAM,CAAC,EAC9BA,EAAU,cAAc,UACxBxC,EAAK,UAAU,UAAU,OAAO,MAAM,EACtCA,EAAK,WAAW,UAAU,OAAO,MAAM,IAfvCwC,EAAU,WAAW,MAAM,CAAC,EAC5BA,EAAU,YAAY,UACtBxC,EAAK,QAAQ,UAAU,OAAO,MAAM,EACpCA,EAAK,SAAS,UAAU,OAAO,MAAM,EAErCwC,EAAU,cAAc,MAAM,CAAC,EAC/BA,EAAU,aAAa,UACvBxC,EAAK,UAAU,UAAU,IAAI,MAAM,EACnCA,EAAK,WAAW,UAAU,IAAI,MAAM,EACpC,SAAS,iBAAiB,QAASyD,EAAqB,CAAE,KAAM,EAAI,CAAE,EAS5E,CAAG,EAEDzD,EAAK,WAAW,iBAAiB,QAAS,MAAMuD,GAAK,CACnD,MAAMG,EAAOH,EAAE,OAAO,QAAQ,IAAI,EAClC,GAAKG,EAEL,CAAA1D,EAAK,UAAU,cAAc,iBAAiB,EAAE,YAC9C0D,EAAK,YACP1D,EAAK,UAAU,QAAQ,MAAQ0D,EAAK,QAAQ,MAE5ChB,EAAM,MAAQgB,EAAK,cAAgB,aAAe,GAAKA,EAAK,YAE5D/C,IACA,GAAI,CACF,KAAM,CAAE,QAAAyC,CAAS,EAAG,MAAMnB,EAAaS,CAAK,EAC5C1C,EAAK,YAAY,UAAY,GAC7BqD,EAAcD,CAAO,CACtB,OAAQE,EAAK,CACZjD,EAAW,uBAAuBiD,CAAG,EAAE,CACxC,CACD5C,IAEA8B,EAAU,aAAa,MAAM,CAAC,EAC9BA,EAAU,cAAc,UACxBxC,EAAK,UAAU,UAAU,OAAO,MAAM,EACtCA,EAAK,WAAW,UAAU,OAAO,MAAM,EAE3C,CAAG,CAIH,CAIA,SAAS4C,IAAuB,CAE9B,GAAI,OAAO,WAAW,qBAAqB,EAAE,QAC3C,OAGF,MAAMa,EAAsBF,GAAK,CAC1B,SAAS,cAAc,kBAAkB,EAAE,SAASA,EAAE,MAAM,IAC/Df,EAAU,cAAc,KAAK,CAAC,EAC9B,SAAS,oBAAoB,QAASiB,CAAmB,EAI/D,EAEEzD,EAAK,UAAU,iBAAiB,QAASuD,GAAK,CAC5CA,EAAE,gBAAe,EAEfd,EAAK,WAAWzC,EAAK,WAAW,GAChCA,EAAK,YAAY,MAAM,gBAAkB,QASzCwC,EAAU,aAAa,MAAM,CAAC,EAC9BA,EAAU,cAAc,UACxB,SAAS,oBAAoB,QAASiB,CAAmB,IARzDjB,EAAU,cAAc,MAAM,CAAC,EAC/BA,EAAU,aAAa,UACvB,SAAS,iBAAiB,QAASiB,CAAmB,EAU5D,CAAG,CAgBH,CAEA,SAAST,IAAY,CACnB,MAAMW,EAAmB,SAAY,CACnCjB,EAAQ,CAAE,KAAM,GAAI,KAAM,EAAG,OAAQ,EAAG,MAAO,IAC/C1C,EAAK,UAAU,cAAc,iBAAiB,EAAE,YAAc,QAC9DA,EAAK,QAAQ,cAAc,iBAAiB,EAAE,YAAc,UAC5DA,EAAK,YAAY,MAAQ,GAEzBW,IACA,GAAI,CACFX,EAAK,YAAY,UAAY,GAE7B,KAAM,CAAE,QAAAoD,CAAS,EAAG,MAAMnB,EAAaS,CAAK,EAC5CW,EAAcD,CAAO,CACtB,OAAQE,EAAK,CACZjD,EAAW,uBAAuBiD,CAAG,EAAE,CACxC,CACD5C,IAEA8B,EAAU,cAAc,KAAK,CAAC,EAC9BA,EAAU,YAAY,KAAK,CAAC,CAChC,EAEExC,EAAK,SAAS,iBAAiB,QAAS2D,CAAgB,CAC1D,CAEA,SAASV,IAAmB,CAC1BjD,EAAK,QAAQ,iBAAiB,QAAS,GAAK,CAC1C,EAAE,eAAc,EAChB,SAAS,cAAc,UAAU,EAAE,eAAe,CAAE,SAAU,QAAQ,CAAE,CAC5E,CAAG,CACH,CAEA,SAASkD,IAA0B,CACjC,SAAS,iBAAiB,QAAQ,EAAE,QAAQU,GAAO,CACjDA,EAAI,iBAAiB,QAAS,IAAM,CAClCA,EAAI,KAAI,CACd,CAAK,CACL,CAAG,CACH,CCnZA,MAAMC,GAAW,OAAO,WAAW,uBAAuB,EAAE,QACtDC,GAAeD,GAAW,EAAI,EAEpC,IAAIE,EAAQ,KACRC,EAAW,GACXC,EAAiB,GAIrB,SAASC,IAAqB,CAE5B,MAAO;AAAA;AAAA;AAAA,qBADQ,IAAA,IAAA,0DAAA,YAAA,GAAA,EAA6C,IAInC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAU3B,CAEA,SAASC,IAAuB,CAC9B,IAAIC,EAAK,SAAS,cAAc,mBAAmB,EACnD,OAAKA,IACHpE,EAAK,YAAY,mBAAmB,WAAYkE,GAAoB,CAAA,EACpEE,EAAK,SAAS,cAAc,mBAAmB,EAC/CA,EAAG,iBAAiB,QAASb,GAAK,OAC3BA,EAAE,OAAO,QAAQ,oBAAoB,KAC1C1C,EAAA,SAAS,cAAc,+BAA+B,IAAtD,MAAAA,EAAyD,QACzD,SAAS,cAAc,IAAI,YAAY,eAAe,CAAC,EAC7D,CAAK,GAEIuD,CACT,CAEA,SAASC,IAAgB,CACvBF,KAAuB,UAAU,OAAO,WAAW,CACrD,CAEA,SAASG,GAAgB,QACvBzD,EAAA,SAAS,cAAc,mBAAmB,IAA1C,MAAAA,EAA6C,UAAU,IAAI,YAC7D,CAEA,SAAS0D,EAAYC,EAASC,EAAa,EAAG,CAC5C,MAAMC,EAAM,SAAS,cAAc,iBAAiB,EAC/CA,GAELA,EAAI,UAAU,OAAO,SAAU,CAACF,GAAWC,GAAc,CAAC,CAC5D,CAEA,SAASE,GAAiB,CACxB,MAAO,GACJjC,EAAM,MAAQA,EAAM,KAAK,KAAM,EAAC,QAC9BA,EAAM,OAASA,EAAM,QAAU,OAC/BA,EAAM,QAAU,OAAOA,EAAM,MAAM,IAAM,EAEhD,CAIO,eAAekC,EAAY,CAAE,KAAAC,EAAO,EAAK,EAAK,CAAA,EAAI,CACvDlE,IACA,GAAI,CACEkE,IAAMnC,EAAM,KAAO,GAGvB,MAAMoC,EADcH,IAEhB,MAAM1C,EAAaS,CAAK,EACxB,MAAMjB,EAAWiB,EAAM,IAAI,EAEzBU,EAAU0B,EAAQ,SAAW,GAC7BC,EAAe,OAAOD,EAAQ,YAAY,GAAK,EAUrD,GARIC,IAAiB,IACfhB,GAAOA,EAAM,MAAM,CAAC,EACxBQ,EAAY,GAAO,CAAC,GAGtBvE,EAAK,YAAY,UAAY,GAC7BqD,EAAcD,CAAO,EAEjByB,EAAM,CACHd,IACHE,EAAiB,GAEjBF,EAAQ,IAAIiB,GAAW,kBAAmB,CACxC,WAAYD,EACZ,aAAc5E,EACd,KAAMuC,EAAM,MAAQ,EACpB,aAAAoB,GACA,YAAa,GACb,gBAAiB,GACjB,SAAU,CACR,KAAM,gDACN,YACE,+EACF,WACE,2FACF,mBACE,oGACF,WAAY,kDACb,CACX,CAAS,EAEDC,EAAM,GAAG,YAAa,MAAO,CAAE,KAAMkB,CAAI,IAAO,CAC9C,GAAI,CAAAjB,EACJ,CAAAA,EAAW,GACXrD,IAEA,GAAI,CACF+B,EAAM,KAAOuC,EACbjF,EAAK,YAAY,UAAY,GAG7B,MAAMkF,EADYP,IAEd,MAAM1C,EAAaS,CAAK,EACxB,MAAMjB,EAAWwD,CAAI,EAEnBE,EAAcD,EAAY,SAAW,GAC3C7B,EAAc8B,CAAW,EAEzBZ,EACEY,EAAY,OAAS,EACrB,OAAOD,GAAA,YAAAA,EAAa,YAAY,GAAK,CACnD,EAEiBjB,GAAgB,sBAAsBmB,EAAkB,CAC9D,MAAW,CACV/E,EAAW,yBAAyB,EACpCgD,EAAc,CAAE,CAAA,EAChBkB,EAAY,GAAO,CAAC,CAChC,QAAoB,CACRP,EAAW,GACXC,EAAiB,GACjBvD,GACD,EACX,CAAS,GAGHqD,EAAM,MAAMgB,CAAY,EACxB,MAAMM,EAAS3C,EAAM,MAAQ,EACzBqB,EAAM,eAAgB,IAAKsB,GAC7BpB,EAAiB,GACjBF,EAAM,WAAWsB,CAAM,GAEvBpB,EAAiB,EAEzB,SACUF,EAAO,CACTA,EAAM,MAAMgB,CAAY,EACxB,MAAMM,EAAS3C,EAAM,MAAQ,EACzBqB,EAAM,eAAgB,IAAKsB,GAC7BpB,EAAiB,GACjBF,EAAM,WAAWsB,CAAM,GAEvBpB,EAAiB,EAEpB,CAGHM,EAAYQ,EAAe,EAAGA,CAAY,CAC3C,MAAW,CACNJ,EAAgB,GAAEtE,EAAW,yBAAyB,EAC1DL,EAAK,YAAY,UAAY,GAC7BqD,EAAc,CAAE,CAAA,EAChBkB,EAAY,GAAO,CAAC,CACxB,QAAY,CACR7D,GACD,CACH,CAEO,SAAS2C,EAAcD,EAAU,GAAI,CAC1C,MAAMkC,EAAS,IAAA,IAAA,0DAAA,YAAA,GAAA,EAA6C,KAE5D,GAAI,CAAC,MAAM,QAAQlC,CAAO,GAAKA,EAAQ,SAAW,EAAG,CACnDkB,IACAtE,EAAK,YAAY,UAAY,GAC7BqE,KACAE,EAAY,GAAO,CAAC,EACpB,SAAS,cAAc,IAAI,MAAM,iBAAiB,CAAC,EACnD,MACD,CAEDD,IAEA,MAAMd,EAASJ,EACZ,IACC,CAAC,CACC,IAAAmC,EACA,UAAAC,EAAY,UACZ,eAAAC,EACA,eAAAC,EAAiB,GACjB,OAAAC,EAAS,CAAE,CACnB,IAAY,CACJ,MAAMC,EACJH,GAAkB,6CAEdI,EACJ,MAAM,QAAQF,CAAM,GAAKA,EAAO,OAC5B,2BAA2BA,EACxB,IAAIG,GAAK,mBAAmBA,CAAC,OAAO,EACpC,KAAK,EAAE,CAAC,QACX,mDAEN,MAAO;AAAA;AAAA,gDAEiCP,CAAG;AAAA;AAAA,uBAE5BK,CAAG;AAAA,uBACHJ,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAMhBK,CAAQ;AAAA,wCACgBL,CAAS;AAAA,gBAEjCE,EACI,uCAAuCA,CAAc,OACrD,EACL;AAAA,yEAC0DH,CAAG,kCAAkCC,CAAS;AAAA;AAAA;AAAA,+BAGxFF,CAAM;AAAA;AAAA;AAAA;AAAA,gBAK9B,CACF,EACA,KAAK,EAAE,EAEVtF,EAAK,YAAY,mBAAmB,YAAawD,CAAM,EACvD,SAAS,cAAc,IAAI,MAAM,iBAAiB,CAAC,CACrD,CAEI,SAAS,aAAe,UAC1B,SAAS,iBAAiB,mBAAoB,IAAM,CAClDd,EAAM,KAAO,EACbkC,EAAY,CAAE,KAAM,EAAI,CAAE,CAC9B,CAAG,GAEDlC,EAAM,KAAO,EACbkC,EAAY,CAAE,KAAM,EAAI,CAAE,GAK5B,SAASQ,IAAqB,CAC5B,MAAMW,EAAS,SAAS,cAAc,iBAAiB,EACvD,GAAI,CAACA,EAAQ,OAEb,IAAIC,EAAY,WAAW,iBAAiBD,CAAM,EAAE,eAAe,GAAK,EACnEC,IACHA,EAAY,OAAO,WAAW,oBAAoB,EAAE,QAChD,IACA,OAAO,WAAW,mBAAmB,EAAE,QACvC,GACA,IACJD,EAAO,MAAM,gBAAkB,GAAGC,CAAS,MAG7C,MAAMC,EAAU,OAAO,WAAW,kCAAkC,EAAE,QACtEF,EAAO,eAAe,CACpB,MAAO,QACP,OAAQ,UACR,SAAUE,EAAU,OAAS,QACjC,CAAG,CACH,CC5QA,SAASC,GAAa5D,EAAQ,CAC5B,MAAM6D,EAAMC,GAAc9D,CAAM,EAC1B+D,EAAOC,EAAYhE,CAAM,EACzBiE,EAAU;AAAA;AAAA;AAAA;AAAA;AAAA,YAOhB,MAAO;AAAA,kBACSJ,CAAG,wBAAwBE,CAAI;AAAA;AAAA,qDAEIE,CAAO,kCAAkCA,CAAO,oCAAoCA,CAAO;AAAA,qDAC3FA,CAAO,kCAAkCA,CAAO,oCAAoCA,CAAO;AAAA,qDAC3FA,CAAO,kCAAkCA,CAAO,oCAAoCA,CAAO;AAAA,qDAC3FA,CAAO,kCAAkCA,CAAO,oCAAoCA,CAAO;AAAA,qDAC3FA,CAAO,kCAAkCA,CAAO,oCAAoCA,CAAO;AAAA;AAAA,WAGhJ,CAEA,SAASC,GAAalE,EAAQ,CAC5B,OAAO4D,GAAa5D,CAAM,CAC5B,CAEA,SAASmE,GAAiB,CAAE,MAAAlE,EAAO,KAAAL,EAAM,OAAAI,CAAM,EAAI,CACjD,MAAO;AAAA;AAAA,QAEDkE,GAAalE,CAAM,CAAC;AAAA,kCACMC,CAAK;AAAA,mCACJL,CAAI;AAAA,WAEvC,CAEA,SAASwE,GAAgBC,EAAW,CAClC,MAAMnD,EAASmD,EAAU,IAAIF,EAAgB,EAAE,KAAK,EAAE,EACtDzG,EAAK,mBAAmB,mBAAmB,YAAawD,CAAM,CAChE,CAIA,SAASoD,GAAWC,EAAG,CACrB,MAAMC,EAAI,OAAOD,CAAC,EAClB,OAAO,KAAK,IAAI,EAAG,KAAK,IAAI,EAAG,OAAO,MAAMC,CAAC,EAAI,EAAIA,CAAC,CAAC,CACzD,CAEA,SAASR,EAAYO,EAAG,CACtB,OAAO,KAAK,MAAMD,GAAWC,CAAC,EAAI,CAAC,EAAI,CACzC,CAEA,SAAST,GAAc9D,EAAQ,CAC7B,MAAMyE,EAAMT,EAAYhE,CAAM,EACxB0E,EAAU,KAAK,MAAMD,CAAG,EAE9B,MAAO,2BADSA,EAAM,IAAM,EAEhB,OAAS,EACvB,UAAYC,CAAO,eACnB,CAIA,IAAIC,EAAiB,KAErB,eAAeC,IAAkB,OAC/BjG,KAEA,GAAI,CACF,GAAIgG,EAAgB,OAEpB,MAAME,IAAatG,EAAA,SAAS,QAAT,YAAAA,EAAgB,QAAS,QAAQ,UAC9CuG,EAAO,MAAMrF,GAAa,CAAC,EACjC,MAAMoF,EAEN,MAAME,EAAO,MAAM,QAAQD,GAAA,YAAAA,EAAM,IAAI,EAAIA,EAAK,KAAO,GAEhDC,EAAK,OAGRX,GAAgBW,CAAI,EAFpBC,IAKFL,EAAiB,IAAIM,GAAO,UAAW,CACrC,QAAS,CAACvC,GAAYwC,EAAU,EAChC,cAAe,EACf,aAAc,GAEd,WAAY,CACV,GAAI,qBACJ,UAAW,GACX,aAAcC,EACf,EAED,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EAED,GAAI,CAAE,YAAaC,CAAmB,CAC5C,CAAK,EAEDA,EAAkBT,CAAc,EAChCA,EAAe,OAAM,EAErB,MAAMU,EAAU,SAAS,cAAc,UAAU,EACjDA,GAAA,MAAAA,EAAS,UAAU,IAAI,WACxB,MAAa,CACZlH,KACA6G,GACJ,QAAY,CACR1G,IACD,CACH,CAEAsG,KAIA,SAASO,GAAoBG,EAAOC,EAAW,CAC7C,OAAOD,EAAQ,EAAI,gBAAgBC,CAAS,YAAc,EAC5D,CAIA,SAASH,EAAkBI,EAAQ,CACjCC,GAAwBD,CAAM,EAC9BE,GAAcF,CAAM,CACtB,CAEA,SAASC,GAAwBD,EAAQ,CACvC,MAAMG,EAAU,SAAS,cAAc,qBAAqB,EACtDC,EAAU,SAAS,cAAc,qBAAqB,EAE5DD,EAAQ,UAAU,OAAO,yBAA0BH,EAAO,cAAgB,CAAC,EAC3EI,EAAQ,UAAU,OAChB,yBACAJ,EAAO,cAAgBA,EAAO,OAAO,OAAS,CAClD,CACA,CAEA,SAASE,GAAcF,EAAQ,CAC7B,MAAMK,EAAU,SAAS,iBAAiB,yBAAyB,EACnE,GAAI,CAACA,EAAQ,OAAQ,OAIrB,GAFAA,EAAQ,QAAQC,GAAKA,EAAE,UAAU,OAAO,iCAAiC,CAAC,EAEtED,EAAQ,SAAW,EAAG,CACxBA,EAAQ,CAAC,EAAE,UAAU,IAAI,iCAAiC,EAC1D,MACD,CAED,MAAME,EAAUP,EAAO,cAAgB,EACjCQ,EAASR,EAAO,cAAgBA,EAAO,OAAO,OAAS,EAEzDK,EAAQ,QAAU,GACnBE,EAAUF,EAAQ,CAAC,EAAIG,EAASH,EAAQ,CAAC,EAAIA,EAAQ,CAAC,GAAG,UAAU,IAClE,iCACN,GAEKE,EAAUF,EAAQ,CAAC,EAAIA,EAAQ,CAAC,GAAG,UAAU,IAC5C,iCACN,CAEA,CAIA,SAASb,GAAmB,CAC1BtH,EAAK,mBAAmB,mBACtB,YACA;AAAA;AAAA;AAAA;AAAA;AAAA,WAMJ,EACE,MAAMuI,EAAY,SAAS,cAAc,aAAa,EACtDA,GAAA,MAAAA,EAAW,UAAU,IAAI,SAC3B,CC/LA,SAASC,IAAY,CACjBxI,EAAK,4BAA4B,UAAU,IAAI,gBAAgB,EAC/D,SAAS,KAAK,MAAM,SAAW,SAC/B,OAAO,iBAAiB,UAAWyI,CAAa,EAChDzI,EAAK,4BAA4B,iBAAiB,QAAS0I,EAAe,CAC9E,CAEA,SAASC,GAAa,CAClB3I,EAAK,4BAA4B,UAAU,OAAO,gBAAgB,EAClE,SAAS,KAAK,MAAM,SAAW,GAC/B,OAAO,oBAAoB,UAAWyI,CAAa,EACnDzI,EAAK,4BAA4B,oBAAoB,QAAS0I,EAAe,CACjF,CAEA,SAASD,EAAc,EAAG,CACpB,EAAE,MAAQ,UACZE,GAEJ,CAEA,SAASD,GAAgB,EAAG,CACtB,EAAE,SAAW1I,EAAK,6BACpB2I,GAEJ,CAEA,SAASC,IAAa,QAClB/H,EAAAb,EAAK,SAAL,MAAAa,EAAa,UAAU,OAAO,YAClC,CAEA,SAASgI,IAAa,QAClBhI,EAAAb,EAAK,SAAL,MAAAa,EAAa,UAAU,IAAI,YAC/B,CAEA,eAAeiI,GAAkBC,EAAU,CAEvC,GAAI,CACAH,KAEA,MAAMI,EAAS,MAAMpH,GAAcmH,CAAQ,EACrCE,EAAa,MAAMnH,GAAoBiH,CAAQ,EAC/CG,GAASD,GAAA,YAAAA,EAAY,aAAc,GAEnC,CACF,cAAAE,EACA,YAAAC,EACA,UAAA5D,EACA,eAAAC,EACA,UAAA4D,EACA,WAAAC,EACA,WAAAC,EACA,eAAA7D,EACA,OAAAC,CACH,EAAGqD,EAEJ,IAAIQ,EACAL,GAAiBC,EACrBI,EAAQ,GAAGL,CAAa,MAAMH,EAAO,WAAW,GACrCG,GAAiB,CAACC,EAC7BI,EAAQ,GAAGL,CAAa,aAExBK,EAAQ,sBAGR,MAAMC,EAAiBC,GAAM,CACzB,GAAI,CAACA,GAAM,MAAMA,CAAE,EAAG,MAAO,GAC7B,MAAMC,EAAW,KAAK,MAAMD,EAAK,GAAI,EAC/BE,EAAM,KAAK,MAAMD,EAAW,EAAE,EAC9BE,EAAM,OAAOF,EAAW,EAAE,EAAE,SAAS,EAAG,GAAG,EACjD,MAAO,GAAGC,CAAG,IAAIC,CAAG,EAChC,EAEcrG,EAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAQmCgC,CAAS;AAAA;AAAA,6DAENC,CAAc,UAAUuD,EAAO,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DAMpCQ,CAAK;AAAA;AAAA,kBAE/CH,EAAY;AAAA;AAAA;AAAA,+DAGiCA,CAAS;AAAA;AAAA,sBAEhD,EAAE;AAAA,kBACRC,EAAa;AAAA;AAAA;AAAA,+DAGgCA,CAAU;AAAA;AAAA,sBAEjD,EAAE;AAAA;AAAA;AAAA,2DAGiCC,CAAU;AAAA;AAAA;AAAA;AAAA,2DAIV7D,CAAc;AAAA;AAAA;AAAA;AAAA,kBAKrD,MAAM,QAAQC,CAAM,GAAKA,EAAO,OAC5B,iDAAiDA,EAC9C,IAAIG,GAAK,sDAAsDA,CAAC,OAAO,EACvE,KAAK,EAAE,CAAC,QACX,EACP;AAAA;AAAA;AAAA;AAAA;AAAA,cAKHoD,EAAO,OAAS,EAAIA,EAAO,IAAIY,UAAS;AAAA;AAAA,qEAEeA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAU7DjJ,EAAAiJ,EAAM,SAAN,YAAAjJ,EAAc,IAAIkJ,GAAS;AAAA;AAAA,wFAEuCA,EAAM,QAAQ;AAAA,wFACdN,EAAeM,EAAM,WAAW,CAAC;AAAA;AAAA,8BAE3FA,EAAM,OAASA,EAAM,QAAU,OAAS;AAAA,sEACAA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKjD,EAAE;AAAA;AAAA;AAAA,uBAGX,KAAK,MAAO,EAAE;AAAA;AAAA;AAAA;AAAA,cAIxB,EAAE,KAAK,EAAE,EAAI,wBAAwB;AAAA;AAAA;AAAA,UAM1C/J,EAAK,mBAAmB,UAAY,GAAGwD,CAAM,GAE5BxD,EAAK,4BAA4B,cAAc,iCAAiC,EACxF,iBAAiB,QAAS2I,CAAU,EAE7CH,IAEH,OAAQlF,EAAK,CACVjD,EAAWiD,EAAI,OAAO,CAE9B,QAAc,CACNuF,IACH,CACL,CAGA7I,EAAK,YAAY,iBAAiB,QAAS,GAAK,CAC5C,MAAM4D,EAAM,EAAE,OAAO,QAAQ,aAAa,EAC1C,GAAG,CAACA,EAAK,OAET,MAAMmF,EAAWnF,EAAI,QAAQ,SAC1BmF,GACHD,GAAkBC,CAAQ,CAE9B,CAAC,ECzLD,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMiB,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAO,SAAS,cAAc,sBAAsB,EACpDC,EAAY,SAAS,eAAe,WAAW,EAC/CC,EAAe,SAAS,eAAe,eAAe,EACtDC,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAYJ,EAAK,cAAc,qBAAqB,EACpDK,EAAQ,SAAS,iBAAiB,eAAe,EACjDC,EAAc,SAAS,eAAe,aAAa,EAEzD,SAASC,EAAgBlK,EAAS,CAChCiK,EAAY,YAAcjK,CAC3B,CAED,SAASmK,GAAmB,CAC1BF,EAAY,YAAc,EAC3B,CAGDD,EAAM,QAAQ,CAACI,EAAMC,IAAQ,CAC3BD,EAAK,UAAY;AAAA;AAAA,2CAGjBA,EAAK,MAAM,KAAO,UAClBA,EAAK,MAAM,OAAS,UAEpBA,EAAK,iBAAiB,QAAS,IAAM,CACnCN,EAAY,MAAQO,EAAM,EAC1BL,EAAM,QAAQ,CAACM,EAAGC,IAAMD,EAAE,MAAM,KAAOC,GAAKF,EAAM,UAAY,SAAS,EACvEF,GACN,CAAK,CACL,CAAG,EAGD,MAAMK,EAAU,SAAS,cAAc,wBAAwB,EAC3DA,GACFA,EAAQ,iBAAiB,QAAS,IAAM,CACtCb,EAAK,MAAK,EACVG,EAAY,MAAQ,IACpBK,IACAH,EAAM,QAAQM,GAAKA,EAAE,MAAM,KAAO,SAAS,EAC3CG,EAAWb,CAAS,EACpBa,EAAWZ,CAAY,EACvBH,EAAS,UAAU,IAAI,SAAS,EAChC,SAAS,KAAK,MAAM,SAAW,QACrC,CAAK,EAGH,MAAMrB,EAAa,IAAM,CACvBqB,EAAS,UAAU,OAAO,SAAS,EACnC,SAAS,KAAK,MAAM,SAAW,EACnC,EACE,SAAS,cAAc,uBAAuB,EAAE,iBAAiB,QAASrB,CAAU,EACpFqB,EAAS,iBAAiB,QAASzG,GAAK,CAAMA,EAAE,SAAWyG,GAAUrB,EAAY,CAAG,CAAA,EACpF,SAAS,iBAAiB,UAAWpF,GAAK,CAAMA,EAAE,MAAQ,UAAUoF,EAAY,CAAG,CAAA,EAEnF,MAAMqC,EAAY,CAACC,EAAO3K,IAAY,CACpC,IAAI4K,EAAUD,EAAM,oBAChB,CAACC,GAAW,CAACA,EAAQ,UAAU,SAAS,aAAa,KACvDA,EAAU,SAAS,cAAc,KAAK,EACtCA,EAAQ,UAAU,IAAI,aAAa,EACnCD,EAAM,sBAAsB,WAAYC,CAAO,GAEjDA,EAAQ,YAAc5K,EACtB2K,EAAM,UAAU,IAAI,aAAa,EACjCA,EAAM,aAAa,eAAgB,MAAM,CAC7C,EAEQF,EAAaE,GAAS,CAC1B,IAAIC,EAAUD,EAAM,mBAChBC,GAAWA,EAAQ,UAAU,SAAS,aAAa,IAAGA,EAAQ,YAAc,IAChFD,EAAM,UAAU,OAAO,aAAa,EACpCA,EAAM,gBAAgB,cAAc,CACxC,EAGEhB,EAAK,iBAAiB,SAAU,MAAM1G,GAAK,SACzCA,EAAE,eAAc,EAEhBwH,EAAWb,CAAS,EACpBa,EAAWZ,CAAY,EACvBM,IAEA,MAAMvI,EAAOgI,EAAU,MAAM,KAAI,EAC3B5J,EAAU6J,EAAa,MAAM,KAAI,EACjC7H,EAAS,WAAW8H,EAAY,KAAK,EAE3C,IAAIe,EAAW,GAiBf,IAfIjJ,EAAK,OAAS,GAAKA,EAAK,OAAS,MACnC8I,EAAUd,EAAW,0CAA0C,EAC/DiB,EAAW,KAGT7K,EAAQ,OAAS,IAAMA,EAAQ,OAAS,OAC1C0K,EAAUb,EAAc,+CAA+C,EACvEgB,EAAW,KAGT7I,EAAS,GAAKA,EAAS,KACzBkI,EAAgB,yCAAyC,EACzDW,EAAW,IAGT,CAAAA,EAEJ,CAAAd,EAAU,SAAW,GAErB,GAAI,CACF,MAAMhI,GAAeH,EAAMI,EAAQhC,CAAO,EAC1C,aAAa,8CAA8C,EAE3D2J,EAAK,MAAK,EACVG,EAAY,MAAQ,IACpBE,EAAM,QAAQM,GAAKA,EAAE,MAAM,KAAO,SAAS,EAC3CjC,GACD,OAAQrF,EAAK,CACZ,MAAM,oBAAoBxC,GAAAD,EAAAyC,EAAI,WAAJ,YAAAzC,EAAc,OAAd,YAAAC,EAAoB,UAAWwC,EAAI,QAAQ,CAC3E,QAAc,CACR+G,EAAU,SAAW,EACtB,EACL,CAAG,CACH,CAAC,EC/HD,MAAMe,EAAY,SAAS,cAAc,gBAAgB,EAEzD,IAAIC,EAAa,OAAO,QACpBC,EAAY,GACZC,EACAC,EAEJ,OAAO,iBAAiB,SAAU,IAAM,CACtC,aAAaD,CAAa,EAE1BA,EAAgB,WAAW,IAAM,CAC/B,MAAME,EAAgB,OAAO,QACvBC,EAAcD,EAAgBJ,EAAa,GAI3CM,EAFJ,OAAO,YAAcF,GAAiB,SAAS,KAAK,aAAe,IAE7BC,GAAeD,EAAgB,IAEnEE,GAAc,CAACL,GACjBF,EAAU,UAAU,IAAI,SAAS,EACjCE,EAAY,GAEZ,aAAaE,CAAW,EACxBA,EAAc,WAAW,IAAM,CAC7BJ,EAAU,UAAU,OAAO,SAAS,EACpCE,EAAY,EACb,EAAE,GAAI,GACE,CAACK,GAAcL,IACxBF,EAAU,UAAU,OAAO,SAAS,EACpCE,EAAY,GACZ,aAAaE,CAAW,GAG1BH,EAAaI,CACd,EAAE,EAAE,CACP,CAAC,EAEDL,EAAU,iBAAiB,QAAS,IAAM,CACxC,OAAO,SAAS,CAAE,IAAK,EAAG,SAAU,QAAQ,CAAE,CAChD,CAAC"}