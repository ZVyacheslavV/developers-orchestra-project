{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/constants.js","../src/js/helpers.js","../src/js/storage.js","../src/js/header.js","../src/js/artists-api.js","../src/js/artists.js","../src/js/animations.js","../src/js/artists-additional.js","../src/js/feedback.js","../src/js/artist-details-modal.js","../src/js/feedback-modal.js","../src/js/button-up.js"],"sourcesContent":["/* Refs */\nexport const refs = {\n  feedbacksContainer: document.querySelector('.feedbacks-container'),\n  artistsList: document.querySelector('#artists-list'),\n  artistDetailsModal: document.querySelector('.artist-details-modal'),\n  artistDetailsModalCloseBtn: document.querySelector(\n    '.artist-details-modal-close-btn'\n  ),\n  menuGenres: document.querySelector('.dropdown-menu-genres'),\n  menuSort: document.querySelector('.dropdown-menu-sort'),\n  panelSearch: document.querySelector('.filters-content'),\n  btnGenres: document.querySelector('.dropdown-toggle-genres'),\n  btnSort: document.querySelector('.dropdown-toggle-sort'),\n  loader: document.querySelector('.loader'),\n  btnSearch: document.querySelector('.search-and-filters-toggle'),\n  searchInput: document.querySelector('.search-input'),\n  searchBtnRequest: document.querySelector('.search-btn'),\n  iconSearch: document.querySelector('.dropdown-icon-search'),\n  iconSort: document.querySelector('.sort-icon'),\n  iconGenres: document.querySelector('.genres-icon'),\n  loaderArtistsWrapper: document.querySelector('.artists-loader-container'),\n  toggleBtn: document.querySelector('.header-toggle'),\n  mobileMenu: document.querySelector('.header-mobile-menu'),\n  menuLinks: document.querySelectorAll('.header-mob-nav-link'),\n  heroBtn: document.querySelector('.hero-btn'),\n  resetBtn: document.querySelector('.filters-reset-btn'),\n};\n","/* Constants */\nexport const BASE_URL = 'https://sound-wave.b.goit.study/api';\nexport const API_ENDPOINTS = {\n  ARTISTS: '/artists',\n  ARTIST_BY_ID: '/artists/',\n  ARTIST_ALBUMS_BY_ID: '/albums',\n\n  GENRES: '/genres',\n\n  FEEDBACKS: '/feedbacks',\n  PRODUCTS_BY_CATEGORY: '/products/category/',\n};\nexport const ARTISTS_PER_PAGE = 8;\nexport const FEEDBACKS_PER_QUEUE = 10;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { refs } from './refs';\n\n/* Helpers */\nexport function toastError(message, position = 'center') {\n  iziToast.error({ /* title: 'Error', */ message, position });\n}\n\nexport function toastSuccess(message, position = 'center') {\n  iziToast.success({ /* title: '🔥', */ message, position });\n}\n\nexport function hideLoaderArtists() {\n  refs.loaderArtistsWrapper.classList.add('hidden');\n}\n\nexport function showLoaderArtists() {\n  refs.loaderArtistsWrapper.classList.remove('hidden');\n}\n","/* Storage */\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const page = { currentPage: 1 };\n\nexport function getFromLS(key) {\n  try {\n    const jsonData = localStorage.getItem(key);\n    return jsonData ? JSON.parse(jsonData) : null;\n  } catch {\n    iziToast.error({\n      message: `Error during loading from LS for key \"${key}\": ${err}`,\n    });\n    return null;\n  }\n}\n\nexport function saveToLS(key, value) {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (err) {\n    iziToast.error(`Error during saving to LS: ${err}`);\n  }\n}\n","import { refs } from './refs.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const { toggleBtn, mobileMenu, menuLinks } = refs;\n\n  function openMenu() {\n    mobileMenu.classList.add('active');\n    toggleBtn.classList.add('active');\n  }\n\n  function closeMenu() {\n    mobileMenu.classList.remove('active');\n    toggleBtn.classList.remove('active');\n  }\n\n  toggleBtn?.addEventListener('click', () => {\n    if (mobileMenu.classList.contains('active')) {\n      closeMenu();\n    } else {\n      openMenu();\n    }\n  });\n\n  menuLinks?.forEach(link => link.addEventListener('click', closeMenu));\n});\n","/* Backend api */\nimport axios from 'axios';\nimport {\n  API_ENDPOINTS,\n  ARTISTS_PER_PAGE,\n  BASE_URL,\n  FEEDBACKS_PER_QUEUE,\n} from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport const getArtists = async page => {\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.ARTISTS}?limit=${ARTISTS_PER_PAGE}&page=${page}`\n  );\n  return data;\n};\n\nexport const getArtistById = async id => {\n  const { data } = await axios.get(`${API_ENDPOINTS.ARTIST_BY_ID}${id}`);\n  return data;\n};\n\nexport const getArtistAlbumsById = async id => {\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.ARTIST_BY_ID}${id}${API_ENDPOINTS.ARTIST_ALBUMS_BY_ID}`\n  );\n  return data;\n};\n\nexport const getFeedbacks = async (page = 1) => {\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.FEEDBACKS}?limit=${FEEDBACKS_PER_QUEUE}&page=${page}`\n  );\n  return data;\n};\n\nexport const getGenres = async () => {\n  const { data } = await axios.get(`${API_ENDPOINTS.GENRES}`);\n  return data;\n};\n\nexport const searchArtist = async ({\n  name,\n  page = 1,\n  sorted = '0',\n  genre = '',\n}) => {\n  const { data } = await axios.get(\n    `${API_ENDPOINTS.ARTISTS}?limit=${ARTISTS_PER_PAGE}&page=${page}${\n      name?.length ? `&name=${name}` : ''\n    }${\n      sorted === '2' ? `&sortName=desc` : sorted === '1' ? `&sortName=asc` : ''\n    }${genre ? `&genre=${genre}` : ''}`\n  );\n  return data;\n};\n\nexport const addNewFeedback = async (name, rating, descr /* , closeFunc */) => {\n  await axios.post(`${API_ENDPOINTS.FEEDBACKS}`, {\n    name,\n    rating,\n    descr,\n  });\n};\n","/* Artists */\n\nimport { getArtists } from './artists-api.js';\nimport { refs } from './refs.js';\nimport { page } from './storage.js';\nimport { toastError } from './helpers.js';\nimport { ARTISTS_PER_PAGE } from './constants.js';\n\nimport Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport '../css/artists.css';\n\nconst isMobile = window.matchMedia('(max-width: 767.98px)').matches;\nconst visiblePages = isMobile ? 3 : 5;\n\nlet pager = null;\nlet inFlight = false;\n\nexport async function loadArtists({ init = false } = {}) {\n  try {\n    const payload = await getArtists(page.currentPage);\n    const artists = payload.artists ?? [];\n    const totalArtists = Number(payload.totalArtists) || 0;\n\n    if (init) {\n      refs.artistsList.innerHTML = '';\n      renderArtists(artists);\n\n      if (!pager) {\n        pager = new Pagination('#tui-pagination', {\n          totalItems: totalArtists,\n          itemsPerPage: ARTISTS_PER_PAGE,\n          page: page.currentPage || 1,\n          visiblePages,\n          centerAlign: true,\n          usageStatistics: false,\n          template: {\n            page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n            currentPage:\n              '<strong class=\"tui-page-btn is-active\" aria-current=\"page\">{{page}}</strong>',\n            moveButton:\n              '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\"><span class=\"tui-ico-{{type}}\"></span></a>',\n            disabledMoveButton:\n              '<span class=\"tui-page-btn is-disabled tui-{{type}}\"><span class=\"tui-ico-{{type}}\"></span></span>',\n            moreButton: '<span class=\"tui-page-btn tui-ellipsis\">…</span>',\n          },\n        });\n\n        pager.on('afterMove', async ({ page: next }) => {\n          if (inFlight) return;\n          inFlight = true;\n          try {\n            page.currentPage = next;\n            refs.artistsList.innerHTML = '';\n            const nextPayload = await getArtists(next);\n            renderArtists(nextPayload.artists ?? []);\n\n            requestAnimationFrame(scrollToArtistsTop);\n          } catch (e) {\n            console.error('[artists] fetch/render error:', e);\n            toastError('Failed to fetch artists');\n          } finally {\n            inFlight = false;\n          }\n        });\n      } else {\n        pager.reset(totalArtists);\n        pager.movePageTo(page.currentPage || 1);\n      }\n      return;\n    }\n\n    refs.artistsList.innerHTML = '';\n    renderArtists(artists);\n  } catch (e) {\n    console.error('[artists] init error:', e);\n    toastError('Failed to fetch artists');\n  }\n}\n\nexport function renderArtists(artists = []) {\n  const markup = artists\n    .map(\n      ({\n        _id,\n        strArtist = 'Unknown',\n        strArtistThumb,\n        strBiographyEN = '',\n        genres = [],\n      }) => {\n        const img =\n          strArtistThumb || 'https://placehold.co/736x414?text=No+Image';\n\n        const tagsHtml =\n          Array.isArray(genres) && genres.length\n            ? `<ul class=\"artist-tags\">${genres\n                .map(g => `<li class=\"tag\">${g}</li>`)\n                .join('')}</ul>`\n            : `<ul class=\"artist-tags\" aria-hidden=\"true\"></ul>`;\n\n        return `\n          <li class=\"artists-item\">\n            <div class=\"artist-card\" data-id=\"${_id}\">\n              <img\n                src=\"${img}\"\n                alt=\"${strArtist} — portrait\"\n                class=\"artist-img\"\n                loading=\"lazy\"\n                decoding=\"async\"\n                width=\"736\" height=\"414\"\n              >\n              ${tagsHtml}\n              <h3 class=\"artist-name\">${strArtist}</h3>\n              ${\n                strBiographyEN\n                  ? `<p class=\"artist-desc text-clamp-3\">${strBiographyEN}</p>`\n                  : ''\n              }\n              <button class=\"artist-cta\" type=\"button\" data-artist-id=\"${_id}\" aria-label=\"Learn more about ${strArtist}\">\n                Learn More\n                <svg class=\"artist-cta-icon\" width=\"16\" height=\"16\" aria-hidden=\"true\">\n                  <use href=\"/img/icons.svg#icon-arrow-1\"></use>\n                </svg>\n              </button>\n            </div>\n          </li>`;\n      }\n    )\n    .join('');\n\n  if (refs.artistsList) {\n    refs.artistsList.insertAdjacentHTML('beforeend', markup);\n  } else {\n    console.warn(\n      'refs.artistsList is null. Перевір HTML і момент ініціалізації скрипта.'\n    );\n  }\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', () => {\n    page.currentPage = 1;\n    loadArtists({ init: true });\n  });\n} else {\n  page.currentPage = 1;\n  loadArtists({ init: true });\n}\n\n// ===== Smooth scroll to the section titles =====\nfunction scrollToArtistsTop() {\n  if (!window.matchMedia('(min-width: 1440px)').matches) return;\n\n  const anchor = document.querySelector('.js-artists-top');\n  if (!anchor) return;\n\n  const reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n  anchor.scrollIntoView({\n    behavior: reduced ? 'auto' : 'smooth',\n    block: 'start',\n  });\n}\n","import { gsap } from 'gsap';\nimport { refs } from './refs';\n\nexport const timeLines = {\n  tlOpenSearch: !window.matchMedia('(min-width: 1440px)').matches\n    ? gsap\n        .timeline({ paused: true })\n        .to(\n          refs.iconSearch,\n          { rotate: 180, duration: 0.35, ease: 'power2.out' },\n          0\n        )\n        .fromTo(\n          refs.panelSearch,\n          { opacity: 0, y: -10, pointerEvents: 'none' },\n          {\n            opacity: 1,\n            y: 0,\n            duration: 0.4,\n            pointerEvents: 'auto',\n            ease: 'power3.out',\n          },\n          0\n        )\n        .from(\n          refs.panelSearch.children,\n          {\n            opacity: 0,\n            y: -6,\n            stagger: 0.05,\n            duration: 0.25,\n            ease: 'power2.out',\n          },\n          0.1\n        )\n    : null,\n\n  tlCloseSearch: !window.matchMedia('(min-width: 1440px)').matches\n    ? gsap\n        .timeline({ paused: true })\n        .to(refs.iconSearch, { rotate: 0, duration: 0.3, ease: 'power2.in' }, 0)\n        .to(\n          refs.panelSearch,\n          {\n            opacity: 0,\n            y: -10,\n            duration: 0.3,\n            pointerEvents: 'none',\n            ease: 'power2.in',\n          },\n          0\n        )\n    : null,\n\n  tlOpenSort: gsap\n    .timeline({ paused: true })\n    .to(refs.iconSort, { rotate: 180, duration: 0.35, ease: 'power2.out' }, 0)\n    .fromTo(\n      refs.menuSort,\n      { opacity: 0, y: -10, pointerEvents: 'none' },\n      {\n        opacity: 1,\n        y: 0,\n        duration: 0.4,\n        pointerEvents: 'auto',\n        ease: 'power3.out',\n      },\n      0\n    )\n    .from(\n      refs.menuSort.children,\n      {\n        opacity: 0,\n        y: -6,\n        stagger: 0.05,\n        duration: 0.25,\n        ease: 'power2.out',\n      },\n      0.1\n    ),\n\n  tlCloseSort: gsap\n    .timeline({ paused: true })\n    .to(refs.iconSort, { rotate: 0, duration: 0.3, ease: 'power2.in' }, 0)\n    .to(\n      refs.menuSort,\n      {\n        opacity: 0,\n        y: -10,\n        duration: 0.3,\n        pointerEvents: 'none',\n        ease: 'power2.in',\n      },\n      0\n    ),\n\n  tlOpenGenres: gsap\n    .timeline({ paused: true })\n    .to(refs.iconGenres, { rotate: 180, duration: 0.35, ease: 'power2.out' }, 0)\n    .fromTo(\n      refs.menuGenres,\n      { opacity: 0, y: -10, pointerEvents: 'none' },\n      {\n        opacity: 1,\n        y: 0,\n        duration: 0.4,\n        pointerEvents: 'auto',\n        ease: 'power3.out',\n      },\n      0\n    )\n    .from(\n      refs.menuGenres.children,\n      {\n        opacity: 0,\n        y: -6,\n        stagger: 0.05,\n        duration: 0.25,\n        ease: 'power2.out',\n      },\n      0.1\n    ),\n\n  tlCloseGenres: gsap\n    .timeline({ paused: true })\n    .to(refs.iconGenres, { rotate: 0, duration: 0.3, ease: 'power2.in' }, 0)\n    .to(\n      refs.menuGenres,\n      {\n        opacity: 0,\n        y: -10,\n        duration: 0.3,\n        pointerEvents: 'none',\n        ease: 'power2.in',\n      },\n      0\n    ),\n};\n\ntimeLines.tlOpenSort.eventCallback('onStart', () => {\n  timeLines.tlCloseSort?.pause(0).progress(0);\n});\ntimeLines.tlCloseSort.eventCallback('onStart', () => {\n  timeLines.tlOpenSort?.pause(0).progress(0);\n});\n","/* Artists additional */\nimport { timeLines } from './animations.js';\nimport { getArtists, getGenres, searchArtist } from './artists-api';\nimport { loadArtists, renderArtists } from './artists.js';\nimport { hideLoaderArtists, showLoaderArtists, toastError } from './helpers';\nimport { refs } from './refs.js';\nimport { gsap } from 'gsap';\n\nexport let query = { name: '', page: 1, sorted: 0, genre: '' };\n\nconst allDropdowns = [];\n\n//Inits:\ninitGenresMarkup();\n\ninitSearchAndFilters();\n\ninitSearchRequest();\n\ninitSort();\n\ninitGenres();\n\ninitReset();\n\nexecHeroBtnClick();\n\nhelpClearHoverOnButtons();\n\n//Functions:\nfunction initSearchRequest() {\n  refs.searchInput.addEventListener('input', () => {\n    query.name = refs.searchInput.value.trim();\n  });\n\n  const handleSearchBtnRequest = async () => {\n    if (!query.name?.length) {\n      toastError('Silence from you');\n      return;\n    }\n    showLoaderArtists();\n\n    try {\n      const { artists } = await searchArtist(query);\n      refs.artistsList.innerHTML = '';\n      renderArtists(artists);\n    } catch (err) {\n      toastError(`Silence due problem ${err}`);\n    }\n\n    hideLoaderArtists();\n    if (!window.matchMedia('(min-width: 1440px)'))\n      timeLines.tlCloseSearch.play(0);\n  };\n\n  refs.searchBtnRequest.addEventListener('click', handleSearchBtnRequest);\n\n  refs.searchInput.addEventListener('keydown', e => {\n    if (e.key === 'Enter') {\n      handleSearchBtnRequest();\n    }\n  });\n}\n\nasync function initGenresMarkup() {\n  try {\n    const genres = await getGenres();\n    const markup =\n      '<li data-value=\"all\">All Genres</li>' +\n      genres\n        .map(({ genre }) => `<li data-value=\"${genre}\">${genre}</li>`)\n        .join('');\n    refs.menuGenres.insertAdjacentHTML('beforeend', markup);\n  } catch (err) {\n    toastError(`While loading genres ${err}`);\n  }\n}\n\nfunction initDropdown({ btn, menu, wrapperSelector }) {\n  const icon = btn.querySelector('.dropdown-icon');\n  const tlOpen = gsap.timeline({ paused: true });\n  const tlClose = gsap.timeline({ paused: true });\n\n  const outsideClickHandler = e => {\n    if (!document.querySelector(wrapperSelector).contains(e.target)) {\n      tlClose.restart();\n      btn.classList.remove('open');\n      menu.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  };\n\n  tlOpen\n    .to(icon, { rotate: 180, duration: 0.35, ease: 'power2.out' }, 0)\n    .fromTo(\n      menu,\n      { opacity: 0, y: -10, pointerEvents: 'none' },\n      {\n        opacity: 1,\n        y: 0,\n        duration: 0.4,\n        pointerEvents: 'auto',\n        ease: 'power3.out',\n      },\n      0\n    )\n    .from(\n      menu.children,\n      {\n        opacity: 0,\n        y: -6,\n        stagger: 0.05,\n        duration: 0.25,\n        ease: 'power2.out',\n      },\n      0.1\n    );\n\n  tlClose.to(icon, { rotate: 0, duration: 0.3, ease: 'power2.in' }, 0).to(\n    menu,\n    {\n      opacity: 0,\n      y: -10,\n      duration: 0.3,\n      pointerEvents: 'none',\n      ease: 'power2.in',\n    },\n    0\n  );\n\n  btn.addEventListener('click', e => {\n    e.stopPropagation();\n    const isOpen = menu.classList.contains('open');\n\n    // Closing others:\n    if (!isOpen) {\n      allDropdowns.forEach(d => {\n        if (d.menu !== menu) {\n          d.tlOpen.pause(0);\n          d.tlClose.restart();\n          d.btn.classList.remove('open');\n          d.menu.classList.remove('open');\n        }\n      });\n\n      tlClose.pause(0);\n      tlOpen.restart();\n      btn.classList.add('open');\n      menu.classList.add('open');\n      document.addEventListener('click', outsideClickHandler, { once: true });\n      // document.body.classList.add('no-scroll');\n    } else {\n      tlOpen.pause(0);\n      tlClose.restart();\n      btn.classList.remove('open');\n      menu.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  });\n\n  menu.addEventListener('click', e => {\n    const item = e.target.closest('li');\n    if (!item) return;\n\n    btn.querySelector('.dropdown-label').textContent = item.textContent;\n    btn.dataset.value = item.dataset.value;\n\n    tlOpen.pause(0);\n    tlClose.restart();\n    btn.classList.remove('open');\n    menu.classList.remove('open');\n    // document.body.classList.remove('no-scroll');\n  });\n\n  // Saving for closing others in future:\n  allDropdowns.push({ btn, menu, tlOpen, tlClose });\n}\n\n//================================================================\n/* == Init Sort, Init Genres functions == */\nfunction initSort() {\n  const outsideClickHandler = e => {\n    if (!document.querySelector('.artists-dropdown-sort').contains(e.target)) {\n      timeLines.tlCloseSort.restart();\n      timeLines.tlCloseGenres.restart(); //try\n      refs.btnSort.classList.remove('open');\n      refs.menuSort.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  };\n\n  refs.btnSort.addEventListener('click', e => {\n    e.stopPropagation();\n    const isOpen = refs.menuSort.classList.contains('open');\n\n    if (!isOpen) {\n      //Closing genres\n      timeLines.tlOpenGenres.pause(0);\n      timeLines.tlCloseGenres.restart();\n      refs.btnGenres.classList.remove('open');\n      refs.menuGenres.classList.remove('open');\n\n      timeLines.tlCloseSort.pause(0);\n      timeLines.tlOpenSort.restart();\n      refs.btnSort.classList.add('open');\n      refs.menuSort.classList.add('open');\n      document.addEventListener('click', outsideClickHandler, { once: true });\n      // document.body.classList.add('no-scroll');\n    } else {\n      timeLines.tlOpenSort.pause(0);\n      timeLines.tlCloseSort.restart();\n      refs.btnSort.classList.remove('open');\n      refs.menuSort.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  });\n\n  refs.menuSort.addEventListener('click', async e => {\n    const item = e.target.closest('li');\n    if (!item) return;\n\n    refs.btnSort.querySelector('.dropdown-label').textContent =\n      item.textContent;\n    refs.btnSort.dataset.value = item.dataset.value;\n\n    query.sorted = item.dataset.value;\n    console.log(query);\n\n    showLoaderArtists();\n    try {\n      const { artists } = await searchArtist(query);\n      refs.artistsList.innerHTML = '';\n      renderArtists(artists);\n    } catch (err) {\n      toastError(`Silence due problem ${err}`);\n    }\n    hideLoaderArtists();\n\n    timeLines.tlOpenSort.pause(0);\n    timeLines.tlCloseSort.restart();\n    refs.btnSort.classList.remove('open');\n    refs.menuSort.classList.remove('open');\n    // document.body.classList.remove('no-scroll');\n  });\n\n  // Saving for closing others in future:\n  // allDropdowns.push({ btn, menu, tlOpen, tlClose });\n}\n\nasync function initGenres() {\n  const outsideClickHandler = e => {\n    if (\n      !document.querySelector('.artists-dropdown-genres').contains(e.target)\n    ) {\n      timeLines.tlCloseGenres.restart();\n      timeLines.tlCloseSort.restart(); //try\n      refs.btnGenres.classList.remove('open');\n      refs.menuGenres.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  };\n\n  refs.btnGenres.addEventListener('click', e => {\n    e.stopPropagation();\n    const isOpen = refs.menuGenres.classList.contains('open');\n\n    if (!isOpen) {\n      //Closing sort\n      timeLines.tlOpenSort.pause(0);\n      timeLines.tlCloseSort.restart();\n      refs.btnSort.classList.remove('open');\n      refs.menuSort.classList.remove('open');\n\n      timeLines.tlCloseGenres.pause(0);\n      timeLines.tlOpenGenres.restart();\n      refs.btnGenres.classList.add('open');\n      refs.menuGenres.classList.add('open');\n      document.addEventListener('click', outsideClickHandler, { once: true });\n      // document.body.classList.add('no-scroll');\n    } else {\n      timeLines.tlOpenGenres.pause(0);\n      timeLines.tlCloseGenres.restart();\n      refs.btnGenres.classList.remove('open');\n      refs.menuGenres.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  });\n\n  refs.menuGenres.addEventListener('click', async e => {\n    const item = e.target.closest('li');\n    if (!item) return;\n\n    refs.btnGenres.querySelector('.dropdown-label').textContent =\n      item.textContent;\n    refs.btnGenres.dataset.value = item.dataset.value;\n\n    query.genre = item.textContent === 'All Genres' ? '' : item.textContent;\n\n    showLoaderArtists();\n    try {\n      const { artists } = await searchArtist(query);\n      refs.artistsList.innerHTML = '';\n      renderArtists(artists);\n    } catch (err) {\n      toastError(`Silence due problem ${err}`);\n    }\n    hideLoaderArtists();\n\n    timeLines.tlOpenGenres.pause(0);\n    timeLines.tlCloseGenres.restart();\n    refs.btnGenres.classList.remove('open');\n    refs.menuGenres.classList.remove('open');\n    // document.body.classList.remove('no-scroll');\n  });\n\n  // Saving for closing others in future:\n  // allDropdowns.push({ btn, menu, tlOpen, tlClose });\n}\n\n//================================================================\n\nfunction initSearchAndFilters() {\n  // no initialization of animation\n  if (window.matchMedia('(min-width: 1440px)').matches) {\n    return;\n  }\n\n  const outsideClickHandler = e => {\n    if (!document.querySelector('.filters-content').contains(e.target)) {\n      timeLines.tlCloseSearch.play(0);\n      document.removeEventListener('click', outsideClickHandler);\n    }\n    // refs.btnSearch.classList.remove('open');\n    // refs.panelSearch.classList.remove('open');\n  };\n\n  refs.btnSearch.addEventListener('click', e => {\n    e.stopPropagation();\n    const isOpenSearch =\n      gsap.isTweening(refs.panelSearch) ||\n      refs.panelSearch.style.pointerEvents === 'auto';\n\n    if (!isOpenSearch) {\n      timeLines.tlCloseSearch.pause(0);\n      timeLines.tlOpenSearch.restart();\n      document.addEventListener('click', outsideClickHandler);\n      // refs.btnSearch.classList.add('open');\n      // refs.panelSearch.classList.add('open');\n    } else {\n      timeLines.tlOpenSearch.pause(0);\n      timeLines.tlCloseSearch.restart();\n      document.removeEventListener('click', outsideClickHandler);\n      // refs.btnSearch.classList.remove('open');\n      // refs.panelSearch.classList.remove('open');\n    }\n  });\n\n  /* refs.panelSearch.addEventListener('click', e => {\n    refs.btnSearch.classList.remove('open');\n    refs.panelSearch.classList.remove('open');\n    const item = e.target.closest('li');\n    if (!item) return;\n\n    refs.btnSearch.querySelector('.dropdown-label').textContent =\n      item.textContent;\n    refs.btnSearch.dataset.value = item.dataset.value;\n\n    tlOpen.pause(0);\n    tlClose.restart();\n    document.removeEventListener('click', outsideClickHandler);\n  }); */\n}\n\nfunction initReset() {\n  const handleResetQuery = async () => {\n    query = { name: '', page: 1, sorted: 0, genre: '' };\n    refs.btnGenres.querySelector('.dropdown-label').textContent = 'Genre';\n    refs.btnSort.querySelector('.dropdown-label').textContent = 'Sorting';\n    refs.searchInput.value = '';\n\n    showLoaderArtists();\n    try {\n      refs.artistsList.innerHTML = '';\n      // loadArtists();\n      const { artists } = await searchArtist(query);\n      renderArtists(artists);\n    } catch (err) {\n      toastError(`Silence due problem ${err}`);\n    }\n    hideLoaderArtists();\n\n    timeLines.tlCloseGenres.play(0);\n    timeLines.tlCloseSort.play(0);\n  };\n\n  refs.resetBtn.addEventListener('click', handleResetQuery);\n}\n\nfunction execHeroBtnClick() {\n  refs.heroBtn.addEventListener('click', e => {\n    e.preventDefault();\n    document.querySelector('#artists').scrollIntoView({ behavior: 'smooth' });\n  });\n}\n\nfunction helpClearHoverOnButtons() {\n  document.querySelectorAll('button').forEach(btn => {\n    btn.addEventListener('click', () => {\n      btn.blur(); // знімає focus після кліку\n    });\n  });\n}\n\n/* async function searching() {\n  try {\n    const { artists } = await searchArtist(query);\n    refs.artistsList.innerHTML = '';\n    renderArtists(artists);\n  } catch (err) {\n    toastError(`Silence due problem ${err}`);\n  }\n  return artists;\n} */\n\n/* == Universal function for sort-genres dropdowns with array == */\n/* function initDropdown({ btn, menu, wrapperSelector }) {\n  const icon = btn.querySelector('.dropdown-icon');\n  const tlOpen = gsap.timeline({ paused: true });\n  const tlClose = gsap.timeline({ paused: true });\n\n  const outsideClickHandler = e => {\n    if (!document.querySelector(wrapperSelector).contains(e.target)) {\n      tlClose.restart();\n      btn.classList.remove('open');\n      menu.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  };\n\n  tlOpen\n    .to(icon, { rotate: 180, duration: 0.35, ease: 'power2.out' }, 0)\n    .fromTo(\n      menu,\n      { opacity: 0, y: -10, pointerEvents: 'none' },\n      {\n        opacity: 1,\n        y: 0,\n        duration: 0.4,\n        pointerEvents: 'auto',\n        ease: 'power3.out',\n      },\n      0\n    )\n    .from(\n      menu.children,\n      {\n        opacity: 0,\n        y: -6,\n        stagger: 0.05,\n        duration: 0.25,\n        ease: 'power2.out',\n      },\n      0.1\n    );\n\n  tlClose.to(icon, { rotate: 0, duration: 0.3, ease: 'power2.in' }, 0).to(\n    menu,\n    {\n      opacity: 0,\n      y: -10,\n      duration: 0.3,\n      pointerEvents: 'none',\n      ease: 'power2.in',\n    },\n    0\n  );\n\n  btn.addEventListener('click', e => {\n    e.stopPropagation();\n    const isOpen = menu.classList.contains('open');\n\n    // Closing others:\n    if (!isOpen) {\n      allDropdowns.forEach(d => {\n        if (d.menu !== menu) {\n          d.tlOpen.pause(0);\n          d.tlClose.pause(0).play(0);\n          d.btn.classList.remove('open');\n          d.menu.classList.remove('open');\n        }\n      });\n\n      tlClose.pause(0);\n      tlOpen.pause(0).play(0);\n      btn.classList.add('open');\n      menu.classList.add('open');\n      document.addEventListener('click', outsideClickHandler, { once: true });\n      // document.body.classList.add('no-scroll');\n    } else {\n      tlOpen.pause(0);\n      tlClose.pause(0).play(0);\n      btn.classList.remove('open');\n      menu.classList.remove('open');\n      // document.body.classList.remove('no-scroll');\n    }\n  });\n\n  menu.addEventListener('click', e => {\n    const item = e.target.closest('li');\n    if (!item) return;\n\n    btn.querySelector('.dropdown-label').textContent = item.textContent;\n    btn.dataset.value = item.dataset.value;\n\n    tlOpen.pause(0);\n    tlClose.restart();\n    btn.classList.remove('open');\n    menu.classList.remove('open');\n    // document.body.classList.remove('no-scroll');\n  });\n\n  // Saving for closing others in future:\n  allDropdowns.push({ btn, menu, tlOpen, tlClose });\n} */\n\n/* initDropdown({\n  btn: refs.btnGenres,\n  menu: refs.menuGenres,\n  wrapperSelector: '.artists-dropdown-genres',\n});\n\ninitDropdown({\n  btn: refs.btnSort,\n  menu: refs.menuSort,\n  wrapperSelector: '.artists-dropdown-sort',\n}); */\n","/* Feedback */\n\nimport Swiper from 'swiper';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\nimport 'swiper/css/navigation';\n\nimport { getFeedbacks } from './artists-api';\nimport { refs } from './refs';\nimport { Pagination, Navigation } from 'swiper/modules';\n\n// ! ===========================================================================================\n\nfunction renderRating(rating) {\n  const val = normalizeRating(rating);\n  const { full, frac } = splitRating(val);\n  const percents = starPercents(full, frac, 5);\n  const stars = renderStars(percents);\n  const label = ariaLabelForRating(val, frac);\n\n  return `\n    <div class=\"rating\" role=\"img\" aria-label=\"Rating ${label}\">\n      ${stars}\n    </div>`;\n}\n\nfunction feedbackTemplate({ descr, name, rating }) {\n  return `\n    <div class=\"swiper-slide feedback-card\">\n      ${renderRating(rating)}\n      <p class=\"feedback-text\">\"${descr}\"</p>\n      <p class=\"feedback-author\">${name}</p>\n    </div>`;\n}\n\nfunction createFeedbacks(feedbacks) {\n  const markup = feedbacks.map(feedbackTemplate).join('');\n  refs.feedbacksContainer.insertAdjacentHTML('beforeend', markup);\n}\n\n// TODO ======================================\n\nfunction normalizeRating(input) {\n  const n = Number(input);\n  if (Number.isNaN(n)) return 0;\n  return Math.min(5, Math.max(0, n));\n}\n\nfunction splitRating(val) {\n  const full = Math.floor(val);\n  const frac = val - full;\n  return { full, frac };\n}\n\nfunction starPercents(full, frac, maxStars = 5) {\n  return Array.from({ length: maxStars }, (_, i) => {\n    if (i < full) return 100;\n    if (i === full) return Math.round(frac * 100);\n    return 0;\n  });\n}\n\nfunction renderStar(percent) {\n  return `\n    <span class=\"star\" style=\"--p:${percent}%\">\n      <svg class=\"star-base\" width=\"20\" height=\"20\" aria-hidden=\"true\">\n        <use href=\"img/icons.svg#icon-star\"></use>\n      </svg>\n      <svg class=\"star-fill\" width=\"20\" height=\"20\" aria-hidden=\"true\">\n        <use href=\"img/icons.svg#icon-star\"></use>\n      </svg>\n    </span>`;\n}\n\nfunction renderStars(percents) {\n  return percents.map(renderStar).join('');\n}\n\nfunction ariaLabelForRating(val, frac) {\n  return frac === 0\n    ? `${Math.floor(val)} out of 5`\n    : `${val.toFixed(1)} out of 5`;\n}\n\n// ! ===========================================================================================\n\nlet swiperInstance = null;\n\nasync function renderFeedbacks() {\n  try {\n    if (swiperInstance) return;\n\n    const fontsReady = document.fonts?.ready ?? Promise.resolve();\n    const resp = await getFeedbacks(1);\n    await fontsReady;\n\n    const list = Array.isArray(resp?.data) ? resp.data : [];\n    createFeedbacks(list);\n\n    swiperInstance = new Swiper('.swiper', {\n      modules: [Pagination, Navigation],\n      slidesPerView: 1,\n      spaceBetween: 30,\n      observer: true,\n      observeParents: true,\n\n      pagination: {\n        el: '.swiper-pagination',\n        clickable: false,\n        renderBullet: renderCustomBullets,\n      },\n\n      navigation: {\n        nextEl: '.swiper-button-next',\n        prevEl: '.swiper-button-prev',\n      },\n\n      on: { slideChange: handleSlideChange },\n    });\n\n    handleSlideChange(swiperInstance);\n    swiperInstance.update();\n\n    const section = document.querySelector('#reviews');\n    section?.classList.add('is-ready');\n    section?.setAttribute('role', 'region');\n    section?.setAttribute('aria-label', 'User feedback carousel');\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nrenderFeedbacks();\n\n// ! ===========================================================================================\n\nfunction renderCustomBullets(index, className) {\n  return index < 3 ? `<span class=\"${className}\"></span>` : '';\n}\n\n// ! ===========================================================================================\n\nfunction handleSlideChange(swiper) {\n  updateNavigationButtons(swiper);\n  updateBullets(swiper);\n}\n\nfunction updateNavigationButtons(swiper) {\n  const prevBtn = document.querySelector('.swiper-button-prev');\n  const nextBtn = document.querySelector('.swiper-button-next');\n\n  prevBtn.classList.toggle('swiper-button-disabled', swiper.activeIndex === 0);\n  nextBtn.classList.toggle(\n    'swiper-button-disabled',\n    swiper.activeIndex === swiper.slides.length - 1\n  );\n}\n\nfunction updateBullets(swiper) {\n  const bullets = document.querySelectorAll('.swiper-pagination span');\n  if (!bullets.length) return;\n\n  bullets.forEach(b => b.classList.remove('swiper-pagination-bullet-active'));\n\n  if (bullets.length === 1) {\n    bullets[0].classList.add('swiper-pagination-bullet-active');\n    return;\n  }\n\n  const isFirst = swiper.activeIndex === 0;\n  const isLast = swiper.activeIndex === swiper.slides.length - 1;\n\n  if (bullets.length >= 3) {\n    (isFirst ? bullets[0] : isLast ? bullets[2] : bullets[1]).classList.add(\n      'swiper-pagination-bullet-active'\n    );\n  } else {\n    (isFirst ? bullets[0] : bullets[1]).classList.add(\n      'swiper-pagination-bullet-active'\n    );\n  }\n}\n\n// ! ===========================================================================================\n","/* Artist details modal */\n\nimport { getArtistAlbumsById, getArtistById } from \"./artists-api\";\nimport { toastError } from \"./helpers\";\nimport { refs } from \"./refs\";\n\n\nfunction openModal() {\n    refs.artistDetailsModal.classList.add('modal--is-open');\n    document.body.style.overflow = 'hidden';\n    window.addEventListener('keydown', onEcsKeyPress);\n    refs.artistDetailsModal.addEventListener('click', onBackdropClick);\n}\n\nfunction closeModal() {\n    refs.artistDetailsModal.classList.remove('modal--is-open');\n    document.body.style.overflow = '';\n    window.removeEventListener('keydown', onEcsKeyPress);\n    refs.artistDetailsModal.removeEventListener('click', onBackdropClick);\n}\n\nfunction onEcsKeyPress(e) {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === refs.artistDetailsModal) {\n    closeModal();\n  }\n}\n\nfunction showLoader() {\n    refs.loader?.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n    refs.loader?.classList.add('is-hidden');\n}\n\nasync function showArtistDetails(artistId) {\n    \n    try {\n        showLoader();\n        \n        const artist = await getArtistById(artistId);\n        let albums = await getArtistAlbumsById(artistId);\n        \n        if(!Array.isArray(albums)) {\n            albums = albums?.albums || [];\n        }\n\n        const { \n            startYear, \n            endYear, \n            name, \n            image, \n            gender, \n            members, \n            country, \n            biography, \n            genres, \n        } = artist;\n   \n        let years;\n        if (startYear && endYear) {\n        years = `${startYear} - ${artist.endYear}`;\n        } else if (startYear && !endYear) {\n        years = `${startYear} - present`;\n        } else {\n        years = 'information missing';\n        }\n\n        const markup = `\n        <div class=\"artist-details-modal-content\">\n            <button class=\"artist-details-modal-close-btn\" type=\"button\">\n                <svg class=\"modal-svg\" width=\"14\" height=\"14\">\n                    <use href=\"/src/img/icons.svg#icon-close\"></use>\n                </svg>\n            </button> \n\n            <h2 class=\"artist-details-modal-main-title\">${name}</h2>\n            <div class=\"artist-details-modal-main-block\">\n            <img class=\"artist-details-modal-img\" src=\"${image}\" alt=\"${artist.name}\" />\n\n            <ul class=\"artist-details-modal-list\">\n            <li class=\"artist-details-modal-list-item\">\n                <h3 class=\"artist-details-modal-title\">Years active</h3>\n                <p  class=\"artist-details-modal-text\">${years}</p>\n            </li>\n            ${gender ? `\n                <li class=\"artist-details-modal-list-item\">\n                    <h3 class=\"artist-details-modal-title\">Sex</h3>\n                    <p class=\"artist-details-modal-text\">${gender}</p>\n                </li>\n                ` : ''}\n            ${members ? `\n                <li class=\"artist-details-modal-list-item\">\n                    <h3 class=\"artist-details-modal-title\">Members</h3>\n                    <p class=\"artist-details-modal-text\">${members.length}</p>\n                </li>\n                ` : ''}\n            <li class=\"artist-details-modal-list-item\">\n                <h3 class=\"artist-details-modal-title\">Country</h3>\n                <p class=\"artist-details-modal-text\">${country}</p>\n            </li>\n            <li class=\"artist-details-modal-list-item\">\n                <h3 class=\"artist-details-modal-title\">Biography</h3>\n                <p class=\"artist-details-modal-text\">${biography}</p>\n            </li>\n            </ul>\n           \n            <ul class=\"artist-details-modal-block-genres\">\n            <li class=\"artist-details-modal-block-genres-item\">\n                <p class=\"artist-details-modal-genres\">${genres}</p>\n            </li>\n            </ul>\n            </div>\n\n            <h3 class=\"artist-details-modal-albums\">Albums</h3>\n            ${albums.length > 0 ? albums.map(album => `\n            <div class=\"artist-details-modal-albums-list\">\n                <h4 class=\"artist-details-modal-albums-list-title\">${album.title}</h4>\n                <table>\n                <thead class=\"artist-details-modal-albums-list-table-head\">\n                    <tr>\n                    <th class=\"artist-details-modal-albums-list-table col-1\">Track</th>\n                    <th class=\"artist-details-modal-albums-list-table col-2\">Time</th>\n                    <th class=\"artist-details-modal-albums-list-table col-3\">Link</th>\n                    </tr>\n                </thead>\n                <tbody class=\"artist-details-modal-albums-list-table-body\">\n                    ${album.tracks?.map(track => `\n                    <tr>\n                        <td class=\"artist-details-modal-albums-list-table-text col-1\">${track.title}</td>\n                        <td class=\"artist-details-modal-albums-list-table-text col-2\">${track.duration}</td>\n                        <td class= \"col-3\">\n                            ${track.youtubeLink ? `\n                                <a class=\"modal-link-youtube\" href=\"${track.youtubeLink}\" target=\"_blank\">\n                                    <svg class=\"modal-youtube\" width=\"20\" height=\"14\">\n                                        <use href=\"/src/img/icons.svg#icon-youtube\"></use>\n                                    </svg>\n                                </a>\n                            ` : ''}\n                        </td>\n                    </tr>\n                    `).join('') || ''}\n                </tbody>\n                </table>\n            </div>\n            `).join('') : '<p>No albums found</p>'}\n        </div>\n        `;\n\n        refs.artistDetailsModal.innerHTML = `\n        <button class=\"artist-details-modal-close-btn\" type=\"button\">\n            <svg class=\"modal-svg\" width=\"14\" height=\"14\">\n            <use href=\"/src/img/icons.svg#icon-close\"></use>\n            </svg>\n        </button>\n        ${markup}\n        `;\n\n        const closeBtn = refs.artistDetailsModal.querySelector('.artist-details-modal-close-btn');\n        closeBtn.addEventListener('click', closeModal);\n  \n        openModal();\n\n    } catch (err) {\n        // toastError(err.message);\n        console.log(err);\n    } finally {\n        hideLoader();\n    }\n}\n\n\nrefs.artistsList.addEventListener('click', e => {\n    const btn = e.target.closest('.artist-cta');\n    if(!btn) return;\n    \n    const artistId = btn.dataset.artistId;\n    if(artistId) {\n    showArtistDetails(artistId);\n    }\n});\n\n\n\n","const stars = document.querySelectorAll('#myRating svg');\nconst hiddenInput = document.getElementById('ratingValue');\n\nstars.forEach((star, idx) => {\n  star.innerHTML = `<path d=\"M12 .587l3.668 7.431 8.2 1.192-5.934 5.787 \n  1.402 8.173L12 18.897l-7.336 3.86 \n  1.402-8.173L.132 9.21l8.2-1.192z\"/>`;\n  star.style.fill = '#ffff';\n  star.style.cursor = 'pointer';\n  star.addEventListener('click', () => {\n    hiddenInput.value = idx + 1;\n    stars.forEach((s, i) => s.style.fill = i <= idx ? '#764191' : '#ffff');\n  });\n});\n\nconst closeBtn = document.querySelector('.feedback-modal-close');\nconst backdrop = document.querySelector('.feedback-backdrop');\n\ncloseBtn.addEventListener('click', ()=> {\n    backdrop.classList.remove('is-open');\n    document.body.style.overflow = '';\n});\n\nbackdrop.addEventListener('click', (e) => {\n    if(e.target === backdrop) {\n        backdrop.classList.remove('is-open');\n        document.body.style.overflow = '';\n    }\n});\n\nconst openBtn = document.querySelector('.leave-feedback-button');\nopenBtn.addEventListener('click', ()=> {\n    backdrop.classList.add('is-open');\n    document.body.style.overflow = 'hidden';\n});\n\n\n\n\n\n","const scrollBtn = document.querySelector('.scroll-to-top');\n\nlet lastScroll = window.scrollY;\nlet isVisible = false;\nlet scrollTimeout;\nlet hideTimeout;\n\nwindow.addEventListener('scroll', () => {\n  clearTimeout(scrollTimeout);\n\n  scrollTimeout = setTimeout(() => {\n    const currentScroll = window.scrollY;\n    const scrollingUp = currentScroll < lastScroll - 70;\n    const scrolledToBottom =\n      window.innerHeight + currentScroll >= document.body.offsetHeight - 10;\n\n    const shouldShow = scrolledToBottom || (scrollingUp && currentScroll > 350);\n\n    if (shouldShow && !isVisible) {\n      scrollBtn.classList.add('visible');\n      isVisible = true;\n\n      clearTimeout(hideTimeout);\n      hideTimeout = setTimeout(() => {\n        scrollBtn.classList.remove('visible');\n        isVisible = false;\n      }, 2000);\n    } else if (!shouldShow && isVisible) {\n      scrollBtn.classList.remove('visible');\n      isVisible = false;\n      clearTimeout(hideTimeout);\n    }\n\n    lastScroll = currentScroll;\n  }, 70);\n});\n\nscrollBtn.addEventListener('click', () => {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n});\n"],"names":["refs","BASE_URL","API_ENDPOINTS","ARTISTS_PER_PAGE","FEEDBACKS_PER_QUEUE","toastError","message","position","iziToast","hideLoaderArtists","showLoaderArtists","page","toggleBtn","mobileMenu","menuLinks","openMenu","closeMenu","link","axios","getArtists","data","getArtistById","id","getArtistAlbumsById","getFeedbacks","getGenres","searchArtist","name","sorted","genre","isMobile","visiblePages","pager","inFlight","loadArtists","init","payload","artists","totalArtists","renderArtists","Pagination","next","nextPayload","scrollToArtistsTop","e","markup","_id","strArtist","strArtistThumb","strBiographyEN","genres","img","tagsHtml","g","anchor","reduced","timeLines","gsap","_a","query","initGenresMarkup","initSearchAndFilters","initSearchRequest","initSort","initGenres","initReset","execHeroBtnClick","helpClearHoverOnButtons","handleSearchBtnRequest","err","outsideClickHandler","item","handleResetQuery","btn","renderRating","rating","val","normalizeRating","full","frac","splitRating","percents","starPercents","stars","renderStars","ariaLabelForRating","feedbackTemplate","descr","createFeedbacks","feedbacks","input","n","maxStars","_","i","renderStar","percent","swiperInstance","renderFeedbacks","fontsReady","resp","list","Swiper","Navigation","renderCustomBullets","handleSlideChange","section","index","className","swiper","updateNavigationButtons","updateBullets","prevBtn","nextBtn","bullets","b","isFirst","isLast","openModal","onEcsKeyPress","onBackdropClick","closeModal","showLoader","hideLoader","showArtistDetails","artistId","artist","albums","startYear","endYear","image","gender","members","country","biography","years","album","track","hiddenInput","star","idx","s","closeBtn","backdrop","openBtn","scrollBtn","lastScroll","isVisible","scrollTimeout","hideTimeout","currentScroll","scrollingUp","shouldShow"],"mappings":"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"}